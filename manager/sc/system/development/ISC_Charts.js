
/*

  SmartClient Ajax RIA system
  Version v9.0p_2013-08-08/PowerEdition Development Only (2013-08-08)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_Charts){isc.module_Charts=1;isc._moduleStart=isc._Charts_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'Charts load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;if(window.isc&&isc.version!="v9.0p_2013-08-08/PowerEdition Development Only"){isc.logWarn("SmartClient module version mismatch detected: This application is loading the core module from SmartClient version '"+isc.version+"' and additional modules from 'v9.0p_2013-08-08/PowerEdition Development Only'. Mixing resources from different SmartClient packages is not supported and may lead to unpredictable behavior. If you are deploying resources from a single package you may need to clear your browser cache, or restart your browser."+(isc.Browser.isSGWT?" SmartGWT developers may also need to clear the gwt-unitCache and run a GWT Compile.":""))}
isc.ClassFactory.defineInterface("Chart").addInterfaceMethods({valueProperty:"_value",metricFacetId:"metric",stacked:false,isStacked:function(_1){return(_1||this).stacked},chartType:"Column",threeD:true,animateValuesOnShow:true,labelValues:false,setupChart:function(){if(this.facets!=null&&!isc.isAn.Array(this.facets)){this.facets=[this.facets]}
var _1=this.inlinedFacet=this.facets.find("inlinedValues",true);if(_1)_1.id=_1.id||"inlined";this.metricFacet=null;for(var i=0;i<this.facets.length;i++){var _3=this.facets[i];if(_3.id==this.metricFacetId)this.metricFacet=_3;this.deriveFacetValues(_3);_3.valueIds=_3.values.getProperty("id")}
if(!this.data)return},getFacetData:function(){if(this.facetData&&this.data==this.$78u)return this.facetData;var _1=this.data;if(!isc.isAn.Array(_1))return _1;var _2=[];for(var i=0;i<_1.length;i++){var _4=_1[i],_5=true;for(var j=0;j<this.facets.length;j++){var _7=this.facets[j];if(_7==this.inlinedFacet||_7.autoDerived)continue;if(!_7.valueIds.contains(_4[_7.id],null,this.$114u)){_5=false;break}}
if(_5)_2.add(_4)}
this.$78u=_1;return(this.facetData=_2)},$114u:Array.DATETIME_VALUES,deriveFacetValues:function(_1){if(_1.values&&!_1.autoDerived)return;var _2=this.$114u,_3=_1.id,_4=[];for(var i=0;i<this.data.getLength();i++){var _6=this.data.get(i)[_3];if(_4.findIndex("id",_6,_2)==-1){_4.add({id:_6,title:_6})}}
_1.autoDerived=true;_1.values=_4},getFacet:function(_1){return this.facets.find("id",_1)},getFacetValue:function(_1,_2){var _3=this.getFacet(_1);if(_3)return _3.values.find("id",_2,this.$114u)},isMultiFacet:function(){var _1=(this.facets&&this.facets.length)||0;return(_1>(this.metricFacet!=null?2:1))},getValue:function(_1,_2){var _3=this.getFacetData();if(_3==null)return null;_1=_1||{};if(_2==null)_2=this.multiCellData;var _4=this.getDataRecord(_1,_2);if(!_4)return null;return this.getValueFromRecord(_4,_1,_2)},getValueFromRecord:function(_1,_2,_3){if(_1==null)return null;if(!this.metricFacet){if(!this.inlinedFacet||(_2&&_2[this.inlinedFacet.id]!=null)){var _4=this.inlinedFacet?_2[this.inlinedFacet.id]:this.valueProperty;return _3?_1.getProperty(_4).map(parseFloat):parseFloat(_1[_4])}
var _5=isc.isAn.Array(_1)?_1:[_1],_6=[],_7=this.inlinedFacet.valueIds;for(var i=0;i<_5.length;i++){for(var j=0;j<_7.length;j++){_6.add(parseFloat(_5[i][_7[j]]))}}
if(!_3&&_6.length<2)return _6[0];else return _6}else{if(!this.inlinedFacet||this.metricFacetId!=this.inlinedFacet.id){this.logWarn("the metric facet must be an inlined facet");return null}
var _10=_2[this.metricFacet.id];if(!_10)_10=this.getDefaultMetric();return _3?_1.getProperty(_10).map(parseFloat):parseFloat(_1[_10])}},getDataRecord:function(_1,_2){var _3=this.getFacetData();if(!isc.isAn.Array(_3))return _3;if(_2==null)_2=this.multiCellData;if(!this.inlinedFacet){return(_2?_3.findAll(_1,null,this.$114u):_3.find(_1,null,this.$114u))}
var _4=isc.addProperties({},_1);delete _4[this.inlinedFacet.id];return(_2?_3.findAll(_4,null,this.$114u):_3.find(_4,null,this.$114u))},getDataSeries:function(_1,_2){var _3=isc.isAn.Object(_1)?_1:this.facets.find("id",_1);if(_2==null){_2={}}if(!isc.isAn.Object(_2)){var _4=_2;var _5=(_3==this.facets[0]?this.facets[1]:this.facets[0]);_2={};_2[_5.id]=_4}else{_2=isc.addProperties({},_2)}
var _6=[];for(var i=0;i<_3.values.length;i++){var _8=_3.values[i];_2[_3.id]=_8.id;var _9=this.getDataRecord(_2),_10=this.getValueFromRecord(_9,_2);_6.add({facetValueId:_8.id,title:_8.title||_8.id,value:_10,record:_9})}
return _6},getDefaultMetric:function(){return this.metricFacet?this.metricFacet.values.first().id:this.valueProperty},getMinValue:function(_1,_2,_3,_4){return this.getMaxValue(_1,_2,_3,_4,false)},getMaxValue:function(_1,_2,_3,_4,_5){_3=_3||this;if(_5==null)_5=true;if(!_1)_1=this.getDefaultMetric();var _6;if(_5){_6=_3.cachedMaxValues=_3.cachedMaxValues||{}}else{_6=_3.cachedMinValues=_3.cachedMinValues||{}}
if(!_2&&_6[_1]!=null)return _6[_1];var _7=(_3!=this);if(this.isMultiFacet()&&this.chartType!="Scatter"&&(!_7||_3.isMultiFacet())){var _8=this.facets[1],_9=this.facets[0],_10={};if(this.metricFacet)_10[this.metricFacet.id]=_1;var _11;for(var i=0;i<_9.values.length;i++){_10[_9.id]=_9.values[i].id;var _13=this.getDataSeries(_8,_10),_14=_13.getProperty("value"),_15;if(this.isStacked(_3)){if(_4){var _16=null;for(var j=0,_18=_14.length;j<_18;++j){var _19=_14[j];if(isc.isA.Number(_19)){if(_16==null){_15=_16=_19}else{_16+=_19;_15=(_5?Math.max(_15,_16):Math.min(_15,_16))}}}
if(_15==null)_15=0}else{_15=_14.sum()}}else{_15=(_5?_14.max():_14.min())}
if(i==0){_11=_15}else{_11=_5?Math.max(_11,_15):Math.min(_11,_15)}}
return(_6[_1]=_11)}else{var _20=null;if(this.chartType!="Scatter"&&_7&&this.isMultiFacet()){_20={};_20[this.facets[1].id]=_3.$1029.id}
if(this.metricFacet){_20=_20||{};_20[this.metricFacet.id]=_1}
var _14=this.getValue(_20,true);if(_14==null)return;return(_6[_1]=(_5?_14.max():_14.min()))}},setData:function(){}});isc.A=isc.Chart;isc.A.allChartTypes=[];isc.A=isc.Chart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$102g=function isc_c_Chart__mean(_1){return _1.sum()/_1.length},isc.A.$102h=function isc_c_Chart__variance(_1,_2,_3){var n=_1.length,_5=_3!=null?_3:isc.Chart.$102g(_1),_6=0;for(var i=n;i--;){var t=_1[i];_6+=t*t}
return(_6-n*_5*_5)/(_2?n:(n-1))},isc.A.$102i=function isc_c_Chart__standardDeviation(_1,_2,_3){return Math.sqrt(_1.$102h(_2,_3))},isc.A.$102j=function isc_c_Chart__range(_1){var n=_1.length;if(n==0){return null}else{var _3=_1[n-1],_4=_1[n-1];for(var i=n-1;i--;){var t=_1[i];_3=Math.min(t,_3);_4=Math.max(t,_4)}
return _4-_3}});isc.B._maxIndex=isc.C+4;if(isc.Flashlet){isc.ClassFactory.defineClass("FusionChart","Flashlet","Chart");isc.A=isc.FusionChart;isc.A.allChartTypes=["Area","Bar","Column","Pie","Doughnut","Line","Radar"];isc.A.singleSeriesChartTypes=["Area","Bar","Column","Pie","Doughnut","Line"];isc.A.singleOnlyChartTypes=["Doughnut","Pie"];isc.A.multiSeriesChartTypes=["Area","Bar","Column","Line","Radar"];isc.A.multiOnlyChartTypes=["Radar"];isc.A.stackedChartTypes=["Area","Bar","Column"];isc.A.threeDChartTypes=["Column","Bar","Pie"];isc.A.needsDimension=["Column","Bar","Pie","Doughnut","Area"];isc.A=isc.FusionChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.overflow="hidden";isc.A.redrawOnResize=true;isc.A.chartsBaseURL=isc.Page.getIsomorphicDir()+"../FusionCharts/Charts/";isc.A.fusionVersion="3.0";isc.A.dataColors=["CCCCFF","CCCC99","FFCCCC","FFFF99","CCFF99","FFCC99","FF0000","00FF00","0000FF","FF00FF","FFFF00","00FFFF","000000"];isc.A.codeBase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";isc.A.pluginsPage="http://www.macromedia.com/go/getflashplayer";isc.A.params={};isc.B.push(isc.A.getDataColor=function isc_FusionChart_getDataColor(_1){return this.dataColors[_1]||"FFFFFF"},isc.A.initWidget=function isc_FusionChart_initWidget(){this.Super("initWidget",arguments);this.setupChart();this.setChartProperties();this.$43w();this.setData()},isc.A.setSrc=function isc_FusionChart_setSrc(){if(this.chartURL){this.src=this.chartURL;return}
var _1=this.stacked&&isc.FusionChart.stackedChartTypes.contains(this.chartType);var _2,_3,_4=isc.FusionChart.needsDimension.contains(this.chartType);if(this.fusionVersion=="2.3"){_3="FC_2_3_";_2="Stckd";if(this.chartType=="Area"&&this.$43x){_2="Stkcd";_4=!_1}}else{_3="";_2="Stacked";if(this.chartType=="Area"&&this.$43x&&!_1){_4=false}}
var _5=isc.SB.create();_5.append(this.chartsBaseURL,_3,isc.FusionChart.multiOnlyChartTypes.contains(this.chartType)||(!this.$43x&&isc.FusionChart.singleSeriesChartTypes.contains(this.chartType))?"":_1?_2:"MS",this.chartType);if(_4){_5.append(this.threeD&&isc.FusionChart.threeDChartTypes.contains(this.chartType)&&!(this.fusionVersion=="2.3"&&this.chartType=="Bar")?"3D":"2D")}
_5.append(".swf")
this.src=_5.toString();this.logInfo("src set to: "+this.src)},isc.A.getInnerHTML=function isc_FusionChart_getInnerHTML(){this.setSrc();var _1=isc.SB.concat('&chartWidth=',this.getInnerWidth(),'&chartHeight=',this.getInnerHeight(),'&dataXML=',encodeURIComponent(this.getChartXML()));this.params.FlashVars=_1;return this.Super("getInnerHTML",arguments)},isc.A.getChartXML=function isc_FusionChart_getChartXML(){var _1=isc.SB.concat('<graph ',this.$263,'>',this.$264,this.$265,'</graph>');if(this.logIsDebugEnabled()){this.logWarn("chartXML: "+_1)}
return _1},isc.A.setChartProperties=function isc_FusionChart_setChartProperties(_1){if(!_1)_1=this.chartProperties;else this.chartProperties=_1;_1=isc.addProperties({caption:this.title,subCaption:this.subTitle,yAxisName:this.valueTitle,xAxisName:this.facets[0].title,animation:this.animateValuesOnShow,showValues:this.labelValues},this.chartProperties);var _2=isc.SB.create();for(var _3 in _1){if(_1[_3]===true){_2.append(_3,'="1" ')}else if(_1[_3]===false){_2.append(_3,'="0" ')}else if(_3.endsWith("olor")&&_1[_3].startsWith("#")){_2.append(_3,'="',_1[_3].substring(1),'" ')}else{_2.append(_3,'="',_1[_3],'" ')}}
this.$263=_2.toString();if(this.isDrawn())this.markForRedraw()},isc.A.$43w=function isc_FusionChart__generateCategoriesXML(_1){if(!_1)_1=this.facets[0].values;var _2=isc.SB.create();_2.append('<categories>');for(var i=0;i<_1.length;i++){if(_1[i].vLine){this.$768(_1[i],_2);continue}
_2.append('<category name="',isc.makeXMLSafe(_1[i].title||_1[i].id),'"');if(_1[i].longTitle){_2.append(' hoverText="',isc.makeXMLSafe(_1[i].longTitle),'"')}
if(_1[i].showTitle===false)_2.append(' showName="0"');_2.append('/>')}
_2.append('</categories>');this.$264=_2.toString();if(this.isDrawn())this.markForRedraw()},isc.A.$768=function isc_FusionChart__writeVLineXML(_1,_2){_2.append('<vLine');for(var _3 in _1){if(_3=="vLine")continue;_2.append(' ',_3,'="',isc.makeXMLSafe(_1[_3]),'"')}
_2.append('/>')},isc.A.setFacets=function isc_FusionChart_setFacets(_1){this.facets=_1;this.setupChart();this.$43w()},isc.A.setData=function isc_FusionChart_setData(_1,_2){var _1=this.data=_1||this.data;if(_1==null||(isc.isAn.Array(_1)&&_1.length==0)){return this.$265=""}
var _3=isc.SB.create();var _4=this.facets.first(),_5=_4.values,_6={};this.$43x=this.isMultiFacet();if(this.isMultiFacet()&&isc.FusionChart.singleOnlyChartTypes.contains(this.chartType))
{this.logWarn("'"+this.chartType+"' charts support one facet only; showing only first value for second facet");this.$43x=false;_6[this.facets[1].id]=this.facets[1].values[0].id}
if(this.$43x){var _7=this.facets[1],_8=_7.values;var _9='<set value="',_10='"',_11='/>';for(var i=0;i<_8.length;i++){_3.append('<dataset seriesname="',isc.makeXMLSafe(_8[i].title),'" color="',this.getDataColor(i),'">');for(var j=0;j<_5.length;j++){if(_5[j].vLine)continue;_6[_7.id]=_8[i].id||_8[i].name;_6[_4.id]=_5[j].id||_5[j].name;var _14=this.getValue(_6);_3.append(_9,_14,_10);var _15=this.getLink(_6,_14);if(_15)_3.append(' link="'+_15+'"');_3.append(_11)}
_3.append("</dataset>")}}else{for(var i=0;i<_5.length;i++){if(_5[i].vLine){this.$768(_5[j],_3);continue}
_6[_4.id]=_5[i].id||_5[i].name;var _14=this.getValue(_6);_3.append('<set value="',_14,'"');var _15=this.getLink(_6,_14);if(_15){_3.append(' link="'+_15+'"')}
_3.append(' name="',isc.makeXMLSafe(_5[i].title||_5[i].id),'"');_3.append(' color="',this.getDataColor(i),'"');if(_5[i].longTitle){_3.append(' hoverText="',isc.makeXMLSafe(_5[i].longTitle),'"')}
if(_5[i].showTitle===false)_3.append(' showName="0"');_3.append('/>')}}
this.$265=_3.toString();if(this.isDrawn())this.markForRedraw()},isc.A.getLink=function isc_FusionChart_getLink(_1,_2){},isc.A.setChartType=function isc_FusionChart_setChartType(_1){if(!isc.FusionChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{_1=this.chartType=_1||this.chartType;this.setData();if(this.isDrawn())this.markForRedraw()}},isc.A.setFusionVersion=function isc_FusionChart_setFusionVersion(_1){this.fusionVersion=_1;this.setSrc();if(this.isDrawn())this.markForRedraw()},isc.A.setStacked=function isc_FusionChart_setStacked(_1){this.stacked=_1;if(_1&&!isc.FusionChart.stackedChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support stacking")}else{if(this.isDrawn())this.markForRedraw()}},isc.A.setThreeD=function isc_FusionChart_setThreeD(_1){if(_1&&!isc.FusionChart.threeDChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support 3D effects")}else{this.threeD=_1;if(this.isDrawn())this.markForRedraw()}});isc.B._maxIndex=isc.C+15}
if(isc.DrawPane){isc.ClassFactory.defineClass("$983","DrawSector");isc.A=isc.$983.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.destroy=function isc__PieSeriesSector_destroy(){var _1=this.fillGradient;if(isc.isA.String(_1)){if(this.drawPane&&this.drawPane.gradients){_1=this.drawPane.gradients[_1];if(_1.$984)delete this.drawPane.gradients[_1]}}
if(isc.isAn.Object(_1)&&_1.$984){var _2=_1.$982;if(_2!=undefined){if(_2.parentNode)_2.parentNode.removeChild(_2);delete _1.$982}}
this.Super("destroy",arguments)});isc.B._maxIndex=isc.C+1;isc.ClassFactory.defineClass("FacetChart","DrawPane","Chart");isc.addGlobal("BarChart",isc.FacetChart);isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.defaultHeight=300;isc.A.defaultWidth=400;isc.A.overflow="hidden";isc.A.xGutter=30;isc.A.yGutter=80;isc.A.padding=5;isc.A.styleName="scChart";isc.A.chartType="Column";isc.A.stacked=null;isc.A.connected=true;isc.A.title="Chart";isc.A.showTitle=true;isc.A.titleProperties={fontSize:14};isc.A.valueAxisLabelProperties={fontSize:11};isc.A.dataAxisLabelProperties={fontSize:11};isc.A.axisLabelMargin=5;isc.A.pixelsPerGradation=28;isc.A.gradationLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.gradationLineProperties={lineWidth:1,lineColor:"#BBBBBB"};isc.A.gradationZeroLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.bandedBackground=true;isc.A.backgroundBandProperties={lineOpacity:0,fillColor:"#F7F7F7"};isc.A.showRadarGradationLabels=true;isc.A.radarGradationLabelOffset=2;isc.A.expectedValueLineProperties={lineWidth:1,lineColor:"#333333"};isc.A.standardDeviationLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.useSymmetricStandardDeviations=true;isc.A.standardDeviations=[-1,1];isc.A.standardDeviationBandProperties=[];isc.A.regressionLineProperties={lineWidth:1,lineColor:"#0000EE"};isc.A.regressionLineType="line";isc.A.regressionPolynomialDegree=3;isc.A.dataPointSize=5;isc.A.dataPointProperties={fillColor:"#FFFFFF",lineWidth:1};isc.A.pointShapes=["Oval","Square","Diamond","Triangle"];isc.A.logScale=false;isc.A.useLogGradations=false;isc.A.logBase=10;isc.A.logGradations=[1,2,4,6,8];isc.A.showChartRect=false;isc.A.chartRectProperties={rounding:0.02,lineWidth:1,lineColor:"#111111",backgroundColor:"#CCCCCC",fillGradient:{x1:'0%',y1:'100%',x2:'100%',y2:'0%',colorStops:[{color:"#FFFFFF",offset:0.0},{color:"#FFFFFF",offset:0.5},{color:"#CCCCCC",offset:0.9},{color:"#C2c2c2",offset:1.0}]},shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.chartRectMargin=5;isc.A.dataMargin=10;isc.A.rotateLabels="auto";isc.A.dataLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.decimalPrecision=2;isc.A.zoomChartDefaults={canZoom:false,padding:0,showTitle:false,showValueAxisLabel:false,showDataAxisLabel:false,axisLabelMargin:0,showDataPoints:false,showChartRect:false,chartRectMargin:0,dataMargin:0,rotateLabels:"never",showLegend:false,legendMargin:0,legendPadding:0,$1057:false,bandedBackground:false,pixelsPerGradation:40,showInlineLabels:true,useAutoGradients:false};isc.A.$1057=true;isc.A.$1058=true;isc.A.zoomSelectionChartDefaults={canZoom:false,padding:0,showTitle:false,showValueAxisLabel:false,showDataAxisLabel:false,axisLabelMargin:0,showDataPoints:false,showChartRect:false,chartRectMargin:0,dataMargin:0,rotateLabels:"never",showLegend:false,legendMargin:0,legendPadding:0,$1057:false,bandedBackground:false,pixelsPerGradation:40,showInlineLabels:true,useAutoGradients:false};isc.A.zoomShowSelection=true;isc.A.zoomChartSliderDefaults={};isc.A.zoomChartHeight=100;isc.A.colorMutePercent=0;isc.A.zoomMutePercent=-35;isc.A.showInlineLabels=false;isc.A.showGradationsOverData=false;isc.A.legendMargin=10;isc.A.legendPadding=5;isc.A.legendSwatchSize=16;isc.A.legendSwatchProperties={lineWidth:1,lineColor:"#000000"};isc.A.legendTextPadding=5;isc.A.legendItemPadding=5;isc.A.legendRowPadding=5;isc.A.showLegendRect=false;isc.A.legendRectProperties={lineWidth:1,lineColor:"#333333"};isc.A.legendLabelProperties={fontFamily:"Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#333333"};isc.A.showShadows=true;isc.A.shadowProperties={fillColor:"#333333",lineWidth:1.1};isc.A.barMargin=4;isc.A.minBarThickness=4;isc.A.maxBarThickness=150;isc.A.clusterMarginRatio=4;isc.A.barProperties={fillColor:"#FFCCCC",lineWidth:1,opacity:0.5,lineColor:"#333333"};isc.A.dataLineProperties={lineWidth:3,lineColor:"#333333",shadow:{blur:5,color:"#333333",offset:[2,3]}};isc.A.dataOutlineProperties={lineWidth:1,lineColor:"#333333"};isc.A.dataShapeProperties={lineWidth:0,lineOpacity:0,lineColor:"#333333",fillOpacity:0.5};isc.A.valueLineProperties={lineWidth:1,lineColor:"#BBBBBB"};isc.A.discontinuousLines=false;isc.A.singlePointMarkerSize=4;isc.A.maxDataPointSize=14;isc.A.minDataPointSize=3;isc.A.minKnobSize=isc.Browser.isTouch?10:6;isc.A.radarBackgroundProperties={lineWidth:1};isc.A.radialLabelOffset=5;isc.A.pieSliceProperties={lineOpacity:0,lineWidth:0.1};isc.A.pieBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.pieRingBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.showDoughnut=null;isc.A.doughnutRatio=0.2;isc.A.doughnutHoleProperties={lineWidth:0,fillColor:"white"};isc.A.pieLabelLineProperties={lineColor:"#111111",lineWidth:2};isc.A.pieLabelAngleStart=20;isc.A.pieLabelLineExtent=7;isc.A.errorBarWidth=6;isc.A.errorLineProperties={lineWidth:1};isc.A.errorBarColorMutePercent=-60;isc.A.canDrag=false;isc.A.cursor="auto";isc.A.hoverLabelProperties={fontFamily:"Arial",fontSize:12,fontWeight:"bold",fontStyle:" normal",lineColor:"#333333"};isc.A.hoverRectProperties={rounding:0.3,lineWidth:1,lineColor:"#333333",fillColor:"#ffffff",fillOpacity:0.85,shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.hoverLabelOffset=25;isc.A.brightenPercent=30;isc.A.valueAxisMargin=10;isc.A.gradationTickMarkLength=5;isc.A.tickMarkToValueAxisMargin=7;isc.A.extraAxisMetrics=[];isc.A.extraAxisSettings=[];isc.B.push(isc.A.isStacked=function isc_FacetChart_isStacked(_1){_1=_1||this;return _1.stacked!=null?_1.stacked:_1.chartType!="Line"},isc.A.isFilled=function isc_FacetChart_isFilled(_1){_1=_1||this;return _1.filled!=null?_1.filled:(_1.isMultiFacet()&&this.isStacked(_1))||_1.chartType=="Area"},isc.A.setShowScatterLines=function isc_FacetChart_setShowScatterLines(_1,_2){_2=_2||this;if(_2.chartType!="Scatter"){this.logWarn("showScatterLines property works only for charts of type Scatter")}else{_2.showScatterLines=_1;if(this.data)this.$105a(false)}},isc.A.setDataLineType=function isc_FacetChart_setDataLineType(_1,_2){_2=_2||this;if(_2.chartType!="Scatter"&&_2.chartType!="Line"){this.logWarn("dataLineType property works only for charts of type Scatter and Line")}else{_2.dataLineType=_1;if(this.data)this.$105a(false)}},isc.A.$1095=function isc_FacetChart__getDataLineType(_1){_1=_1||this;var _2=_1.chartType;if(_1.dataLineType=="smooth"&&!(_2=="Area"||_2=="Radar")){return"smooth"}else{return"straight"}},isc.A.$116c=function isc_FacetChart__canRotateLabels(){return(this.rotateLabels=="always"||(this.rotateLabels=="auto"&&!(isc.isA.Boolean(this.autoRotateLabels)&&this.autoRotateLabels==false)))},isc.A.$1059=function isc_FacetChart__getRequireZeroGradation(_1){_1=_1||this;return _1.$1058&&!_1.logScale},isc.A.shouldShowDoughnut=function isc_FacetChart_shouldShowDoughnut(){return this.showDoughnut||(this.chartType=="Doughnut"&&this.showDoughnut!==false)},isc.A.$1045=function isc_FacetChart__getCanMoveAxes(){return this.$1035()&&(this.canMoveAxes!=null?this.canMoveAxes:this.$1036().all.length>1)});isc.B._maxIndex=isc.C+9;isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.redrawOnResize=true;isc.A.allContentAndChildren=true;isc.A.$103i=[0.7,1.0,0.9,0.4,0.8,0.5,0.8];isc.A.$1046={getDataColor:function(_1){var _2=this.$103y;return _2.getDataColor.apply(_2,(this.$103z?[_1,this]:[_1+this.$1030,_2]))},getDataGradient:function(_1,_2,_3){var _4=this.$103y;return _4.getDataGradient.apply(_4,(this.$1031?[_1,this]:[_1+this.$1032,_2,_3,_4]))}};isc.A.$1047="#0000ff";isc.A.angleMargin=5;isc.A.$106a=5;isc.A.$106b=2;isc.A.$102k=null;isc.A.interactivePoints=true;isc.A.useAutoGradients=true;isc.A.dataColors=["#df5545","#7ae02d","#4d89f9","#2de0e0","#e0e02d","#e02de0","#FF9933","#99FF33","#9933FF","#639966","#63CCCC","#6366FF","#800080","#999999","#FF00FF","#FFCC00","#00FF00","#00CCFF","#996366","#C0C0C0","#000000","#996100","#636300","#006300","#006366","#000080","#636399","#636363","#800000","#FF6600","#808000","#8000FF","#008080","#666699","#808080","#FF99CC","#FFCC99","#FFFF99","#CCFFCC","#CCFFFF","#99CCFF","#CC99FF","#FFFFFF"];isc.A.rotateProps={rotation:90};isc.A.$106c=4;isc.B.push(isc.A.getChartTop=function isc_FacetChart_getChartTop(){return this.$78t.height+this.chartRectMargin},isc.A.getChartHeight=function isc_FacetChart_getChartHeight(_1){return this.getInnerContentHeight()
-this.getChartTop()
-this.chartRectMargin
-Math.max(this.getXLabelsHeight(_1),this.$104e(_1))
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)},isc.A.$106f=function isc_FacetChart__getAvailableHeight(){return this.getInnerContentHeight()
-this.getChartTop()
-this.chartRectMargin
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)
-this.getAxisLabelSpace(false)},isc.A.getChartLeft=function isc_FacetChart_getChartLeft(){var _1=this.getYLabelsWidth()+this.chartRectMargin;if(this.$1035()&&this.$1057){var _2=this.$1036();var _3=_2.left,_4=_3.length;_1+=_3.getProperty("$104f").sum();_1+=_4*this.valueAxisMargin}
return _1},isc.A.getChartWidth=function isc_FacetChart_getChartWidth(_1){var _2=this.getInnerContentWidth()-this.getChartLeft()-this.chartRectMargin;if(this.$1035()&&this.$1057){var _3=this.$1036(),_4=_3.right,_5=_4.length;if(this.$104g()){_2-=this.getValueAxisLabelHeight(_4[0])}
_2-=_4.getProperty("$104f").sum();_2-=Math.max(0,_5-1)*this.valueAxisMargin}
return _2},isc.A.$106h=function isc_FacetChart__getAvailableWidth(){var _1=this.getInnerContentWidth()-2*this.chartRectMargin-this.getAxisLabelSpace(false);if(this.chartType=="Column"||this.chartType=="Bar"||this.chartType=="Line"||this.chartType=="Area")
{_1-=2*this.dataMargin}
if(this.$1035()&&this.$1057){var _2=this.$1036(),_3=_2.left.length,_4=_2.right.length;_1-=(_3+Math.max(0,_4-1))*this.valueAxisMargin;for(var i=_2.all.length;i--;){_1-=this.$1108(_2.all[i])}}
return _1},isc.A.$1108=function isc_FacetChart__getValueAxisExtraWidth(_1){if(_1==this||!this.$1057){return 0}else{var _2=((this.$104m(_1)&&this.$104n(_1).lineWidth)||0),_3=_2+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin;return _3}},isc.A.getDataAxisLength=function isc_FacetChart_getDataAxisLength(_1){if(this.chartType=="Radar")return this.getChartHeight(_1)/2;if(this.hasYGradations()){var _2=this.getChartHeight(_1);return _2}else{return this.getChartWidth()}},isc.A.$78g=function isc_FacetChart__drawChartRect(){var _1=this.getChartTop(),_2=this.getChartHeight(),_3=this.getChartLeft(),_4=this.getChartWidth();var _5=this.$778={top:_1,left:_3,width:_4,height:_2};if(this.showChartRect){this.drawRect(_3,_1,_4,_2,this.chartRectProperties)}},isc.A.getChartRect=function isc_FacetChart_getChartRect(){if(this.$778==null)this.logWarn("getChartRect(): chart rect not available yet");return this.$778},isc.A.getChartRectLineWidth=function isc_FacetChart_getChartRectLineWidth(){var _1=this.chartRectProperties;var _2=_1.lineWidth;if(_1.lineOpacity==0)_2=0;if(!this.showChartRect)_2=0;return _2},isc.A.getStackFacet=function isc_FacetChart_getStackFacet(){return this.$106i()[1]},isc.A.isPieChart=function isc_FacetChart_isPieChart(_1){_1=_1||this.chartType;return _1=="Pie"||_1=="Doughnut"},isc.A.hasYAxisLabels=function isc_FacetChart_hasYAxisLabels(){return this.chartType!="Radar"&&!this.isPieChart()},isc.A.setStacked=function isc_FacetChart_setStacked(_1,_2){_2=_2||this;_2.stacked=_1;if(this.data)this.$105a(false)},isc.A.setFilled=function isc_FacetChart_setFilled(_1,_2){_2=_2||this;_2.filled=_1;if(this.data)this.$105a(false)},isc.A.swapFacets=function isc_FacetChart_swapFacets(){var _1=this.$106i();if(_1){_1.reverse();this.setData(this.$106j())}},isc.A.setChartType=function isc_FacetChart_setChartType(_1,_2){_2=_2||this;if(!isc.FacetChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{var _3=(this.reversePieFacets&&this.isMultiFacet()&&(this.isPieChart(_2.chartType)||this.isPieChart(_1))),_4=(this.$106d(_2.chartType)!=this.$106d(_1));_2.chartType=_1;if(this.data){this.$105a(_3,_4)}}},isc.A.showContextMenu=function isc_FacetChart_showContextMenu(){var _1=this,_2=null;if(this.$1045()){var x=this.getOffsetX()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopPadding(),_5=this.$778;if(_5!=null){var _6=this.$1036(),_7=_6.all.length,_8=-_6.left.length,_9=_6.right.length;for(var j=0;j<_7;++j){var _11=_6.all[j],_12=this.$103v(_11),_13=_12+_11.$104f;if(_12<=x&&x<=_13&&y>=_5.top&&_11.$1048!=null&&y<=_11.$1048.getBoundingBox()[3])
{var _14=[],_15=this.$1049(_11);for(var i=_8;i<=_9;++i){if(i==0){continue}
var c=(i<0?_6.left[-i-1]:_6.right[i-1]);if(_11==c){continue}
var _18=this.$1049(c);var _19;if(c.valueTitle!=null){_19=c.valueTitle}else{var _20=this.metricFacet.values.find("id",c.$103o);_19=_20.title||_20.id}
_14.push({title:_19,click:"target.changeValueAxisPositions(["+_15+","+_18+","+_18+","+_15+"])"})}
if(!_14.isEmpty()){_2=[{title:"Swap Metric Axes",submenu:_14}];break}}}}}
if(_2!=null){}else if(this.$1035()){return true}else if(this.chartType=="Scatter"){var _21=!(this.showRegressionLine!=null&&this.showRegressionLine),_22=(!_21&&this.regressionLineType=="line"),_23=(!_21&&this.regressionLineType=="polynomial");_2=[{title:isc.FacetChart.regressionLinesContextMenuItemTitle,submenu:[{title:isc.FacetChart.hideRegressionLinesContextMenuItemTitle,click:"target.setShowRegressionLine(false)",checked:_21},{title:isc.FacetChart.linearRegressionLinesContextMenuItemTitle,click:"target.setRegressionLineType(\"line\"); target.setShowRegressionLine(true)",checked:_22},{title:isc.FacetChart.polynomialRegressionLinesContextMenuItemTitle,click:"target.setRegressionLineType(\"polynomial\"); target.setShowRegressionLine(true)",checked:_23},{title:isc.FacetChart.polynomialDegreeRegressionLinesContextMenuItemTitle,click:function(){var _24=function(_29){var _25=(_29==null);if(_25)return;var _26=isc.isA.emptyString(_29),_27;if(!_26){_27=parseInt(_29,10);_26=(!isc.isA.Number(_27)||_29!=_27.toString(10)||!_1.$112m(_27))}
if(_26){isc.warn(isc.FacetChart.invalidPolynomialDegreeMessage)}else if(_27!=_1.regressionPolynomialDegree){_1.setRegressionPolynomialDegree(_27);_1.setRegressionLineType("polynomial");_1.setShowRegressionLine(true)}};isc.askForValue(isc.FacetChart.polynomialDegreePrompt,_24,{defaultValue:_1.regressionPolynomialDegree})}}]}]}else{_2=[{title:"Chart Type",submenu:isc.FacetChart.allChartTypes.map(function(_29){return{title:_29,click:"target.setChartType('"+_29+"')",checked:_1.chartType==_29}})},{title:"Fill",submenu:[{title:"Filled",click:"target.setFilled(true)",checked:this.filled!=null&&this.filled},{title:"Unfilled",click:"target.setFilled(false)",checked:this.filled!=null&&!this.filled},{title:"Auto",click:"target.setFilled(null)",checked:this.filled==null}]}];if(this.$106i().length>1){_2.add({title:"Stack",submenu:[{title:"Stacked",click:"target.setStacked(true)",checked:this.stacked!=null&&this.stacked},{title:"Unstacked",click:"target.setStacked(false)",checked:this.stacked!=null&&!this.stacked},{title:"Auto",click:"target.setStacked(null)",checked:this.stacked==null}]});_2.add({title:"Swap Facets",click:"target.swapFacets()"})}}
if(this.$117r!=null){this.$117r.destroy()}
var _28=this.$117r=this.getMenuConstructor().create({data:_2});return _28.showContextMenu(this)},isc.A.initWidget=function isc_FacetChart_initWidget(){this.errorBarColorMutePercent=this.$105v(this.errorBarColorMutePercent,isc.FacetChart.getInstanceProperty("errorBarColorMutePercent"));this.colorMutePercent=this.$105v(this.colorMutePercent,isc.FacetChart.getInstanceProperty("colorMutePercent"));if(this.$106d()){this.allowContentAndChildren=true}
this.Super("initWidget",arguments);this.origDataGradients=this.dataGradients;this.dataGradients=isc.addProperties({},this.origDataGradients);this.isVML=this.drawingType=="vml";this.hasShadows=!this.isVML;if(this.facets&&this.facets.length>2&&this.chartType!="Scatter"&&!((this.chartType=="Line"||this.chartType=="Area")&&(this.highErrorMetric!=null||this.lowErrorMetric!=null))&&!(this.extraAxisMetrics!=null&&isc.isAn.Array(this.extraAxisMetrics)&&!this.extraAxisMetrics.isEmpty()))
{this.logWarn("The FacetChart \""+this.getID()+"\" has "+this.facets.length+" facets, but it is not a scatter plot and it does not have any extraAxisMetrics.  This is probably an error as the chart cannot utilize more than two facets.")}
this.$106k=true;if(this.$106l==null){this.setData(this.$106j())}else{this.$1037()}
this.$117l();var _1=this.createAutoChild("zoomChartSlider",{_constructor:"RangeSlider",autoDraw:"false",minValue:0,maxValue:1,startValue:0,endValue:1});this.$106e=_1.scrollbar.getHeight();_1.destroy();this.$35z=this.getWidth();this.$106o=this.getHeight()},isc.A.draw=function isc_FacetChart_draw(){if(isc.$cv)arguments.$cw=this;if(!this.readyToDraw())return this;this.Super("draw",arguments);this.drawChart();return this},isc.A.resized=function isc_FacetChart_resized(_1,_2,_3){this.Super("resized",arguments);if(this.$106d()){var _4=this.getWidth(),_5=this.getHeight();if(_4!=this.$35z){this.$35z=_4;this.$106k=true}
if(_5!=this.$106o){this.$106o=_5;if(this.$106p){var _6=this.$106q();this.zoomChart.setTop(_6);this.zoomChartSlider.setTop(_6);if(this.zoomShowSelection){this.$106r.setTop(_6)}}}}
if(this.$106l==null&&_3!="init"){this.$105a(false)}},isc.A.setFacets=function isc_FacetChart_setFacets(_1){this.facets=_1;var _2=this.$106j();if(_2&&_2.length>0)this.setupChart()},isc.A.setData=function isc_FacetChart_setData(_1){if(!_1)return;if(_1!=null&&!isc.isAn.Array(_1))_1=[_1];this.$106k=true;this.data=_1;if(!this.data||(isc.isAn.Array(this.data)&&this.data.length==0)){if(this.isDrawn())this.destroyItems();return}
this.setupChart();this.orderedData=null;delete this.$114q;delete this.$102o;delete this.$107n;if(this.zoomChart!=null){delete this.zoomChart.$107n}
if(this.zoomSelectionChart!=null){delete this.zoomSelectionChart.$107n}
var _2=this.getMaxValue(null,true);this.logInfo("setData: maxValue: "+_2);this.$1037();if(this.$106d()){if(this.zoomChart)this.zoomChart.$1037();if(this.zoomSelectionChart)this.zoomSelectionChart.$1037()}
this.$105a(false)},isc.A.$105a=function isc_FacetChart__redrawFacetChart(_1,_2){if(!isc.Browser.isIE||this.isDrawn()){this.$10k()}
if(!this.isDrawn())return;if(_1){this.orderedData=null;delete this.$114q}
delete this.cachedMaxValues;delete this.cachedMinValues;delete this.gradations;delete this.$117i;delete this.$106w;delete this.$85f;delete this.$85g;delete this.$106x;delete this.$107p;this.$106k=true;if(_2){this.$117l();delete this.$107n;delete this.$106p;if(this.$106z!=null){isc.Timer.clear(this.$106z);delete this.$106z}
if(this.$1061!=null){isc.Timer.clear(this.$1061);delete this.$1061}
if(this.zoomSelectionChart!=null){this.zoomSelectionChart.destroy();delete this.zoomSelectionChart}
if(this.$106r!=null){this.$106r.destroy();delete this.$106r}
if(this.zoomChart!=null){this.zoomChart.destroy();delete this.zoomChart}
if(this.zoomChartSlider!=null){this.ignore(this.zoomChartSlider,"changed");this.ignore(this.zoomChartSlider,"resized");this.zoomChartSlider.destroy();delete this.zoomChartSlider}}else{if(this.zoomChart!=null){this.zoomChart.setChartType(this.chartType);this.zoomChart.setStacked(this.stacked);this.zoomChart.setFilled(this.filled)}
if(this.zoomSelectionChart!=null){this.zoomSelectionChart.setChartType(this.chartType);this.zoomSelectionChart.setStacked(this.stacked);this.zoomSelectionChart.setFilled(this.filled)}}
delete this.$104j;delete this.$78k;delete this.$101c;delete this.$101d;if(this.$1035()){var _3=this.$1036().all;for(var i=0;i<_3.length;++i){var _5=_3[i];delete _5.cachedMaxValues;delete _5.cachedMinValues;delete _5.gradations;delete _5.$107p;delete _5.$101c;delete _5.$101d}}
this.xLabelsHeight=this.yLabelsWidth=null;this.drawChart()},isc.A.drawChart=function isc_FacetChart_drawChart(){this.drawTitle();if(this.shouldShowLegend())this.drawLegend();var _1=this.$106j();if(!isc.isAn.Array(_1)||_1.length==0)return;var _2=this.hasYGradations(),_3=this.hasXGradations();var _4,_5,_6,_7,_8,_9,_10,_11,_12;this.$106g=this.chartType!="Radar"&&!this.isPieChart();if(this.$106g){delete this.xLabelsHeight;delete this.yLabelsWidth;delete this.gradations;delete this.$106w;delete this.$106x;var _13=this.$106h(),_14=this.$106f(),_15=this.$104i(),_16=1+_15,_17=(_16>2?this.$1036().all:null),_18=this.$1109=new Array(_16),_19=_18[0]=this.$106t(false,this),_20=this.$1035(),_21=_20&&this.$104g(),_22=_20&&new Array(_16-1),_23=_20&&new Array(_16-1);_7=new Array(_15);for(var j=_16;--j;){var _25=(j==1?this:_17[j-2]),_26;if(_20){var _27=_23[j-1]=this.$1108(_25);if(!_21&&this.shouldShowValueAxisLabel(_25)){var _28=_22[j-1]=this.measureLabel(_25.valueTitle,_25.valueAxisLabelProperties).width;_26=Math.max(0,_28-_27)}else{_22[j-1]=0}}
_18[j]=this.$106t(true,_25,_26)}
var _29=this.$106v(_18,_19,_13,_14);var _30=_29.axisMeasures,_31=_29.axisWidths,_32=_29.axisHeights;var _33=_30[0],_34=_31[0],_35=_32[0];if(this.chartType=="Scatter"||_2){_5=false;_6=_19.rotateLabels(_33)}else{_5=_19.rotateLabels(_33);_6=false}
var _36;if(this.chartType=="Scatter"){var _37=_18[1],_38=_30[1],_39=_31[1],_40=_32[1];_4=true;_36=_39;var _41=_7[0]=_37.getLabelDataPairs(_39,_42,_38);_9=_41.getProperty("dataValue");_11=_37.logScale(_38);_8=_19.getLabelDataPairs(_34,_35,_33);_10=_8.getProperty("dataValue");_12=_19.logScale(_33)}else if(_3){var _37=_18[1],_38=_30[1],_39=_31[1],_42=_32[1];_4=false;_36=_39;var _41=_7[0]=_19.getLabelDataPairs(_34,_35,_33);_9=_41.getProperty("dataValue");_11=_19.logScale(_33);_8=_37.getLabelDataPairs(_39,_42,_38);_12=_37.logScale(_38);if(_37.useGradations(_38)){_10=_8.getProperty("dataValue")}}else{_4=true;var _43=_18[1],_44=_30[1],_45=_31[1],_46=_32[1];var _47=_7[0]=_43.getLabelDataPairs(_45,_46,_44);_9=_47.getProperty("dataValue");_36=_45;_11=_43.logScale(_44);this.$85f=this.measureLabels(_47.getProperty("label"),"width",this.gradationLabelProperties);this.$104f=_45;_8=_19.getLabelDataPairs(_34,_35,_33);_12=_19.logScale(_33);if(_19.useGradations(_33)){_10=_8.getProperty("dataValue")}
for(var j=2;j<_16;++j){var _48=_18[j],_25=_17[j-2],_49=_30[j],_50=_31[j],_51=_32[j];var _52=_7[j-1]=_48.getLabelDataPairs(_50,_51,_49);_25.gradations=_52.getProperty("dataValue");_25.$85f=this.measureLabels(_52.getProperty("label"),"width",_25.gradationLabelProperties);_25.$104f=_50+_23[j-1]}}
this.xLabelsHeight=_35+this.getAxisLabelSpace(false);this.yLabelsWidth=_36+this.getAxisLabelSpace(true);if(_9!=null)this.gradations=_9;if(_10!=null)this.$106w=_10;if(this.chartType=="Scatter"){this.$106x=this.$106w}else{this.$106x=_8.getProperty("label")}}else{this.measureDataLabels();this.$103m();this.measureGradationLabels(true)}
this.$78g();this.drawGradationLabels(_4,_7,_5);var _53=this.showGradationsOverData;this.$103n(_4,_9,false,_53);if(_10!=null){this.$103n(!_4,_10,_53)}
if(this.chartBackgroundDrawn){this.chartBackgroundDrawn()}
this.drawData(_10,_12,_8,(_6!=null?_6:this.$116c()));if(_53){this.drawGradations(_4,_9,true,false);if(_10!=null){this.drawGradations(!_4,_10,true,false)}}
this.drawDataAxisLabel();this.$104h();if(this.chartDrawn){this.chartDrawn()}
if(this.$106k&&this.$106d()){if(!this.$106p){this.$106y()}
var _54=this;if(this.$106z==null){this.$106z=isc.Timer.setTimeout(function(){delete _54.$106z;if(_54.$106p){var _55=_54.$1060(),_56=_54.$106q(),_57=_54.getChartWidth();_54.zoomChart.setRect(_55,_56,_57);_54.zoomChartSlider.setRect(_55,_56,_57);if(!_54.zoomChart.isDrawn()){_54.zoomChart.draw()}else{_54.zoomChart.$105a(false)}
if(_54.zoomShowSelection){if(_54.$1061==null){_54.$1061=isc.Timer.setTimeout(function(){delete _54.$1061;if(_54.$106p){var _56=_54.$106q(),_57=_54.getChartWidth();_54.$106r.setTop(_56);_54.zoomSelectionChart.setWidth(_57);if(!_54.zoomSelectionChart.isDrawn()){_54.zoomSelectionChart.draw()}else{_54.zoomSelectionChart.$105a(false)}}
_54.$106k=false},0)}}else{_54.$106k=false}}else{_54.$106k=false}},0)}}},isc.A.hasXGradations=function isc_FacetChart_hasXGradations(_1){return(_1||this.chartType)=="Bar"},isc.A.hasYGradations=function isc_FacetChart_hasYGradations(_1){return(_1||this.chartType)!="Bar"},isc.A.measureDataLabels=function isc_FacetChart_measureDataLabels(){if(this.hasYGradations()){this.getXLabelsHeight(true)}else{this.getYLabelsWidth(true)}},isc.A.erase=function isc_FacetChart_erase(_1,_2){this.$1002();if(this.knobs!=null){this.knobs.map("destroy")}
this.$1062=null;this.Super("erase",arguments);this.dataGradients=isc.addProperties({},this.origDataGradients)},isc.A.destroyItems=function isc_FacetChart_destroyItems(){this.$1063();this.$10k()},isc.A.$10k=function isc_FacetChart__destroyItems(){this.Super("destroyItems",arguments)},isc.A.getMultiMaxValue=function isc_FacetChart_getMultiMaxValue(_1){_1=_1||this;var _2=this.$1064();var _3=true;if(_1==this){if(this.chartType=="Scatter"&&this.getYAxisMetric()!=null){return this.getMaxValue(this.getYAxisMetric())}else if(!this.$1065()||!_2){return this.getMaxValue(null,null,null,_3)}else{return Math.max(this.getMaxValue(),this.getMaxValue(_2))}}else{return this.getMaxValue(_1.$103o,null,_1,_3)}},isc.A.getMultiMinValue=function isc_FacetChart_getMultiMinValue(_1){_1=_1||this;var _2=this.$1066();var _3=true;if(_1==this){if(this.chartType=="Scatter"&&this.getYAxisMetric()!=null){return this.getMinValue(this.getYAxisMetric())}else if(!this.$1065()||!_2){return this.getMinValue(null,null,null,_3)}else{return Math.min(this.getMinValue(),this.getMinValue(_2))}}else{return this.getMinValue(_1.$103o,null,_1,_3)}},isc.A.getMagnitude=function isc_FacetChart_getMagnitude(_1,_2,_3){_3=_3||this;if(_1==0)return 0;if(_2==null)_2=_3.logBase;var _4=this.logValue(_1,_2,_3);return Math.ceil(_4)},isc.A.getGradations=function isc_FacetChart_getGradations(_1){return this.$914(null,null,null,null,null,_1)},isc.A.$914=function isc_FacetChart__getGradations(_1,_2,_3,_4,_5,_6){_6=_6||this;_4=(_4!==false);if(_1==null||!isc.isA.Number(_1)){_1=this.getMultiMaxValue(_6)}
if(_2==null||!isc.isA.Number(_2)){_2=0}
var _7=_4&&this.shouldUseLogGradations(_6);if(_7){return this.getLogGradations(_1,this.getMultiMinValue(_6),_3,_6)}
if(!_3&&_6.gradations)return _6.gradations;var _5=_5||this.getDataAxisLength(true);var _8=Math.round(_5/this.pixelsPerGradation);if(_4){_2=this.getMultiMinValue(_6);if(_2>0)_2=0}
if(_4&&!this.$1035()){var _9=this.$1064(),_10=this.$1066();if(_10!=null){_1=Math.max(_1,this.getMaxValue(_10));_2=Math.min(_2,this.getMinValue(_10))}
if(_9!=null){_1=Math.max(_1,this.getMaxValue(_9));_2=Math.min(_2,this.getMinValue(_9))}}
var _11=_1-_2;var _12=this.getMagnitude(_11,10,_6);var _13=Math.pow(10,_12-1),_14=Math.pow(10,(_12-2));var _15=[_14,2*_14,5*_14,10*_14,2*_13,5*_13];var _16,_17=Number.MAX_VALUE;for(var i=0;i<_15.length;i++){var _19=_15[i],_20=Math.ceil(_11/_19),_21=Math.abs(_8-_20);if(_20<_8&&_21<_17){_16=_19;_17=_21}}
var _19=_16,_22=Math.floor(_2/_19)*_19,_23=(Math.ceil(_1/_19)-Math.floor(_2/_19)+1),_24=(_23==1),_20=[],_25;if(_24){_23=2}
for(var i=0;i<_23;i++){if(_6.logScale&&_7&&i==0){continue}
_25=_22+(i*_19);_20.add(_25)}
var _26=_5/_23;if(_4){_6.scale=_26/_19;_6.gradations=_20;_6.$117i=_24}
if(this.logIsDebugEnabled("chartScale")&&_6==this){this.logDebug("chose increment: "+_19+". "+_23+" gradations (ideal "+_8+"): "+_20,"chartScale")}
return _20},isc.A.$103m=function isc_FacetChart__calculateAllGradations(_1){var _2=true,_3=true;this.$914(null,null,_2,_3,_1,this);var _4=this.$1036();if(_4!=null){_4=_4.all;for(var i=0,_6=_4.length;i<_6;++i){var _7=_4[i];this.$914(null,null,_2,_3,_1,_7)}}},isc.A.logValue=function isc_FacetChart_logValue(_1,_2,_3){if(_2==null)_2=(_3||this).logBase;return Math.log(_1)/Math.log(_2)},isc.A.shouldUseLogGradations=function isc_FacetChart_shouldUseLogGradations(_1){_1=_1||this;if(_1.logScale==false)return false;if(_1.useLogGradations!=null)return _1.useLogGradations;return _1.logBase==10},isc.A.getLogGradations=function isc_FacetChart_getLogGradations(_1,_2,_3,_4){_4=_4||this;if(!_3&&_4.gradations)return _4.gradations;if(_2<0)this.logWarn("logarithmic scaling is not supported with negative values");var _5=this.getMagnitude(_1,null,_4),_6=this.getMagnitude(_2,null,_4);if(_4==this){this.logDebug("magnitude of max,min: "+[_5,_6],"chartScale")}
if((Math.pow(_4.logBase,_6-1)*_4.logGradations.first())>_2){_6--}
var _7=[];for(var i=_6-1;i<_5;i++){var _9=Math.pow(_4.logBase,i),_10=Math.pow(_4.logBase,Math.abs(i)+1);for(var j=0,_12=_4.logGradations.length;j<_12;j++){var _13=_9*_4.logGradations[j];if(_13<1){_13=Math.floor(_13*_10)/_10}
_7.add(_13)}}
_7.add(Math.pow(_4.logBase,_5));if(_4==this){this.logDebug("log gradations: "+_7,"chartScale")}
return(_4.gradations=_7)},isc.A.getMaxGradation=function isc_FacetChart_getMaxGradation(_1){_1=_1||this;return _1.gradations.last()},isc.A.$1067=function isc_FacetChart__getMinGradation(_1){_1=_1||this;var _2=_1.gradations.first();return _2},isc.A.measureGradationLabels=function isc_FacetChart_measureGradationLabels(){if(this.isPieChart()||this.chartType=="Radar"){this.$85f=this.$85g=0;return}
var _1=this.hasYGradations(),_2=this.gradationLabelProperties,_3=this.gradations.duplicate();for(var i=0;i<_3.length;i++){_3[i]=this.formatAxisValue(_3[i],!_1)}
if(_1){this.$85f=this.measureLabels(_3,"width",_2)}else{if(this.$116c()){this.$85g=this.measureLabels(_3,"width",_2)}else{this.$85g=this.measureLabel("Xy",_2).height}}},isc.A.getGradationsWidth=function isc_FacetChart_getGradationsWidth(){if(this.$85f==null)this.logWarn("Gradation width not available");return this.$85f},isc.A.getGradationsHeight=function isc_FacetChart_getGradationsHeight(){if(this.$85g==null)this.logWarn("Gradation height not available");return this.$85g},isc.A.drawGradationLabels=function isc_FacetChart_drawGradationLabels(_1,_2,_3){if(this.isPieChart()||this.chartType=="Radar")return;var _1=(_1==null?this.hasYGradations():_1===true);if(_1&&!this.$1057){return}
_3=(!_1&&(_3==null?this.$116c():_3===true));var _4=this.$1035(),_5=this.$1036(),_6=this.$104i(),_7;if(_1){_7=this.getAxisLabelSpace(true)}
for(var j=0;j<_6;++j){var _9=(j==0?this:_5.all[j-1]),_10=isc.addProperties({$104x:true},_9.gradationLabelProperties),_11=_9.gradations,_12=_9.$117i,_13=this.measureLabel("Xy",_10).height,_14=_2&&_2[j],_15=(_14==null),_16=(_15?(_12?1:_11.getLength()):_14.getLength());if(_1){var _17;if(_4){_17=this.$103p(_9)}else{_17=_7}
for(var i=0;i<_16;i++){var _19=this.getYCoord(_15?_11[i]:_14[i].dataValue,_9),_20=_15?_9.formatAxisValue(_11[i],!_1):_14[i].label;this.drawLabel(_17,_19-(_13/2),_20,_10)}}else{if(this.chartType=="Scatter"){_11=this.getSecondGradations()}
var _21=this.getChartTop()+this.getChartHeight();for(var i=0;i<_16;i++){var _22=_15?_11[i]:_14[i].dataValue,_17=this.getValueCoord(_22,false),_19=_21+this.chartRectMargin,_20=_15?this.formatAxisValue(_22,!_1):_14[i].label;if(_3){this.drawLabel(_17+this.getRotatedCenteringOffset(_13),_19,_20,_10,true,true)}else{var _23=this.measureLabel(_20,_10);this.drawLabel(_17-(_23.width/2),_19,_20,_10)}}}}},isc.A.getGradationLineWidth=function isc_FacetChart_getGradationLineWidth(){return this.gradationLineProperties.lineWidth},isc.A.drawGradations=function isc_FacetChart_drawGradations(_1,_2,_3,_4){this.logDebug("drawing gradations","chartDraw");_2=_2||this.gradations;if(this.isPieChart())return;if(this.chartType=="Radar")return this.drawRadarGradations(_2);_1=(_1==null?this.hasYGradations():_1===true);if(_1&&!this.$1057){return}
_3=_3||!(this.bandedBackground&&_1);var _5=!_4,_6=!_3;if(_4&&_3){return}
var _7=this.getChartRect(),_8=_1?_7.height:_7.width;var _9=this.getChartRectLineWidth();var i=0,_11=_2.length;if(_9!=0){i=1;_11-=1}
var _12,_13;if(!_1){if(this.hasXGradations()){_12=this.$1067();_13=this.getMaxGradation()}else if(this.chartType=="Scatter"){var _14=this.getXAxisMetric();_12=Math.min(0,this.getMinValue(_14));_13=this.getMaxValue(_14)}else{var _15=this.$1068();_12=_15[0].dataValue;_13=_15[1].dataValue;if(!(_15[0].index<_15[1].index)||_12==_13){return}}}
for(;i<_11;i++){if(_5){if(_1){var _16=_7.left+_9,_17=_7.left+_7.width-_9,_18=this.getYCoord(_2[i]),_19=(_2[i]==0);isc.DrawLine.create(_19?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,startLeft:_16,startTop:_18,endLeft:_17,endTop:_18,autoDraw:true})}else{var _16=this.$1069(_2[i],_12,_13,false);isc.DrawLine.create(this.gradationLineProperties,{drawPane:this,startLeft:_16,startTop:_7.top+_9,endLeft:_16,endTop:_7.top+_7.height-(2*_9),autoDraw:true})}}
if(_6&&(i%2==1)&&i!=(_2.length-1)){var _20=this.getYCoord(_2[i+1]),_21=_18-_20,_22=this.gradationLineProperties.lineWidth;isc.DrawRect.create(this.backgroundBandProperties,{drawPane:this,left:_16,top:_20+_22,width:_17-_7.left-_9*2,height:_21-(_22*2),autoDraw:true})}}});isc.evalBoundary;isc.B.push(isc.A.$103n=function isc_FacetChart__drawAllGradations(_1,_2,_3,_4){this.drawGradations(_1,_2,_3,_4);var _5=this.$1035();if(_5){var _6=this.$1036().all;for(var j=_6.length;j--;){var _8=_6[j],_2=_8.gradations,_9=this.$103q(_8),_10=_9+this.gradationTickMarkLength;for(var i=_2.length;i--;){var _12=this.getYCoord(_2[i],_8),_13=(_2[i]==0);isc.DrawLine.create(_13?_8.gradationZeroLineProperties:_8.gradationLineProperties,{drawPane:this,startLeft:_9,startTop:_12,endLeft:_10,endTop:_12,autoDraw:true})}
this.$104o(_8)}}},isc.A.getValueRatio=function isc_FacetChart_getValueRatio(_1,_2,_3,_4,_5){_5=_5||this;_4=_4!=null?_4:_5.logScale;if(_3==null||_2==null){var _6=_5.gradations;if(!_6.length)return 0;_2=_6.first();_3=_6.last()}
if(!_4){var _7=_3-_2;return(_1-_2)/_7}else{if(_1==0)return 0;var _8=this.logValue(_3,_5.logBase,_5),_9=_2==0?0:this.logValue(_2,_5.logBase,_5),_10=_8-_9;return(this.logValue(_1,_5.logBase,_5)-_9)/_10}},isc.A.getYCoord=function isc_FacetChart_getYCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&!this.hasYGradations(_3)){if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.y:null)}}else{return this.getValueCoord(_1,null,_2)}},isc.A.$111k=function isc_FacetChart__completeCriteria(_1,_2){_2=_2||this;var _3=this.getDataLabelFacet(),_4=this.getFacetValue(_3.id,_1[_3.id]),_5,_6={};if(_4==null){return null}else{_6[_3.id]=_4.id}
if(this.isMultiFacet()){_5=this.getLegendFacet();var _7=_2.chartType,_8=(_7=="Bar"||_7=="Column")&&!this.isStacked(_2),_9=_2.isMultiFacet()&&_8&&(_5.values.length>1);if(_9){var _10=this.getFacetValue(_5.id,_1[_5.id]);if(_10==null){return null}else{_6[_5.id]=_10.id}}else{_6[_5.id]=_5.values[0].id}}
var _11=(this.inlinedFacet!=null&&this.inlinedFacet!=_3&&this.inlinedFacet!=_5?this.inlinedFacet:null);if(_11!=null){var _9=(_11.values.length>1);if(_9){var _12=this.getFacetValue(_11.id,_1[_11.id]);if(_12==null){return null}else{_6[_11.id]=_11.values[0].id}}else{_6[_11.id]=_11.values[0].id}}
return _6},isc.A.getValueCoord=function isc_FacetChart_getValueCoord(_1,_2,_3){if(_2==null)_2=true;var _4=this.getValueRatio(_1,null,null,null,_3);var _5,_6;if(_2){_5=this.getChartTop();_6=this.getChartHeight();return _5+_6-Math.round(_4*_6)}else{_5=this.getChartLeft();_6=this.getChartWidth();return _5+Math.round(_4*_6)}},isc.A.getXCoord=function isc_FacetChart_getXCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&!this.hasXGradations(_3)){if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.x:null)}}else{return this.$1069(_1,null,null,null,_2)}},isc.A.$1069=function isc_FacetChart__getXCoord(_1,_2,_3,_4,_5){_5=_5||this;var _6=_5.chartType;if((_3==null||_2==null)&&_6=="Scatter"){var _7=this.getXAxisMetric();_2=Math.min(0,this.getMinValue(_7));_3=this.getMaxValue(_7)}
var _8=this.getValueRatio(_1,_2,_3,_4,_5),_9=this.getChartRect();return _9.left+Math.round(_8*_9.width)},isc.A.getDataLabels=function isc_FacetChart_getDataLabels(){if(this.$106x)return this.$106x;if(this.chartType=="Scatter")return(this.$106x=this.getSecondGradations());var _1=this.getOrderedData();return(this.$106x=_1.getProperty("title"))},isc.A.getDataLabelHeight=function isc_FacetChart_getDataLabelHeight(){return this.measureLabel("Xy",this.dataLabelProperties).height},isc.A.getXLabelsHeight=function isc_FacetChart_getXLabelsHeight(_1){if(!_1&&this.xLabelsHeight!=null)return this.xLabelsHeight;if(this.chartType=="Radar"||this.isPieChart()||this.showInlineLabels){return(this.xLabelsHeight=0)}
if(this.hasXGradations()){return this.getGradationsHeight()+this.getValueAxisLabelHeight()}
if(this.$116c()){this.xLabelsHeight=this.measureDataLabels()}else{this.xLabelsHeight=this.getDataLabelHeight()}
this.xLabelsHeight+=this.getDataAxisLabelHeight();return this.xLabelsHeight},isc.A.getYLabelsWidth=function isc_FacetChart_getYLabelsWidth(_1){if(!_1&&this.yLabelsWidth!=null)return this.yLabelsWidth;if(this.hasYGradations()){var _2=this.getGradationsWidth();if(this.$104g()){return _2+this.getValueAxisLabelHeight()}else{return this.$104f}}else{return(this.yLabelsWidth=this.measureDataLabels()+this.getDataAxisLabelHeight())}},isc.A.measureDataLabels=function isc_FacetChart_measureDataLabels(_1,_2){return this.measureLabels(null,_1,_2)},isc.A.measureLabels=function isc_FacetChart_measureLabels(_1,_2,_3){_1=_1||this.getDataLabels();_2=_2||"width";_3=_3||this.dataLabelProperties;var _4=0;for(var i=0;i<_1.length;i++){var _6=this.measureLabel(_1[i],_3)[_2];_4=Math.max(_4,_6)}
return _4},isc.A.$107a=function isc_FacetChart__getGradationLabelHeight(_1){_1=_1||this;return this.measureLabel("Xy",_1.gradationLabelProperties).height},isc.A.$1035=function isc_FacetChart__hasExtraAxes(){return this.$1038!=null},isc.A.$1039=function isc_FacetChart__getExtraAxisMetrics(){return this.$1038},isc.A.$1036=function isc_FacetChart__getExtraAxisSettings(){return this.$104a},isc.A.$103u=function isc_FacetChart__getFixedFacetValue(_1){var _2=this.getLegendFacet(),_3=_2&&_2.id,_4=_1.fixedFacetValue,_5;if(_2==null){_5=null}else if(isc.isA.String(_4)||isc.isA.Number(_4)){_5=this.getFacetValue(_3,_4)}else if(isc.isA.Object(_4)){var _6=this.getFacetValue(_3,_4.id);_5=(_6==_4?_6:null)}else{_5=null}
return(_1.$1029=_5)},isc.A.$103p=function isc_FacetChart__getValueAxisGradationLabelLeft(_1){var _2=this.$1036(),_3=this.$103v(_1);if(_1==this){_3+=this.$104f-this.$85f}else{var _4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.right.indexOf(_1)!=-1){_3+=_5+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin}else{_3+=_1.$104f-_1.$85f-_5
-this.gradationTickMarkLength-this.tickMarkToValueAxisMargin}}
return _3},isc.A.$103q=function isc_FacetChart__getValueAxisGradationLineLeft(_1){var _2=this.$1036(),_3=this.$103v(_1),_4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.left.indexOf(_1)!=-1){_3+=_1.$104f-_5-this.gradationTickMarkLength}else{_3+=_5}
return _3},isc.A.$104p=function isc_FacetChart__getValueAxisLineLeft(_1){var _2=this.$104n(_1).lineWidth||0,_3=Math.floor(_2/2),_4=this.$103v(_1),_5=this.$1036();if(_5.left.indexOf(_1)!=-1){_4+=_1.$104f+(_3-_2)}else{_4+=_3}
return _4},isc.A.$103v=function isc_FacetChart__getValueAxisLeft(_1){var _2=this.$1036();var _3;if(_1==this){_3=this.getChartLeft()-this.chartRectMargin-this.$104f}else{var _4=_2.left,_5=_2.right,_6=_4.findIndex(_1),_7=_5.findIndex(_1),_8=this.valueAxisMargin;if(_7==-1){_3=(_4.length-1-_6)*_8;for(var i=_4.length;--i>_6;){_3+=_4[i].$104f}}else if(_6==-1){_3=this.getChartLeft()+this.getChartWidth()+this.chartRectMargin+_7*_8;for(var i=0;i<_7;++i){_3+=_5[i].$104f}}}
return _3},isc.A.$104o=function isc_FacetChart__drawValueAxisLine(_1){var _2=this.$104m(_1);if(_2){var _3=this.getChartTop(),_4=this.getChartHeight(),_5=this.$104p(_1),_6=this.$104n(_1);isc.DrawLine.create(_6,{autoDraw:true,drawPane:this,startLeft:_5,startTop:_3,endLeft:_5,endTop:_3+_4})}},isc.A.$104i=function isc_FacetChart__getNumValueAxes(){return 1+(this.$1035()?this.$1036().all.length:0)},isc.A.$104g=function isc_FacetChart__hasSideValueAxisLabels(){if(!this.$1035()||(this.hasYGradations()&&!this.$1057)){return true}else{var _1=this.$1036();return(_1.left.length==0&&_1.right.length==1)}},isc.A.$104e=function isc_FacetChart__getValueAxisLabelsHeight(_1){if(!_1&&this.$104j!=null){return this.$104j}
var _2=0;if(!this.$104g()){var _3=this.$1036(),_4=this.$104i();for(var j=0;j<_4;++j){var _6=(j==0?this:_3.all[j-1]);if(this.shouldShowValueAxisLabel(_6)){var _7=this.measureLabel(_6.valueTitle,_6.valueAxisLabelProperties).height;_2=Math.max(_2,_7)}}}
return(this.$104j=_2)},isc.A.$104m=function isc_FacetChart__shouldShowValueAxisLine(_1){if(_1==this){return false}
var _2=this.$1036(),_3=_1.showAxisLine;return(_2.right.length==0||_1!=_2.right[0])&&(_3!=null?_3:this.showChartRect)},isc.A.$104n=function isc_FacetChart__getValueAxisLineProperties(_1){if(_1.axisLineProperties!=null){return _1.axisLineProperties}else{var _2={};if(isc.isAn.Object(this.chartRectProperties)){var _3=this.chartRectProperties;if(_3.lineCap!=null)_2.lineCap=_3.lineCap;if(_3.lineColor!=null)_2.lineColor=_3.lineColor;if(_3.lineOpacity!=null)_2.lineOpacity=_3.lineOpacity;if(_3.linePattern!=null)_2.linePattern=_3.linePattern;if(_3.lineWidth!=null)_2.lineWidth=_3.lineWidth}
return _2}},isc.A.$104b=function isc_FacetChart__createExtraAxisLegendSwatch(_1,_2,_3,_4,_5){var _6=_5,_7=_5,_8=_1.chartType,_9=[];if(_8=="Column"){var _10=2;var _11=3,_12=5;var _13=this.$103i;var _14=this.$107b(_2,_1),_15=this.$99i(_2,null,null,_1);var _16=Math.floor((_6+_10)/(_11+_10)),_17=Math.floor((_6+_10)/(_12+_10)),_18,_19,_20;for(_18=_16;_18>=_17;--_18){_19=Math.min((_6+_10)/_18)-_10;_20=_6+_10-_18*(_19+_10);if(_20%2==0)break}
var _21=_3+Math.max(_20/2);for(var i=0;i<_18;++i){var _23=Math.round(_13[i%_13.length]*_7);var _24=isc.addProperties({},this.barProperties,{drawPane:this,width:_19,height:_23,left:_21,top:_4+_7-_23});if(!this.useAutoGradients){_24.fillColor=_14}else{_24.fillGradient=_15}
_9.push(isc.DrawRect.create(_24));_21+=_19+_10}}else if(_8=="Area"||(_8=="Line"&&_1.filled)){var _25=1,_26=3;var _13=this.$103i;var _14=this.$107b(_2,_1),_15=this.$99i(_2,null,null,_1);var _27=Math.floor((_6+1)/(_25+1)),_28=Math.floor((_6+1)/(_26+1)),_29,_30,_20;for(_29=_27;_29>=_28;--_29){_30=Math.min((_6+1)/_29)-1;_20=_6+1-_29*(_30+1);if(_20%2==0)break}
var _31=[];var x=_3+Math.max(_20/2);for(var i=0;i<_29;++i){var _33=_13[i%_13.length];_31.push([x,_4+Math.round(_7*(1-_33))]);x+=_30+1}
var _34=_31.duplicate();_34.add([_31.last()[0],_4+_7]);_34.add([_31.first()[0],_4+_7]);_9.addList([this.drawDataLineSegment(_31,0,_31.length,{lineColor:_14},_1,false),this.drawDataShape(_34,{lineColor:_14,fillColor:!this.useAutoGradients?_14:null,fillGradient:this.useAutoGradients?_15:null})])}else if(_8=="Line"){var y=_4+Math.round(_7/2),_36=[_3,y],_37=[_3+Math.round(_6/2),y],_38=[_3+_6,y],_39=Math.min(_1.dataPointSize,_5);_9.push(this.drawDataLineSegment([_36,_38],0,2,{lineColor:this.$107b(_2,_1),shadow:null},_1,false));if(_1.showDataPoints){_9.push(this.drawDataPoint(_37,_2,_39,null,null,_1,false))}}
return isc.DrawGroup.create(this.legendSwatchProperties,{drawPane:this,autoDraw:true,drawItems:_9,left:_3,top:_4,width:_6,height:_7})},isc.A.$104z=function isc_FacetChart__getMetricSettingsDefaults(){var _1={multiFacet:this.isMultiFacet(),chartType:"Line"};var _2=["gradationLabelProperties","gradationLineProperties","gradationZeroLineProperties","showDataPoints","dataPointSize","logScale","useLogGradations","logBase","logGradations","decimalPrecision","showShadows","shadowProperties","dataLineProperties","dataOutlineProperties","dataShapeProperties","valueLineProperties","valueAxisLabelProperties","dataPointProperties","formatAxisValue","formatDataValue"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=isc.FacetChart.getInstanceProperty(_5)}
return _1},isc.A.$1037=function isc_FacetChart__initExtraAxes(){var _1=this.extraAxisMetrics,_2=this.extraAxisSettings;if(!(_1!=null&&isc.isAn.Array(_1)&&!_1.isEmpty())){this.$1038=null;this.$104a=null;return}
if(_2==null||!isc.isAn.Array(_2)){_2=[]}
this.$1038=_1;this.$104a={left:[],right:[],all:_2};var _3=this.chartType=="Column",_4=this.chartType=="Area"||(this.chartType=="Line"&&this.filled);if(_3){this.$104a.barChart=this}else if(_4){this.$104a.areaChart=this}
var _5,_6;if(!this.isMultiFacet()){_5=_6=(this.chartType=="Column"?this.getDataLabelFacet().values.length:1)}else{_5=_6=this.getLegendFacet().values.length}
var _7=_1.length,_8=0,_9=_7>0&&this.$104z(),_10=this.$111a();for(var i=0;i<_7;++i){var j=i-_8,_13=_1[j],_14=!(isc.isA.String(_13)&&(_10?this.getFacetValue(_10.id,_13)!=null:(_13==this.valueProperty)));if(!_14){var _15=_2[j]=isc.addDefaults(_2[j]||{},_9);var _16=_15.chartType;if(_16==null){_16=_15.chartType=(i==0&&!_3?"Column":"Line")}
if(_16=="Radar"||this.isPieChart(_16)){_14=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a non-rectangular chart type, which is not allowed.  Skipping this extra value axis.")}else if(!this.hasYGradations(_16)){_14=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a chart type which does not use a vertical value axis and thus is not supported as an extra value axis.  Skipping this extra value axis.")}else if(_3&&_16=="Column"){this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" is a column chart, but there is already a column chart declared on another value axis.  Continuing by converting this metric value axis' chart to a line chart.");_16=_15.chartType="Line";if(_19&&_4){_19=_15.filled=false}}else if(_4&&(_16=="Area"||(_16=="Line"&&_19))){this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" is an area chart, but there is already an area chart declared on another value axis.  Continuing by converting this metric value axis' chart to a line chart.");_16=_15.chartType="Line";if(_19){_19=_15.filled=false}}}
if(_14){_1.removeAt(j);_2.removeAt(j);++_8;continue}
_15.$103o=_13;var _17=!(this.isMultiFacet()&&_15.multiFacet),_18=_17?this.$103u(_15):null,_19=_15.filled;_17&=(!this.isMultiFacet()||_18!=null);_15.$103x=!_17;_3=_16=="Column";_4=_16=="Area"||(_16=="Line"&&_19);if(_3){this.$104a.barChart=_15}else if(_4){this.$104a.areaChart=_15}
this.$104a[(j%4<2)?"right":"left"].push(_15);var _20=this.$1046,_21=isc.isAn.Array(_15.dataColors)||(isc.isA.Function(_15.getDataColor)&&_15.getDataColor!=_20.getDataColor),_22=isc.isAn.Array(_15.dataGradients)||(isc.isA.Function(_15.getDataGradient)&&_15.getDataGradient!=_20.getDataGradient);isc.addDefaults(_15,_20);isc.addProperties(_15,{$103y:this,$103z:_21,$1031:_22,$1030:_5,$1032:_6,isMultiFacet:function(){return this.$103x},getXCoord:function(_24){var _23=this.$103y;return _23.getXCoord.apply(_23,[_24,this])},getYCoord:function(_24){var _23=this.$103y;return _23.getYCoord.apply(_23,[_24,this])},getGradations:function(){var _23=this.$103y;return _23.getGradations.apply(_23,[this])},setChartType:function(_16){var _23=this.$103y;return _23.setChartType.apply(_23,[_16,this])},setStacked:function(_24){var _23=this.$103y;return _23.setStacked.apply(_23,[_24,this])},setFilled:function(_24){var _23=this.$103y;return _23.setFilled.apply(_23,[_24,this])}});if(!_21){if(_17){_5+=(_16=="Column"?this.getDataLabelFacet().values.length:1)}else{_5+=this.getLegendFacet().values.length}}
if(!_22){if(_17){_6+=(_16=="Column"?this.getDataLabelFacet().values.length:1)}else{_6+=this.getLegendFacet().values.length}}}},isc.A.$1049=function isc_FacetChart__getValueAxisIndex(_1){if(_1==this){return 0}else{var _2=this.$1036(),_3=_2.left.indexOf(_1);if(_3!=-1){_3=-(1+_3)}else{_3=_2.right.indexOf(_1);_3=1+_3}
return _3}},isc.A.changeValueAxisPositions=function isc_FacetChart_changeValueAxisPositions(_1){if(!this.$1035()){return}
var _2=this.$1036();var _3=isc.FacetChart.$105b,_4=isc.FacetChart.$105c,_5=isc.isA.Array(_1)&&_1.length%2==0,_6=-_2.left.length,_7=_2.right.length,_8,_9;for(var i=0,_11=_1.length;i<_11;i+=2){var _12=_1[i],_13=_1[i+1];_5=isc.isA.Number(_12)&&isc.isA.Number(_13)&&Math.round(_12)==_12&&Math.round(_13)==_13&&_12!=0&&_13!=0&&_6<=_12&&_12<=_7&&_3(_1,_12,i+2)==-1&&_4(_1,_13,i+3)==-1;_8=i!=0?Math.min(_8,_13):_13;_9=i!=0?Math.max(_9,_13):_13}
var _14,_15;if(_5){_14=Math.min(_6,_8);_15=Math.max(_7,_9);while(_14<=_15&&!(_4(_1,_14)!=-1||_3(_1,_14)==-1)){++_14}
while(_15>_14&&!(_4(_1,_15)!=-1||_3(_1,_15)==-1)){--_15}
_5=(_7-_6==_15-_14)&&_14<=0&&0<=_15}
if(!_5){this.logWarn("An invalid indexMap argument was passed to FacetChart.changeValueAxisPositions().");return}
var _16=[],_17=[],_18=[];for(var i=_6;i<=_7;++i){if(i==0){continue}
var j=_3(_1,i),_12=j!=-1?_1[j]:i,_13=j!=-1?_1[j+1]:i,_20;if(_12>0){_20=_2.right[_12-1]}else if(_12<0){_20=_2.left[-_12-1]}
if(_13>0){_18[_13-1]=_20}else{_17[-_13-1]=_20}}
_2.left=_17;_2.right=_18;this.$105a(false)},isc.A.$105d=function isc_FacetChart__hoverValueAxisLabel(_1){if(_1!=this.$105e){this.$105f();var _2=_1.$1048;_1.$105g=_2.lineColor;_2.lineColor=this.$1047;_2.erase();_2.draw();this.$105e=_1}},isc.A.$105f=function isc_FacetChart__unhoverValueAxisLabel(){var _1=this.$105e;if(_1!=null){var _2=_1.$1048;_2.lineColor=_1.$105g;_2.erase();_2.draw();delete this.$105e}},isc.A.getChartCenter=function isc_FacetChart_getChartCenter(_1){_1=_1||this.getChartRect();return[Math.round(_1.left+(_1.width/2)),Math.round(_1.top+(_1.height/2))]},isc.A.getChartRadius=function isc_FacetChart_getChartRadius(_1){_1=_1||this.getChartRect();var _2=this.radialLabelOffset,_3=this.getChartRectLineWidth();if(this.isPieChart()&&this.isStacked())_2+=this.pieLabelLineExtent;var _4=2*(this.measureDataLabels()+_2),_5=2*(this.getDataLabelHeight()+_2),_6=Math.min(_1.width-_4,_1.height-_5),_7=this.maxRadius=Math.round((_6-(2*_3))/2);return _7},isc.A.drawRadarGradations=function isc_FacetChart_drawRadarGradations(_1){var _2=this.getChartRect(),_1=_1||this.gradations,_3=this.getChartRadius(_2);isc.DrawOval.create(this.radarBackgroundProperties,{drawPane:this,autoDraw:true,centerPoint:this.getChartCenter(),radius:_3});var _4=this.getChartCenter(),_5=this.showRadarGradationLabels;for(var i=0;i<_1.length;i++){var _7=this.getValueRatio(_1[i])*_3;if(_7!=0){isc.DrawOval.create(_1[i]==0?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,autoDraw:true,centerPoint:_4,radius:_7})}
if(_5){var _8=this.radarGradationLabelOffset;this.drawLabel(_4[0]+_8,_4[1]-_7-(this.getDataLabelHeight()/2)+_8,this.formatAxisValue(_1[i],true),this.gradationLabelProperties)}}},isc.A.drawRadarData=function isc_FacetChart_drawRadarData(_1,_2,_3){_1=_1||this.getChartRect();_3=_3||this.getOrderedData();_2=_2||this.getMaxGradation();var _4=this.getDataLabelFacet();if(this.$107c()){this.drawRadarSet(_4);return}
var _5=this.getChartCenter();var _6=Math.round(360/_4.values.length);for(var i=0;i<_3.length;i++){var _8=_6*i,_9=isc.GraphMath.polar2screen(_8,this.maxRadius,_5,true);this.drawValueLine(_5,_9);this.drawRadialLabel(_5,this.maxRadius,_8,_3[i].title)}
return this.drawLines()},isc.A.drawRadarSet=function isc_FacetChart_drawRadarSet(_1){var _2=Math.round(360/_1.values.length);var _3=this.getChartCenter();for(var i=0;i<_1.values.length;i++){var _5=_1.values[i];var _6=(i*_2);var _7=isc.GraphMath.polar2screen(_6,this.maxRadius,_3,true);this.drawValueLine(_3,_7);var _8=_1.values[i].title||_1.values[i].id;var _9=_6+Math.round(_2/2);this.drawRadialLabel(_3,this.maxRadius,_9,_8);var _10={};_10[_1.id]=_5.id;var _11=this.getDataRecord(_10);if(_11==null)return;this.drawPointsAcrossAngle(_11,_6+this.angleMargin,_6+_2-this.angleMargin)}},isc.A.drawPointsAcrossAngle=function isc_FacetChart_drawPointsAcrossAngle(_1,_2,_3){var _4=Math.round((_3-_2)/_1.length),_5=this.getChartCenter(),_6=this.getMaxValue(),_7,_8,_9;var _10=this.$1065();if(_10){_8=_10.values[1].id;_7=_10.values[0].id;_9=this.getMaxValue(_8)}
for(var i=0;i<_1.length;i++){var _12=_1[i];var _13,_14=this.dataPointSize;if(_10){_13=parseFloat(_12[_7]);var _15=parseFloat(_12[_8]);_14=Math.max(this.minDataPointSize,Math.ceil((_15/_9)*this.maxDataPointSize))}else{_13=_12[this.getDefaultMetric()]}
var _16=Math.round((_13/_6)*this.maxRadius);var _17=isc.GraphMath.polar2screen(_2+(i*_4),_16,_5,true);this.drawDataPoint(_17,0,_14,_12,_13)}},isc.A.drawRadialLabel=function isc_FacetChart_drawRadialLabel(_1,_2,_3,_4){var _5=this.$100k(_1,_2,_3,_4,this.dataLabelProperties);this.drawLabel(_5[0],_5[1],_4,this.dataLabelProperties)},isc.A.$100k=function isc_FacetChart__getRadialLabelCoordinates(_1,_2,_3,_4,_5){var _6=isc.GraphMath.polar2screen(_3,_2+this.radialLabelOffset,_1,true);var _7=this.measureLabel(_4,_5);if(_3>=360)_3-=360;if(_3>180&&_3<=360){_6[0]-=_7.width}
if((_3>=0&&_3<90)||(_3>270&&_3<=360)){_6[1]-=_7.height}
var _8=isc.GraphMath.angleDifference(0,_3),_9=isc.GraphMath.angleDifference(_3,180),_10=isc.GraphMath.angleDifference(90,_3),_11=isc.GraphMath.angleDifference(_3,270),_12=Math.min(Math.abs(_8),Math.abs(_9)),_13=Math.min(Math.abs(_11),Math.abs(_10));if(_12<=20){var _14=Math.abs(_8)==_12?_8:_9,_15=_14==_12?1:-1,_16=_15*(_7.width/2),_17=1-(_12/20),_18=Math.round(_17*_16);_6[0]-=Math.round(_17*_16)}else if(_13<=20){var _14=Math.abs(_11)==_13?_11:_10,_15=_14==_13?1:-1,_16=_15*(_7.height/2),_17=1-(_13/20),_18=Math.round(_17*_16);_6[1]-=_18}
return[_6[0],_6[1]]},isc.A.formatAxisValue=function isc_FacetChart_formatAxisValue(_1,_2){var _3=Math.pow(10,this.decimalPrecision);var _4=Math.round(_1*_3)/_3;return isc.Format.toUSString(_4)},isc.A.formatDataValue=function isc_FacetChart_formatDataValue(_1){var _2=Math.pow(10,this.decimalPrecision);var _3=Math.round(_1*_2)/_2;return isc.Format.toUSString(_3)},isc.A.getOrderedData=function isc_FacetChart_getOrderedData(_1){if(this.orderedData&&!_1)return this.orderedData;if(this.chartType=="Scatter"){var _2=this.getLegendFacet(),_3;if(_2!=null){_3=new Array(_2.values.length);for(var j=0;j<_2.values.length;++j){var _5=_2.values[j],_6={};_6[_2.id]=_5.id;var _7=this.getDataRecord(_6,true),_8=_3[j]={facetValueId:_5.id,title:_5.title||_5.id},_9=_8.series=new Array(_7.length);for(var i=_7.length;i--;){_9[i]={record:_7[i]}}}}else{var _7=this.getDataRecord({},true);_3=new Array(_7.length);for(var i=_7.length;i--;){_3[i]={record:_7[i]}}}
this.orderedData=_3;return _3}
var _3=this.orderedData=[],_11=this.$107c(),_12=this.getDataLabelFacet()||this.getLegendFacet(),_13=_12.values,_14={};if(this.isMultiFacet()){var _15=this.getLegendFacet(),_16=_15.values;for(var i=0;i<_13.length;i++){var _6={};_6[_12.id]=_13[i].id;var _8={title:_13[i].title||_13[i].id,facetValueId:_13[i].id,series:[]}
_3.add(_8);for(var j=0;j<_16.length;j++){var _17=_16[j];var _18={facetValueId:_16[j].id,title:_16[j].title||_16[j].id};_8.series.add(_18);_6[_15.id]=_16[j].id;_18.record=this.getDataRecord(_6,_11);_18.value=this.getValueFromRecord(_18.record,_6,_11)}}}else{var _6={};for(var i=0;i<_13.length;i++){var _17=_13[i];var _18={title:_17.title||_17.id,facetValueId:_17.id};_3.add(_18);_6[_12.id]=_13[i].id;_18.record=this.getDataRecord(_6,_11);_18.value=this.getValueFromRecord(_18.record,_6,_11)}}
return _3},isc.A.drawData=function isc_FacetChart_drawData(_1,_2,_3,_4){this.logDebug("drawing data","chartDraw");this.$1002();if(!this.showStatisticsOverData&&this.chartType!="Scatter"){this.$102l()}
var _5=this.$1035(),_6=this.$104i(),_7=1+_6,_8=_5&&this.$1036(),_9=_5&&_8.barChart,_10=_5&&_8.areaChart;_8=_8.all;var _11=(_9?_8.indexOf(_9):-1),_12=(_10?_8.indexOf(_10):-1);var _13=0;for(var j=0;j<_6;++j){var _15;if(_9&&j==0){--_13;_15=_9}else if(_10&&j==(_9?1:0)){--_13;_15=_10}else if(!(this==_9||this==_10)&&j==(_9?1:0)+(_10?1:0))
{--_13;_15=this}else{var k=j+_13;if(k==_11||k==_12){++_13;++k}
if(k==_11||k==_12){++_13;++k}
_15=_8[k]}
if(_15.chartType=="Column"||_15.chartType=="Bar"){this.drawBars((_15==this?_3:null),_4,null,null,null,_15)}else if(_15.chartType=="Line"||_15.chartType=="Area"){this.drawLines((_15==this?_1:null),(_15==this?_2:null),(_15==this?_3:null),_4,null,null,null,_15)}else if(_15.chartType=="Radar"){this.drawRadarData()}else if(this.isPieChart(_15.chartType)){this.drawPieData()}else if(_15.chartType=="Scatter"){this.drawScatterData(_4)}else{this.logWarn("chart type: '"+_15.chartType+"' not supported")}}
var _17=this.getOrderedData();for(var j=0;j<_6;++j){var _15=(j==0?this:_8[j-1]);this.$1003(_17,_15)}
if(this.showStatisticsOverData){this.$102l()}},isc.A.drawLines=function isc_FacetChart_drawLines(_1,_2,_3,_4,_5,_6,_7,_8){_8=_8||this;_5=_5||this.getChartRect();_7=_7||this.getOrderedData();var _9=this.$1068();var _10=_9[0].dataValue,_11=_9[1].dataValue;var _12=_9[0].index,_13=_9[1].index,_14=_13-_12+1;var _15=(this.$107d()||_1==null||_14==1);var _16=_8.chartType=="Radar";var _17,_18,_19,_20;if(_16){_17=this.getChartCenter();_18=Math.round(360/this.getDataLabelFacet().values.length)}else{var _21=this.$1035()?(this.$104c||0):this.dataMargin,_22=(_5.width-2*_21);_19=_5.left+_21;_20=_14>1?_22/(_14-1):0}
var _23=this.isMultiFacet(),_24=_8.isMultiFacet()&&this.isStacked(_8),_25=this.isFilled(_8);var _26=_8.isMultiFacet()?_7[0].series.length:1;var _27=(_8!=this),_28;if(_27){_28=_8.$103o}
var _29=_25&&_24&&!(_16||_14<2),_30,_31,_32,_33,_34=[NaN,NaN],_35,_36,_37,k=_12,_39=[];for(var i=0;i<_26;++i){var _41,_42,_43=null;if(this.isMultiFacet()&&(!_27||_8.isMultiFacet())){var _44=_7.getProperty("series").getProperty(i);_42=_44.getProperty("record");_41=_27?_42.getProperty(_28):_44.getProperty("value");_43=i}else{if(_27){if(this.isMultiFacet()){var _45=this.$103u(_8);_43=this.getLegendFacet().values.findIndex("id",_45.id);var _44=_7.getProperty("series").getProperty(_43);_42=_44.getProperty("record")}else{_42=_7.getProperty("record")}}
_41=(_27?_42.getProperty(_28):_7.getProperty("value"))}
if(_24){_36=this.addValues(_41,_36)}else{_36=_41}
var _46=(i%2!=0);_37=_46?-1:1;var _47=[],_48=_25&&[],_49=false,_50=false;for(var j=0;j<_14;++j,k+=_37){var _52=_36[k],_53=!isc.isA.Number(_41[k]),_54;if(_16){if(_53){_54=_34}else{var _55=this.getValueRatio(_52),_56=Math.round(_55*this.maxRadius),_57=_18*(k-_12);_54=isc.GraphMath.polar2screen(_57,_56,_17,true)}}else{if(_53)_52=0;var x;if(i==0){x=_39[k]=(_15?Math.round(_19+(k-_12)*_20):this.$1069(_7[k].title,_10,_11,_2,_8));if((!_24||_29)&&(k==_12||k==_13)){var _5=this.getChartRect(),y=_5.top+_5.height;if(k==_12){_32=_30=[x,y]}else{_33=_31=[x,y]}}}else{x=_39[k]}
_54=(_53?_34:[x,this.getYCoord(_52,_8)])}
_47.push(_54);if(_53){if(_29){if(k==_12){_49=true}else if(k==_13){_50=true}}}else{if(_25){_48.push(_54);if(_29){if(k==_12){_32=_54}else if(k==_13){_33=_54}}}
var _60=this.$1040(_8,k,_43);_60.drawnX=_54[0];_60.drawnY=_54[1];_60.value=_41[k]}}
if(_16&&this.connected){if(!isNaN(_47.last()[1])){_47.add(_47[0])}
if(_25&&_48.length>0){_48.add(_48[0])}}
k-=_37;var _61=this.$107b(i,_8);var _62={lineColor:_61};this.drawDataLine(_47,_62,_8);if(_25){if(_35==null||!_24){if(_16||_14<2){_35=[]}else{if(_37==1){_35=[_31,_30]}else{_35=[_30,_31]}}}
var _63=_48.concat(_35);_35=_48;if(_29){if(_49){if(_37==1)_35.unshift(_32);else _35.push(_32)}
if(_50){if(_37==1)_35.push(_33);else _35.unshift(_33)}}
var _64=this.useAutoGradients&&(!_23||!this.isVML);if(!_63.isEmpty()){if(!_23||_8.chartType=="Area"||_8.chartType=="Line"){this.drawDataShape(_63,{lineColor:_61,fillColor:!_64?_61:null,fillGradient:_64?this.$99i(i,null,null,_8):null})}else if(_8.chartType=="Radar"){var _65=this.$112i(_63,{lineColor:_61,fillColor:!_64?_61:null,fillGradient:null},this.connected);if(_64){_65.fillGradient=this.getRadarShapeGradient(_61,_65,_17,i==0)}
_65.draw()}}}
if(_23&&this.$1066()!=null&&!this.$1035()){this.drawErrorBars(_47,_42,i,_6,_5,_12,_13,_46)}
if(_8.showDataPoints){if(_42==null){_42=_7.getProperty("record")}
this.drawPoints(_47,_42,i,_36,_12,_13,_46,_8)}
if(i==0&&!_16&&_8==this){if(_3==null){this.drawDataLabels(_39,_7.getProperty("title"),true,_4)}else{var _66=_3.getProperty("dataValue");var _67=_66.length;var _68=[],_69=[];if(_15){for(var l=0;l<_67;++l){var _71=_66[l],m=_7.findNextIndex(_12,"title",_71,_13);if(m!=-1){_68.push(Math.round(_19+(m-_12)*_20));_69.push(_3[l].label)}}}else{for(var l=0;l<_67;++l){var _71=_66[l];if(!(_71<_10||_71>_11)){_68.push(this.$1069(_71,_10,_11,_2,_8));_69.push(_3[l].label)}}}
this.drawDataLabels(_68,_69,true,_4)}}}});isc.evalBoundary;isc.B.push(isc.A.getBasePoints=function isc_FacetChart_getBasePoints(_1){var _2=this.getChartRect(),y=_2.top+_2.height,_4=[[_1[0][0],y],[_1[_1.length-1][0],y]];return _4},isc.A.addValues=function isc_FacetChart_addValues(_1,_2){if(_2==null)return _1;if(_1==null)return _2;var _3=new Array(_1.length);for(var i=_1.length;i--;){var _5=_1[i],_6=_2[i];_3[i]=(isc.isA.Number(_5)?_5:0)+(isc.isA.Number(_6)?_6:0)}
return _3},isc.A.drawPoints=function isc_FacetChart_drawPoints(_1,_2,_3,_4,_5,_6,_7,_8){_8=_8||this;if(_5==null||_6==null){_5=0;_6=_2.length-1}
_7=(_7===true);if(!_4)_4=[];if(this.pointSizeMetric){var _9=this.getMaxValue(this.pointSizeMetric)}
var _10=_8.dataPointSize
for(var i=0,_12=_6-_5+1;i<_12;i++){var j=_7?_12-i-1:i,_14=_2[_5+i];if(this.pointSizeMetric){var _9=this.$1034(false);var _15=_14[this.pointSizeMetric];_10=Math.max(this.minDataPointSize,Math.ceil((_15/_9)*this.maxDataPointSize))}
var _16=_4[_5+i];if(isc.isA.Number(_16)){this.drawDataPoint(_1[j],_3,_10,_14,_16,_8)}}},isc.A.drawErrorBars=function isc_FacetChart_drawErrorBars(_1,_2,_3,_4,_5,_6,_7,_8){var _9=this.$1064(),_10=this.$1066();if(_6==null||_7==null){_6=0;_7=_2.length-1}
_8=(_8===true);var _11=!this.supportsFractionalCoordinates(),_12=_5.top,_13=_12+_5.height,_14=isc.DrawPane.$105t(this.errorBarColorMutePercent,this.getDataColor(_3)),_15=isc.addDefaults({drawPane:this,autoDraw:true,lineColor:_14,lineWidth:1},this.errorLineProperties);for(var i=0,_17=_7-_6+1;i<_17;++i){var _18=_1[_8?_17-i-1:i],x=_18[0],y=_18[1],_21=_2[_6+i],_22=_21[_9],_23=_21[_10];if(!isc.isA.Number(_22))_22=null;if(!isc.isA.Number(_23))_23=null;var _24=_22!=null&&this.getYCoord(_22),_25=_23!=null&&this.getYCoord(_23);if(_22==null&&_23==null){continue}
isc.DrawLine.create(_15,{startLeft:x,startTop:(_22!=null?_24:y),endLeft:x,endTop:(_23!=null?_25:y)});var _26=x-this.errorBarWidth/2,_27=x+this.errorBarWidth/2;if(_11){_26=Math.round(_26);_27=Math.round(_27)}
if(_22!=null){isc.DrawLine.create(_15,{startLeft:_26,startTop:_24,endLeft:_27,endTop:_24})}
if(_23!=null){isc.DrawLine.create(_15,{startLeft:_26,startTop:_25,endLeft:_27,endTop:_25})}}},isc.A.drawDataLabels=function isc_FacetChart_drawDataLabels(_1,_2,_3,_4){for(var i=0;i<_1.length;i++){this.drawDataLabel(_1[i],_2[i],_3,_4)}},isc.A.getRotatedCenteringOffset=function isc_FacetChart_getRotatedCenteringOffset(_1){if(this.drawingType=="vml"){return-Math.floor(_1/2)}else{return Math.floor(_1/2)}},isc.A.drawDataLabel=function isc_FacetChart_drawDataLabel(_1,_2,_3,_4){_4=(_4==null?this.$116c():_4===true);if(_3==null)_3=true;var _5=this.getDataLabelHeight();if(_3){var _6=this.measureLabel(_2,this.dataLabelProperties),_7,_8,_9,_10=true;if(!this.showInlineLabels){_7=this.getChartTop()+this.getChartHeight()+this.chartRectMargin;_8=_1;if(_4){_8+=this.getRotatedCenteringOffset(_5);_10=_8+_5<=this.getWidth()}else{_8-=_6.width/2;_10=_8+_6.width<=this.getInnerContentWidth()}
_9=true}else{_4=false;_7=this.getChartTop()+this.getChartHeight()
-this.$106b-_6.height;_8=_1+this.$106a;_10=_8+_6.width<this.getChartLeft()+this.getChartWidth()}
_10=_10&&0<=_8;if(_10){this.drawLabel(_8,_7,_2,this.dataLabelProperties,_4,_9)}}else{var _5=this.getDataLabelHeight();this.drawLabel(this.getAxisLabelSpace(true),_1-Math.round(_5/2),_2,this.dataLabelProperties)}},isc.A.$115t=function isc_FacetChart__calculateBarLayout(_1,_2,_3,_4,_5,_6){var _7=_1.isMultiFacet()&&this.isStacked(_1);var _8=_1.isMultiFacet()&&!this.isStacked(_1);var _9=this.dataMargin;var _10=_1.isMultiFacet()?_2[0].series.length:1;var _11=_10;var _12=_3;var _13=_8?_12*_11:_3;var _14=_4-(2*_9);var _15=!_8?this.barMargin:Math.min(50,Math.round(this.barMargin*this.clusterMarginRatio));var _16=(_13*this.barMargin)+(_8?_12*_15:0);var _17=Math.max(0,_14-_16);var _18=Math.floor(_17/_13);if(_18<this.minBarThickness){_18=this.minBarThickness}else if(_18>this.maxBarThickness){_18=this.maxBarThickness}
var _19=_8?((_18+this.barMargin)*_11-this.barMargin):_18;var _20=_3<2?0:Math.round((_14-(_3*_19))/(_3-1));var _21;if(_8){var _22=Math.max(0,this.clusterMarginRatio);if(_11>1&&_3>1){var m=-_3*(_11-1)/(_3-1),b=(_14-_3*_18*_11)/(_3-1);_21=Math.max(0,b/(_22-m));if(Math.abs(Math.floor(_21)*(_22-m)-b)<
Math.abs(Math.ceil(_21)*(_22-m)-b))
{_21=Math.floor(_21)}else{_21=Math.ceil(_21)}}else if(_11<=1){_21=0}else{_21=this.barMargin}
_19=(_18+_21)*_11-_21;_20=_3<2?0:Math.round((_14-(_3*_19))/(_3-1))}
var _25=_19+_20;var _26=_14-(_19*_3)
-(_20*(_3-1));_9+=Math.round(_26/2);if(this.logIsDebugEnabled("chartDraw")&&_1==this){this.logDebug("availableSpace: "+_14+", availableBarSpace: "+_17+", bars per cluster: "+_11+", final gap between clusters/bars: "+_20+", final within-cluster bar margin: "+_21+", barThickness: "+_18+", extraSpace: "+_18,"chartDraw")}
_15=_7?0:_15;var _27=_5+_9;_6=_6||{};_6.barThickness=_18;_6.clusterSize=_19;_6.clusterBarMargin=_21;_6.barOffset=_25;_6.clusterGap=_20;_6.startOffset=_27;_6.startMargin=_9;return _6},isc.A.$1152=function isc_FacetChart__getBarBaseValue(_1){var _2=this.$1067(_1)||0,_3=this.getMaxGradation(_1)||0;return(_2<=0&&_3>=0?0:(Math.abs(_2)<=Math.abs(_3)?_2:_3))},isc.A.drawBars=function isc_FacetChart_drawBars(_1,_2,_3,_4,_5,_6){_6=_6||this;_2=(_2===true);_3=_3||this.getChartRect();_5=_5||this.getOrderedData();_4=_4||this.getMaxGradation(_6);var _7=this.$1068(),_8=_7[0].index,_9=_7[1].index,_10=_9-_8+1;var _11=_6.isMultiFacet()&&this.isStacked(_6);var _12=_6.isMultiFacet()&&!this.isStacked(_6);var _13=(_6.chartType=="Column");var _14=this.$115t(_6,_5,_10,(_13?_3.width:_3.height),(_13?_3.left:_3.top)),_15=_14.barThickness,_16=_14.clusterSize,_17=_14.clusterBarMargin,_18=_14.barOffset,_19=_14.startOffset,_20=_14.startMargin;var _21=this.$1152(_6);if(this.$1035()){var _22=_16/2;this.$104c=_20+_22}
var _23=(_6!=this),_24;if(_23){_24=_6.$103o}
if(this.isMultiFacet()&&(!_23||_6.isMultiFacet())){for(var i=_8;i<=_9;i++){var _26=0,_27=true;for(var j=0;j<_5[i].series.length;j++){var _29=_19+((i-_8)*_18);if(_12)_29+=(j*(_15+_17));var _30=_5[i].series[j],_31=(_23?_30.record[_24]:_30.value),_32=!isc.isA.Number(_31),_33=this.getValueCoord((_27||_12?_21:_26),_13,_6),_34=(_32?0:this.getValueCoord(_26+_31,_13,_6)-_33),_35=null;if(!_32){_27=false;if(_11)_26+=_31;var _36=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_36.fillColor=this.$107b(j,_6)}else{_36.fillGradient=this.$99i(j,null,null,_6)}
_35=this.drawBar(_13,_29,_33,_15,_34,_36)}
_30=this.$1040(_6,i,j);if(_13){_30.drawnX=_29+_15/2;_30.drawnY=_33+_34}else{_30.drawnY=_29+_15/2;_30.drawnX=_33+_34}
_30.barThickness=_15;_30.drawItemId=_35&&_35.ID;_30.value=_31}
if(_6==this){var _37=(_1!=null),_38=_37&&_1.findIndex("dataValue",_5[i].title);if(!_37||_38!=-1){var _29=_19+((i-_8)*_18),_39=_29+Math.floor(_16/2),_40=(_37?_1[_38].label:_5[i].title);this.drawDataLabel(_39,_40,_13,_2)}}}}else{var _41,_42=null;if(_23){if(this.isMultiFacet()){var _43=this.$103u(_6);_42=this.getLegendFacet().values.findIndex("id",_43.id);_41=_5.getProperty("series").getProperty(_42).getProperty("record")}else{_41=_5.getProperty("record")}}
var _33=this.getValueCoord(_21,_13,_6);for(var i=_8;i<=_9;i++){var _29=((i-_8)*_18)+_19,_44=(_23?_41[i][_24]:_5[i].value),_32=!isc.isA.Number(_44),_34=(_32?0:this.getValueCoord(_44,_13,_6)-_33),_35=null;if(!_32){var _36=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_36.fillColor=this.$107b(i,_6)}else{_36.fillGradient=this.$99i(i,null,null,_6)}
_35=this.drawBar(_13,_29,_33,_15,_34,_36)}
var _30=this.$1040(_6,i,_42);if(_13){_30.drawnX=_29+_15/2;_30.drawnY=_33+_34}else{_30.drawnY=_29+_15/2;_30.drawnX=_33+_34}
_30.barThickness=_15;_30.drawItemId=_35&&_35.ID;if(_6==this){var _37=(_1!=null),_38=_37&&_1.findIndex("dataValue",_5[i].title);if(!_37||_38!=-1){var _39=Math.round(_29+(_15/2)),_40=(_37?_1[_38].label:_5[i].title);this.drawDataLabel(_39,_40,_13,_2)}}}}},isc.A.$1041=function isc_FacetChart__getShowDataValues(_1){_1=_1||this;var _2=_1.chartType!="Scatter"&&_1.showDataValues&&!(!_1.$101c&&_1.$101d);if(this.$1035()){var _3=this.$1036(),_4=1+_3.all.length;for(var j=0;_2&&j<_4;++j){var c=(j==0?this:_3.all[j-1]);if(c==_1){break}else{_2=!(c.showDataValues&&!(!c.$101c&&c.$101d))}}}
return _2},isc.A.$1042=function isc_FacetChart__getShowValueOnHover(_1){_1=_1||this;return _1.chartType!="Scatter"&&!this.$1041(_1)&&(_1.showValueOnHover||(_1.showValueOnHover!==false&&_1.showDataValues&&!(_1.$101c&&!_1.$101d)))},isc.A.$1043=function isc_FacetChart__getShowValueOnHoverContext(){if(this.$1035()){var _1=this.$1036().all,_2=1+_1.length;for(var j=0;j<_2;++j){var _4=(j==0?this:_1[j-1]);if(this.$1042(_4)){return _4}}}else if(this.$1042()){return this}
return null},isc.A.$1003=function isc_FacetChart__drawDataValueLabels(_1,_2){_2=_2||this;if(this.$1041(_2)){var _3={},_4=(_2!=this),_5=_2.isMultiFacet(),_6,_7,_8;if(_4){_6=_2.$103o;if(!_5){if(this.isMultiFacet()){var _9=this.$103u(_2);_8=this.getLegendFacet().values.findIndex("id",_9.id);_7=_1.getProperty("series").getProperty(_8).getProperty("record")}else{_7=_1.getProperty("record")}}}
switch(_2.chartType){case"Area":case"Line":if(this.isMultiFacet()&&(!_4||_2.isMultiFacet())){var _10=0;for(var i=0;i<_1.length;i++){var _12=_10;_10=0;for(var j=0;j<_1[i].series.length;j++){var _14=_1[i].series[j],_15=_4?_14.record[_6]:_14.value;if(!isc.isA.Number(_15))continue;var _16=this.$104t(_3,i,j,_2,_15);_10=Math.max(_10,_16.width);if(_12>0){var _17=this.$1040(_2,i,j).drawnX
-this.$1040(_2,i-1,0).drawnX
-_12;if(_17<20){_2.$101d=true;delete _2.$101c;return}}
for(var k=j+1;k<_1[i].series.length;k++){var _14=_1[i].series[k],_15=_4?_14.record[_6]:_14.value;if(!isc.isA.Number(_15))continue;var _19=Math.abs(this.$1040(_2,i,k).drawnY
-this.$1040(_2,i,j).drawnY);_19-=_16.height;if(_19<5){_2.$101d=true;delete _2.$101c;return}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _20=this.$104t(_3,i,j);if(_20!=null){var _21=this.$1040(_2,i,j);this.$1004(_21.drawnX,_21.drawnY,_20)}}}}else{var k=!_5?_8:null;for(var j=1;j<_1.length;j++){var _15=_4?_7[j][_6]:_1[j].value;if(!isc.isA.Number(_15))continue;var _16=this.$104t(_3,j-1,null,_2,_4?_7[j-1][_6]:_1[j-1].value);var _17=this.$1040(_2,j,k).drawnX
-this.$1040(_2,j-1,k).drawnX
-_16.width;if(_17<20){_2.$101d=true;delete _2.$101c;return}}
this.$104t(_3,_1.length-1,null,_2,_4?_7[_1.length-1][_6]:_1[_1.length-1].value);for(var j=0;j<_1.length;j++){var _20=this.$104t(_3,j);if(_20!=null){var _21=this.$1040(_2,j,k);this.$1004(_21.drawnX,_21.drawnY,_20)}}}
break;case"Radar":if(this.isMultiFacet()){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){if(!isc.isA.Number(_1[i].series[j].value))continue;var _16=this.$104t(_3,i,j,_2,_1[i].series[j].value);var _22=Math.sqrt(_16.width*_16.width+_16.height*_16.height);for(var _23=i;_23<_1.length;_23++){for(var _24=(_23==i)?j+1:0;_24<_1[_23].series.length;_24++){if(!isc.isA.Number(_1[_23].series[_24].value))continue;var _25=this.$104t(_3,_23,_24,_2,_1[_23].series[_24].value);var _26=Math.sqrt(_25.width*_25.width+_25.height*_25.height);var _17=_1[i].series[j].drawnX-_1[_23].series[_24].drawnX;var _19=_1[i].series[j].drawnY-_1[_23].series[_24].drawnY;var _27=Math.sqrt(_17*_17+_19*_19);_27-=(_22+_26)/2;if(_27<=0){this.$101d=true;delete this.$101c;return}}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _20=this.$104t(_3,i,j);if(_20!=null){this.$1004(_1[i].series[j].drawnX,_1[i].series[j].drawnY,_20)}}}}else{for(var j=0;j<_1.length;j++){if(!isc.isA.Number(_1[j].value))continue;var _16=this.$104t(_3,j,null,_2,_1[j].value);var _22=Math.sqrt(_16.width*_16.width+_16.height*_16.height);for(var _24=j+1;_24<_1.length;_24++){if(!isc.isA.Number(_1[_24].value))continue;var _25=this.$104t(_3,_24,null,_2,_1[_24].value);var _26=Math.sqrt(_25.width*_25.width+_25.height*_25.height);var _17=_1[j].drawnX-_1[_24].drawnX;var _19=_1[j].drawnY-_1[_24].drawnY;var _27=Math.sqrt(_17*_17+_19*_19);_27-=(_22+_26)/2;if(_27<=0){this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _20=this.$104t(_3,j);if(_20!=null){this.$1004(_1[j].drawnX,_1[j].drawnY,_20)}}}
break;case"Bar":case"Column":if(this.isMultiFacet()&&(!_4||_2.isMultiFacet())){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _14=_1[i].series[j],_15=_4?_14.record[_6]:_14.value;if(!isc.isA.Number(_15))continue;var _28=window[this.$1040(_2,i,j).drawItemId];var _16=this.$104t(_3,i,j,_2,_15);var _19=_28.height-_16.height;var _17=_28.width-_16.width;if(_19<5||_17<10){_2.$101d=true;delete _2.$101c;return}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _20=this.$104t(_3,i,j);if(_20!=null){var _29=this.$1040(_2,i,j);this.$1005(_29.drawnX,_29.drawnY,_20,_2.chartType)}}}}else{var k=!_5?_8:null;for(var j=0;j<_1.length;j++){var _15=_4?_7[j][_6]:_1[j].value;if(!isc.isA.Number(_15))continue;var _20=this.$104t(_3,j,null,_2,_15),_29=this.$1040(_2,j,k);this.$1005(_29.drawnX,_29.drawnY,_20,_2.chartType)}}
break;case"Doughnut":case"Pie":var _30=_1[0].radiusStep;if(_30<40){this.$101d=true;delete this.$101c;return}
if(this.isMultiFacet()){var _31=_30*2/3;for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];if(!isc.isA.Number(s.value))continue;var _16=this.$104t(_3,i,j,_2,s.value);var _33=s.pieRadius-Math.max(_31,_16.width+15);var _34=s.endAngle-s.startAngle;if(_34<60){var _35=2*_33*Math.tan(_34*Math.PI/180);if(_16.width>_35){this.$101d=true;delete this.$101c;return}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];var _20=this.$104t(_3,i,j);if(_20!=null){var _33=s.pieRadius-Math.max(_31,_20.width+15);this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_20,_33)}}}}else{var _36=(this.doughnutSize==null?0:this.doughnutSize);for(var j=0;j<_1.length;j++){var s=_1[j];if(!isc.isA.Number(s.value))continue;var _33=s.pieRadius/2-_36,_34=s.endAngle-s.startAngle,_16=this.$104t(_3,j,null,_2,s.value);if(_34<60){var _35=2*_33*Math.tan(_34*Math.PI/180);if(_16.width>_35){this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _20=this.$104t(_3,j);if(_20!=null){var s=_1[j];this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_20,_1[j].pieRadius/2)}}}
break}}},isc.A.$1005=function isc_FacetChart__drawDataValueLabelForBar(_1,_2,_3,_4){if((_4||this.chartType)=="Column"){_1-=_3.width/2;_2-=_3.height}else{_2-=_3.height/2;_1+=4}
if(_1<0){_1=0}else if((_1+_3.width)>this.getWidth()){_1=this.getWidth()-_3.width-4}
if(_2<0){_2=0}else if((_2+_3.height)>this.getHeight()){_2=this.getHeight()-_3.height-4}
this.drawLabel(_1,_2,_3.text,this.hoverLabelProperties)},isc.A.$1004=function isc_FacetChart__drawDataValueLabelForPoint(_1,_2,_3){var _4=_1-_3.width/2;var _5=_2-_3.height-4;if(_4<0){_4=0}else if((_4+_3.width)>this.getWidth()){_4=this.getWidth()-_3.width-4}
if(_5<0){_5=0}else if((_5+_3.height)>this.getHeight()){_5=this.getHeight()-_3.height-4}
this.drawLabel(_4,_5,_3.text,this.hoverLabelProperties)},isc.A.$1006=function isc_FacetChart__drawDataValueLabelForPie(_1,_2,_3,_4,_5,_6){var _7=(_3+_4)/2+90;if(_7<0){_7+=360}
var _8=this.$100k([_1,_2],_6||this.maxRadius,_7,_5.value,this.hoverLabelProperties);_1=_8[0];_2=_8[1];if(_1<0){_1=0}else if((_1+_5.width)>this.getWidth()){_1=this.getWidth()-_5.width-4}
if(_2<0){_2=0}else if((_2+_5.height)>this.getHeight()){_2=this.getHeight()-_5.height-4}
this.drawLabel(_1,_2,_5.text,this.hoverLabelProperties)},isc.A.drawBar=function isc_FacetChart_drawBar(_1,_2,_3,_4,_5,_6){if(!_1){return this.drawBar(!_1,_3,_2,_5,_4,_6)}
return this.drawRect(_2,_5>0?_3:_3+_5,_4,Math.abs(_5),_6)},isc.A.drawRect=function isc_FacetChart_drawRect(_1,_2,_3,_4,_5){var _6=isc.DrawRect.create(_5,{autoDraw:true,drawPane:this,left:_1,top:_2,width:_3,height:_4});return _6},isc.A.drawDataSeriesLine=function isc_FacetChart_drawDataSeriesLine(_1,_2){this.drawDataLine(_1,{lineColor:this.$107b(_2)},this)},isc.A.$112i=function isc_FacetChart__getDataShape(_1,_2,_3){var _4=(_3?"DrawPolygon":"DrawPath");var _5=this.dataShapeProperties;if(!this.hasShadows)_5.shadow=null;var _6=isc[_4].create(_5,_2,{drawPane:this,points:_1,autoDraw:false});return _6},isc.A.drawDataShape=function isc_FacetChart_drawDataShape(_1,_2,_3){var _4=this.$112i(_1,_2,_3);_4.draw();return _4},isc.A.drawDataLine=function isc_FacetChart_drawDataLine(_1,_2,_3){var _4=(this.$1095(_3)=="smooth");if(!this.discontinuousLines){var _5=[];for(var i=0;i<_1.length;i++){if(!isNaN(_1[i][1])){_5.add(_1[i])}}
this.drawDataLineSegment(_5,0,_5.length,_2,_3,_4)}
var _7=null;for(var i=0;i<_1.length;i++){var _8=_1[i];if(isNaN(_8[1])){if(_7!=null){this.drawDataLineSegment(_1,_7,i,_2,_3,_4);_7=null}}else if(_7==null){_7=i}}
if(_7!=null){this.drawDataLineSegment(_1,_7,_1.length,_2,_3,_4)}},isc.A.drawDataLineSegment=function isc_FacetChart_drawDataLineSegment(_1,_2,_3,_4,_5,_6){_5=_5||this;var _7=this.isFilled(_5)?_5.dataOutlineProperties:_5.dataLineProperties;if(!this.hasShadows)_7.shadow=null;var _8=_3-_2;if(_8==1){isc.DrawTriangle.create(_7,_4,{drawPane:this,points:this.getTriangleOnPoint(_1[_2],this.singlePointMarkerSize),autoDraw:true,fillColor:(_4&&_4.lineColor)||_7.lineColor})}else if(_8>0&&(!_6||_8==2)){var _9={drawPane:this,points:_1.slice(_2,_3),autoDraw:true};if(_5.chartType=="Line"||(_5.chartType=="Area"&&!this.isFilled(_5)))
{_9.svgFilter="isc_ds1"}
return isc.DrawPath.create(_7,_4,_9)}else{var _10=0,s=(1-_10)/6;var _12;for(var i=_2;i<_3-1;++i){var _14=_1[Math.max(i-1,_2)],_15=_1[i],_16=_1[i+1],_17=_1[Math.min(i+2,_3-1)];var _18=s*(_16[0]-_14[0]),_19=s*(_17[0]-_15[0]),_20=s*(_16[1]-_14[1]),_21=s*(_17[1]-_15[1]);_12=isc.DrawCurve.create(_7,_4,{drawPane:this,autoDraw:true,startPoint:_15,controlPoint1:[_15[0]+_18,_15[1]+_20],endPoint:_16,controlPoint2:[_16[0]-_19,_16[1]-_21]})}
return _12}},isc.A.drawValueLine=function isc_FacetChart_drawValueLine(_1,_2,_3){var _4={drawPane:this,autoDraw:true};if(_1!=null){_4.startLeft=_1[0];_4.startTop=_1[1]}
if(_2!=null){_4.endLeft=_2[0];_4.endTop=_2[1]}
isc.DrawLine.create(this.valueLineProperties,_3,_4)},isc.A.drawPieData=function isc_FacetChart_drawPieData(){var _1=this.getChartRect(),_2=this.getChartCenter(),_3=Math.min(_1.width,_1.height)/2-(this.getChartRectLineWidth()*2),_4=this.getOrderedData(),_5=(this.shouldShowDoughnut()?(_3*this.doughnutRatio):0);var _6=20;if(this.isMultiFacet()){var _7=_4.length;if(this.stacked){_3=this.getChartRadius()}
var _8=_3-_5,_9=_8/_7,_10=360/_7;_4[0].radiusStep=_9;var _11=Math.ceil(Math.sqrt((_1.width/_1.height)*_7)),_12=Math.ceil(_7/_11),_13=_7%_11==0?_11:_7%_11;if(_13<_11&&(_12-1)<=(_11-1-_13)){_11-=1;_13+=(_12-1)}
var _14=Math.min(_1.width/_11,_1.height/_12),_15=(_14-_6)/2,_16=(_1.width-(_11*_14))/2,_17=(_1.width-(_13*_14))/2;for(var i=0;i<_7;i++){var _19=_4[i].series,_20=_4[i].title,_21=new Array(_19.length),_22=0;for(var j=_19.length;j--;){var _24=_19[j].value;if(!isc.isA.Number(_24))_24=0;_21[j]=_24;_22+=_24}
if(this.stacked){var _25=_3-(_9*i);this.drawPieSeries(_21,_22,_2,_25,i,(i!=0));var _26=this.pieLabelAngleStart+(_10*i);this.drawRadialLabel(_2,_3+this.pieLabelLineExtent,_26,_20);var _27=isc.GraphMath.polar2screen(_26,_25-(_9/2),_2,true),_28=isc.GraphMath.polar2screen(_26,_3+this.pieLabelLineExtent,_2,true);this.drawValueLine(_27,_28,this.pieLabelLineProperties)}else{var _29=Math.floor(i/_11);var _30=_1.top+(_29*_14);var _31=_1.left+((i%_11)*_14);if(_29==_12-1)_31+=_17;else _31+=_16;var _32=[_31+(_6/2)+_15,_30+_6+_15];this.drawPieSeries(_21,_22,_32,_15,i);if(this.shouldShowDoughnut()){isc.DrawOval.create({shadow:this.hasShadows?{blur:5,color:"#333333",offset:[0,0]}:null},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_32,radius:_15*this.doughnutRatio})}
var _33=this.measureLabel(_20,this.dataLabelProperties);this.drawLabel(_31+(_14/2)-(_33.width/2),_30+(_6/2)-(_33.height/2),_20,this.dataLabelProperties)}}}else{var _21=new Array(_4.length),_22=0;for(var j=_4.length;j--;){var _24=_4[j].value;if(!isc.isA.Number(_24))_24=0;_21[j]=_24;_22+=_24}
this.drawPieSeries(_21,_22,_2,_3,0,false)}
if(this.shouldShowDoughnut()&&(!this.isMultiFacet()||this.stacked)){isc.DrawOval.create({shadow:this.hasShadows?{blur:5,color:"#333333",offset:[0,0]}:null},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_2,radius:_5})}});isc.evalBoundary;isc.B.push(isc.A.drawPieSeries=function isc_FacetChart_drawPieSeries(_1,_2,_3,_4,_5,_6){if(this.showShadows&&this.hasShadows&&!_6){isc.DrawOval.create({shadow:{blur:8,color:"#111111",offset:[2,2]}},this.pieBorderProperties,this.shadowProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
if(this.$101d||this.$101c){isc.DrawOval.create({fillColor:"#ffffff"},this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
var _7=0;var _8=this.getOrderedData();for(var i=0;i<_1.length;i++){var _10=_1[i],_11=(_2!=0?360*_10/_2:0),_12=Math.floor(_7),_13=Math.ceil(_7+_11);var _14=(_8[_5].series==null?_8[i]:_8[_5].series[i]);_14.pieX=_3[0];_14.pieY=_3[1];_14.startAngle=_12;_14.endAngle=_13;_14.pieRadius=_4;if(_10==0){continue}
var _15={drawPane:this,autoDraw:true,centerPoint:_3,radius:_4,startAngle:_12,endAngle:_13,fillColor:!this.useAutoGradients?this.$107b(i):null,fillGradient:this.useAutoGradients?this.$985(i,_3,_4):null};if(this.useAutoGradients&&this.drawingType!="svg"){_15.svgFillGradient=this.$985(i,_3,_4,false,"svg")}
var _16=isc.$983.create(this.pieSliceProperties,_15);_14.drawItemId=_16.ID;_7+=_11}
if(_6){isc.DrawOval.create(_6?this.pieRingBorderProperties:this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4})}},isc.A.getYAxisMetric=function isc_FacetChart_getYAxisMetric(){return this.yAxisMetric||this.metricFacet.values[0].id},isc.A.getXAxisMetric=function isc_FacetChart_getXAxisMetric(){return this.xAxisMetric||this.metricFacet.values[1].id},isc.A.getSecondGradations=function isc_FacetChart_getSecondGradations(){if(this.$106w)return this.$106w;var _1=this.getXAxisMetric(),_2=this.$1066(),_3=this.$1064(),_4=this.getMaxValue(_1),_5=this.getMinValue(_1);if(_2!=null){_4=Math.max(_4,this.getMaxValue(_2));_5=Math.min(_5,this.getMinValue(_2))}
if(_3!=null){_4=Math.max(_4,this.getMaxValue(_3));_5=Math.min(_5,this.getMinValue(_3))}
var _6=Math.max(150,this.getInnerContentWidth()-(2*this.chartRectMargin)-300);this.$106w=this.$914(_4,_5,true,false,_6);return this.$106w},isc.A.drawScatterData=function isc_FacetChart_drawScatterData(_1){var _2=this.getXAxisMetric(),_3=Math.min(0,this.getMinValue(_2)),_4=this.getMaxValue(_2),_5=0,_6=this.getGradations().last(),_7=this.$1066(),_8=this.$1064();if(_7!=null){_5=Math.min(_5,this.getMinValue(_7));_6=Math.max(_6,this.getMaxValue(_7))}
if(_8!=null){_5=Math.min(_6,this.getMinValue(_8));_6=Math.max(_6,this.getMaxValue(_8))}
var _9=this.getSecondGradations();this.drawGradations(false,_9);if(!this.showStatisticsOverData){this.$102l()}
for(var i=0;i<_9.length;i++){var _11=this.$1069(_9[i],_3,_4,false);this.drawDataLabel(_11,this.formatAxisValue(_9[i],true),true,_1)}
var _12=this.getOrderedData(),_13=this.getLegendFacet();if(_13==null){this.drawScatterSeries(_12,0,_3,_4,_5,_6)}else{for(var i=0;i<_13.values.length;i++){this.drawScatterSeries(_12[i].series,i,_3,_4,_5,_6)}}},isc.A.drawScatterSeries=function isc_FacetChart_drawScatterSeries(_1,_2,_3,_4,_5,_6){var _7=this.getChartRect(),_8=this.getXAxisMetric(),_9=this.getYAxisMetric(),_10=[],_11=[];for(var i=0;i<_1.length;i++){var _13=_1[i].record,_14=_13[_8],_15=_13[_9],_16=this.$1069(_14,_3,_4,false),_17=this.getYCoord(_15);_1[i].drawnX=_16;_1[i].drawnY=_17;_10.add([_16,_17]);_11.add(_15)}
if(this.showScatterLines){this.drawDataSeriesLine(_10,_2)}
this.drawPoints(_10,_1,_2,_11);if(this.$1066()!=null){this.drawErrorBars(_10,_1,_2,_6,_7)}},isc.A.$102m=function isc_FacetChart__getProbabilityMetric(){var _1=this.probabilityMetric,_2=this.metricFacet;return(_1!=null&&_2!=null&&_2.values.findIndex("id",_1)!=-1?_1:null)},isc.A.$102n=function isc_FacetChart__getStatCache(_1){if(_1==null){_1=this.getDefaultMetric()}
if(isc.isA.String(_1)&&this.metricFacet!=null&&this.metricFacet.values.findIndex("id",_1)!=-1){var _2=_1;_1={};_1[this.metricFacet.id]=_2}else{_1={}}
var _3=this.$102k||(this.$102k=this.$106i().getProperty("id"));var _4=isc.StringBuffer.newInstance();for(var i=0,_6=_3.length;i<_6;++i){var _7=_3[i];if(_1[_7]!=null){_4.append(_7,"=",_1[_7].toString(),";")}}
var _8=this.$102o||(this.$102o={}),_9=_4.toString();if(_8[_9]==null){_8[_9]={criteria:_1}}
return _8[_9]},isc.A.$102p=function isc_FacetChart__getDataArray(_1,_2){return(_2.data||(_2.data=this.getValue(_2.criteria,true)))},isc.A.$102r=function isc_FacetChart__getProbabilities(_1,_2,_3){if(_2.probabilities!=null){return _2.probabilities}
_1=_2.criteria;var c=isc.addProperties({},_1);c[this.metricFacet.id]=_3;var _5=this.getValue(c,true);var n=_5.length,_7=0;for(var i=n;i--;){var p=_5[i];if(!(isc.isA.Number(p)&&p>=0)){_5[i]=0}else{_7+=p}}
if(_7!=1){if(_7==0){var _10=1/n;for(var i=n;i--;){_5[i]=_10}}else{for(var i=n;i--;){_5[i]/=_7}}}
return(_2.probabilities=_5)},isc.A.$102s=function isc_FacetChart__getSortedDataIndex(_1){var _2=this.$102n(_1);if(_2.sortedDataIndex!=null){return _2.sortedDataIndex}else{var _3=this.$102p(_1,_2),_4=new Array(_3.length);for(var i=_3.length;i--;){_4[i]=i}
_4.sort(function(i,_6){return _3[i]-_3[_6]});return(_2.sortedDataIndex=_4)}},isc.A.getNumDataPoints=function isc_FacetChart_getNumDataPoints(_1){var _2=this.$102n(_1),_3=this.$102p(_1,_2);return _3.length},isc.A.getMean=function isc_FacetChart_getMean(_1){var _2=this.$102n(_1);if(_2.mean!=null){return _2.mean}
var _3=this.$102p(_1,_2),_4=this.$102m(),_5;if(_4==null){_5=isc.Chart.$102g(_3)}else{var _6=this.$102r(_1,_2,_4);_5=0;for(var i=_3.length;i--;){_5+=_3[i]*_6[i]}}
return(_2.mean=_5)},isc.A.$102t=function isc_FacetChart__numberSortOrder(_1,_2){return _1-_2},isc.A.getMedian=function isc_FacetChart_getMedian(_1){return this.getPercentile(_1,50)},isc.A.getPercentile=function isc_FacetChart_getPercentile(_1,_2){if(!isc.isA.Number(_2)){return null}
_2=Math.max(0,Math.min(100,_2));var _3="percentile("+_2+")";_2/=100;var _4=this.$102n(_1);if(_4[_3]!=null){return _4[_3]}
var _5=this.$102p(_1,_4),_6=this.$102m(),_7=_5.length;var i,j,_10,_11;if(_6==null){var _12=_4.sortedData||(_4.sortedData=_5.sort(this.$102t));i=Math.floor(_2*(_7-1));j=Math.ceil(_2*(_7-1));_10=_12[i];_11=_12[j]}else{var _13=this.$102s(_1),_14=this.$102r(_1,_4,_6),_15=0;for(j=0;j<_7&&_15<_2;++j){_15+=_14[_13[j]]}
--j;_11=_5[_13[j]];for(i=j;i<_7&&_14[_13[i]]==0;){++i}
if(i==_7)--i;for(_15=1-_15;i>=0&&_15<1-_2;--i){_15+=_14[_13[i]]}
++i;_10=_5[_13[i]]}
return(_4[_3]=(_10+_11)/2)},isc.A.getRange=function isc_FacetChart_getRange(_1){var _2=this.getMax(_1),_3=this.getMin(_1);return(_2==null||_3==null?null:_2-_3)},isc.A.getStdDev=function isc_FacetChart_getStdDev(_1,_2){return Math.sqrt(this.getVariance(_1,_2))},isc.A.getVariance=function isc_FacetChart_getVariance(_1,_2){var _3=this.$102n(_1),_4=(_2?"population":"sample")+"Variance",_5=(!_2?"population":"sample")+"Variance";if(_3[_4]!=null){return _3[_4]}else if(_3[_5]!=null){var n=_3.data.length;return(_3[_4]=_3[_5]*(_2?(n-1)/n:n/(n-1)))}
var _7=this.$102p(_1,_3),_8=this.$102m(),_9=this.getMean(_1),n=_7.length,_10;if(_8==null){_10=isc.Chart.$102h(_7,_2,_9)}else{var _11=this.$102r(_1,_3,_8);var _12=0;for(var i=_7.length;i--;){var t=_7[i];_12+=t*t*_11[i]}
_10=_12-_9*_9;if(!_2){_10*=n/(n-1)}}
return(_3[_4]=_10)},isc.A.getMax=function isc_FacetChart_getMax(_1){var _2=this.$102n(_1);if(_2.max!=null){return _2.max}else if(_2.sortedData!=null){return(_2.max=_2.sortedData.last())}else{var _3=this.$102p(_1,_2);return(_2.max=_3.max())}},isc.A.getMin=function isc_FacetChart_getMin(_1){var _2=this.$102n(_1);if(_2.min!=null){return _2.min}else if(_2.sortedData!=null){return(_2.min=_2.sortedData.first())}else{var _3=this.$102p(_1,_2);return(_2.min=_3.min())}},isc.A.setRegressionLineType=function isc_FacetChart_setRegressionLineType(_1){var _2=(_1=="line"||_1=="polynomial");if(_2){var _3=(_1!=this.regressionLineType);this.regressionLineType=_1;if(_3&&this.showRegressionLine&&this.regressionPolynomialDegree!=1){this.$105a(false)}}},isc.A.setShowRegressionLine=function isc_FacetChart_setShowRegressionLine(_1){var _2=(_1!=this.showRegressionLine);this.showRegressionLine=_1;if(_2){this.$105a(false)}},isc.A.setRegressionPolynomialDegree=function isc_FacetChart_setRegressionPolynomialDegree(_1){var _2=this.$112m(_1);if(_2){var _3=(_1!=this.regressionPolynomialDegree);this.regressionPolynomialDegree=_1;if(_3&&this.showRegressionLine&&this.regressionLineType=="polynomial"){this.$105a(false)}}},isc.A.$112m=function isc_FacetChart__isDegreeValid(_1){return(isc.isA.Number(_1)&&_1>0&&_1==Math.round(_1))},isc.A.getSimpleLinearRegressionFunction=function isc_FacetChart_getSimpleLinearRegressionFunction(_1,_2){return this.getPolynomialRegressionFunction(1,_1,_2,"FacetChart.getSimpleLinearRegressionFunction()")},isc.A.$102u=function isc_FacetChart__validatePolynomialDegree(_1){return isc.isA.Number(_1)&&_1>0&&Math.round(_1)===_1},isc.A.getPolynomialRegressionFunction=function isc_FacetChart_getPolynomialRegressionFunction(_1,_2,_3,_4){_4=isc.isA.String(_4)?_4:"FacetChart.getPolynomialRegressionFunction()";if(!this.$102u(_1)){if(_1!=null){this.logWarn("Invalid degree argument passed to "+_4+".  The degree must be a positive integer.")}
_1=this.regressionPolynomialDegree;if(!this.$102u(_1)){this.logWarn("The regressionPolynomialDegree property of the FacetChart is invalid.  The degree must be a positive integer.");return null}}
var _5=this.metricFacet.id,_6,_7;if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){if(_2!=null){this.logWarn("Invalid xMetric argument passed to "+_4+".  The xMetric must be the String ID of a metric facet value.")}
_2=this.getXAxisMetric();if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){this.logWarn("Could not find an x-axis metric defined for the FacetChart.");return null}}
if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){if(_3!=null){this.logWarn("Invalid yMetric argument passed to "+_4+".  The yMetric must be the String ID of a metric facet value.")}
_3=this.getYAxisMetric();if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){this.logWarn("Could not find a y-axis metric defined for the FacetChart.");return null}}
var _8={},_9={};_8[_5]=_6.id;_9[_5]=_7.id;return isc.FacetChart.$102v(_1,this.getValue(_8,true),this.getValue(_9,true))},isc.A.$102l=function isc_FacetChart__drawStatistics(_1,_2){if(this.isPieChart()){return}
if(this.isMultiFacet()&&this.isStacked()){return}
var _3=this.chartType=="Radar";var m;if(_1&&this.metricFacet&&_1[this.metricFacet.id]&&this.metricFacet.findIndex("id",_1[this.metricFacet.id])!=-1)
{m=_1[this.metricFacet.id]}else{m=this.getDefaultMetric()}
if(_2==null){if(this.chartType=="Scatter"){if(m==this.getXAxisMetric())_2=false;else if(m==this.getYAxisMetric())_2=true}else if(_3){if(m==this.valueProperty)_2=false}else if(this.hasXGradations()){if(m==this.valueProperty)_2=false}else if(this.hasYGradations()){if(m==this.valueProperty)_2=true}}
if(_2==null){return}
var _5=this.getChartRect();var _6=_5.top,_7=_5.left,_8=_5.width,_9=_5.height,_10=_6+_9,_11=_7+_8;var _12,_13;if(_3){_12=this.getChartCenter();_13=this.getChartRadius()}
var _14,_15;if(this.chartType=="Scatter"){var _16=this.getXAxisMetric();_14=Math.min(0,this.getMinValue(_16));_15=this.getMaxValue(_16)}
if(_3&&_2){return}
var _17=this.showExpectedValueLine,_18=this.showStandardDeviationLines&&isc.isAn.Array(this.standardDeviations),_19=this.getMean(_1),_20=this.getStdDev(_1);if(_18){var _21=this.standardDeviations,_22=_21.length,_23=this.useSymmetricStandardDeviations,_24=this.standardDeviationBandProperties;if(_23){_21=_21.map(Math.abs);var _25=(_21.first()===0),_26=_25?1:0,_27=_22-_26,_28=2*(_22-_26)+_26,_29=new Array(_28),_30=2*_27-1,_31=new Array(_30);for(var i=_22-_26;i--;){var j=i+_26;_29[j]=-(_29[_28-1-j]=_21[_22-1-i]);_31[i]=_31[_30-1-i]=_24[_27-1-i]}
if(_25){_29[_22]=0}
_22=_28;_21=_29;_24=_31}
if(this.bandedStandardDeviations&&!_3&&_22>1){var _34,_35=_19+_20*_21[0],_36,_37;if(_2){_37=this.getYCoord(_35);_37=Math.max(_6,Math.min(_10,_37))}else{_37=this.$1069(_35,_14,_15);_37=Math.max(_7,Math.min(_11,_37))}
for(var i=1;i<_22;++i){_34=_35;_35=_19+_20*_21[i];_36=_37;var t=_6,l=_7,w=_8,h=_9;if(_2){_37=this.getYCoord(_35);_37=Math.max(_6,Math.min(_10,_37));t=_36;h=_37-t}else{_37=this.$1069(_35,_14,_15);_37=Math.max(_7,Math.min(_11,_37));l=_36;w=_37-l}
var _42=_24[i-1];if(_42==null){continue}
this.addDrawItem(isc.DrawRect.create(_42,{autoDraw:true,top:t,left:l,width:w,height:h}))}}
for(var i=0;i<_22;++i){var _43=_21[i],_35=_19+_20*_43;if(_43==0&&_17){continue}
if(_3&&!_2){var _44=this.getValueRatio(_35);if(!(_44<0||_44>1)){this.addDrawItem(isc.DrawOval.create(this.standardDeviationLineProperties,{autoDraw:true,centerPoint:_12,radius:_44*_13}))}}else if(_2){var y=this.getYCoord(_35);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.$1069(_35,_14,_15);if(!(y<_7||y>_11)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}}
if(_17){if(_3&&!_2){var _44=this.getValueRatio(_19);if(!(_44<0||_44>1)){this.addDrawItem(isc.DrawOval.create(this.expectedValueLineProperties,{autoDraw:true,centerPoint:_12,radius:_44*_13}))}}else if(_2){var y=this.getYCoord(_19);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.$1069(_19,_14,_15);if(!(x<_7||x>_11)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}
this.$102w()},isc.A.$102w=function isc_FacetChart__drawRegressionCurves(){if(this.chartType!="Scatter"){return}else if(this.showRegressionLine){if(this.regressionLineType=="line"){var _1=this.getSimpleLinearRegressionFunction();if(_1!=null){this.$102x(_1,1,this.regressionLineProperties)}}else if(this.regressionLineType=="polynomial"){var _2=this.regressionPolynomialDegree,_3=this.getPolynomialRegressionFunction(_2);if(_3!=null){this.$102x(_3,_2,this.regressionLineProperties)}}}},isc.A.$102x=function isc_FacetChart__drawPolynomial(_1,_2,_3){var _4=this.getChartRect(),_5=this.getSecondGradations(),_6=_5.first(),_7=_5.last(),_8=_7-_6,_9=this.getGradations(),_10=_9.first(),_11=_9.last(),n;if(_2==1){n=2}else{n=Math.ceil(_4.width/5)}
var _13=new Array(n);for(var i=n;i--;){var x=_6+i*_8/(n-1),_16=this.$1069(x,_6,_7),_17=this.getYCoord(_1(x));_13[i]=[_16,_17]}
var _18=!this.supportsFractionalCoordinates(),_19=isc.FacetChart.$102y(_13,_4,_18),_20=_19.length;if(_2==1){var _21=_19[0][0],_22=_19[0][1];this.addDrawItem(isc.DrawLine.create(_3,{autoDraw:true,startLeft:_21[0],startTop:_21[1],endLeft:_22[0],endTop:_22[1]}))}else{for(var i=0;i<_20;++i){this.addDrawItem(isc.DrawPath.create(_3,{autoDraw:true,points:_19[i]}))}}},isc.A.drawDataPoint=function isc_FacetChart_drawDataPoint(_1,_2,_3,_4,_5,_6,_7){_6=_6||this;_7=_7!=null?_7:this.interactivePoints;if(isNaN(_1[1]))return;var _8=this.$107b(_2,_6),_9=this.pointShapes[_2%this.pointShapes.length];_3=_3||_6.dataPointSize;var _9=this["draw"+_9+"Point"](_6,_8,_1,_3);if(_7){_3+=2;if(_3<this.minKnobSize)_3=this.minKnobSize;var _10=isc.DrawKnob.create({autoDraw:false,drawPane:this,$104q:_6,knobShape:_9,dataRecord:_4,dataValue:_5,x:this.getLeftPadding()+_1[0],y:this.getTopPadding()+_1[1],width:_3,height:_3,overflow:"hidden",border:this.showKnobs?"1px solid black":"none",cursor:"crosshair",canHover:true,hover:function(){var _6=this.$104q;if(_6.pointHover){return _6.pointHover(this.dataValue,this.dataRecord,this.knobShape,this)}},getHoverHTML:function(){if(_6.getPointHoverHTML){return _6.getPointHoverHTML(this.dataValue,this.dataRecord,this.knobShape,this)}else return null},click:function(){if(_6.pointClick){return _6.pointClick(this.dataValue,this.dataRecord,this.knobShape,this)}}});this.addChild(_10);this.knobs=this.knobs||[];this.knobs.add(_10);return _10}else{return _9}},isc.A.drawOvalPoint=function isc_FacetChart_drawOvalPoint(_1,_2,_3,_4){_1=_1||this;return isc.DrawOval.create({lineColor:_2},_1.dataPointProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:Math.round(_4/2)})},isc.A.drawSquarePoint=function isc_FacetChart_drawSquarePoint(_1,_2,_3,_4,_5){_1=_1||this;return isc.DrawRect.create({lineColor:_2},_1.dataPointProperties,{drawPane:this,autoDraw:true,left:_3[0]-Math.round(_4/2),top:_3[1]-Math.round(_4/2),width:_4,height:_4,rotation:_5})},isc.A.drawDiamondPoint=function isc_FacetChart_drawDiamondPoint(_1,_2,_3,_4){return this.drawSquarePoint(_1,_2,_3,_4,45)},isc.A.drawTrianglePoint=function isc_FacetChart_drawTrianglePoint(_1,_2,_3,_4,_5){_1=_1||this;var _6=this.getTriangleOnPoint(_3,_4);return isc.DrawTriangle.create({lineColor:_2},_1.dataPointProperties,{drawPane:this,autoDraw:true,points:_6})},isc.A.getTriangleOnPoint=function isc_FacetChart_getTriangleOnPoint(_1,_2){var _3=[];var _4=Math.round(_2/2);_3.push([_1[0]-_4,_1[1]+_4]);_3.push([_1[0]+_4,_1[1]+_4]);_3.push([_1[0],_1[1]-_4]);return _3},isc.A.prepareForDragging=function isc_FacetChart_prepareForDragging(){this.Super("prepareForDragging",arguments);var _1=this.$778;if(_1!=null){this.hoopSelectorRect=[this.getPageLeft()+_1.left,this.getPageTop()+_1.top,_1.width,_1.height]}},isc.A.updateHoopSelection=function isc_FacetChart_updateHoopSelection(){},isc.A.drawTitle=function isc_FacetChart_drawTitle(){if(!this.showTitle){this.$78t={left:0,top:0,width:0,height:0}
return}
var _1=this.$78t=this.measureLabel(this.title||" ",this.titleProperties);var _2=Math.floor((this.getInnerContentWidth()/2)-(_1.width/2));this.$78h=this.drawLabel(_2,0,this.title||" ",this.titleProperties)},isc.A.setTitle=function isc_FacetChart_setTitle(_1){this.title=_1;this.$105a(false)},isc.A.setShowTitle=function isc_FacetChart_setShowTitle(_1){this.showTitle=_1;this.$105a(false)},isc.A.shouldShowDataAxisLabel=function isc_FacetChart_shouldShowDataAxisLabel(){var _1=this.getDataLabelFacet();return!this.isPieChart()&&this.chartType!="Radar"&&_1!=null&&_1.title!=null&&(this.showDataAxisLabel!==false)},isc.A.shouldShowValueAxisLabel=function isc_FacetChart_shouldShowValueAxisLabel(_1){_1=_1||this;return(_1!=this||(!this.isPieChart()&&this.chartType!="Radar"))&&_1.valueTitle!=null&&(_1.showValueAxisLabel!==false)&&(!this.hasYGradations(_1.chartType)||this.$1057)},isc.A.getDataAxisLabelHeight=function isc_FacetChart_getDataAxisLabelHeight(){if(!this.shouldShowDataAxisLabel())return 0;var _1=this.getDataLabelFacet();if(!_1)return 0;var _2=this.measureLabel(_1.title,this.dataAxisLabelProperties);return _2.height+this.axisLabelMargin},isc.A.getValueAxisLabelHeight=function isc_FacetChart_getValueAxisLabelHeight(_1){_1=_1||this;if(!this.shouldShowValueAxisLabel(_1))return 0;var _2=this.measureLabel(_1.valueTitle,_1.valueAxisLabelProperties);return _2.height+this.axisLabelMargin},isc.A.getAxisLabelSpace=function isc_FacetChart_getAxisLabelSpace(_1){if(_1&&this.hasYGradations()){return this.getValueAxisLabelHeight()}else{return this.getDataAxisLabelHeight()}},isc.A.drawDataAxisLabel=function isc_FacetChart_drawDataAxisLabel(){if(!this.shouldShowDataAxisLabel())return;this.drawAxisLabel(this.getDataLabelFacet().title,this.dataAxisLabelProperties,!this.hasYGradations(),false)},isc.A.drawValueAxisLabel=function isc_FacetChart_drawValueAxisLabel(){if(!this.shouldShowValueAxisLabel())return;this.drawAxisLabel(this.valueTitle,this.valueAxisLabelProperties,this.hasYGradations(),false)},isc.A.$104h=function isc_FacetChart__drawAllValueAxisLabels(){if(!this.$1035()){this.drawValueAxisLabel()}else{var _1=this.$1036();if(this.$104g()){this.drawValueAxisLabel();var _2=_1.right[0];if(!this.shouldShowValueAxisLabel(_2))return;_2.$1048=this.drawAxisLabel(_2.valueTitle,_2.valueAxisLabelProperties,true,true)}else{var _3=this.getChartTop()+this.getChartHeight()+this.chartRectMargin,_4=this.$104i();for(var j=0;j<_4;++j){var _2=(j==0?this:_1.all[j-1]);if(!this.shouldShowValueAxisLabel(_2)){continue}
var _6=_2.valueTitle,_7=_2.valueAxisLabelProperties,_8=this.measureLabel(_6,_7);var _9=this.$103v(_2),_10=_2.$104f;_2.$1048=isc.DrawLabel.create(_7,{autoDraw:true,drawPane:this,left:_9+Math.round((_10-_8.width)/2),top:_3,height:_8.height,contents:_6})}}}},isc.A.drawAxisLabel=function isc_FacetChart_drawAxisLabel(_1,_2,_3,_4){var _5=this.measureLabel(_1,_2),_6=this.getChartRect();if(_3){var _7=(_5.width/2)*(this.isVML?-1:1);isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:(_4?this.getInnerContentWidth()-_5.height:0),top:_6.top+Math.round(_6.height/2+_7),height:_5.height,rotation:270,contents:_1})}else{isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:_6.left+Math.round(_6.width/2-_5.width/2),top:_6.top+_6.height+this.getXLabelsHeight()-_5.height,contents:_1})}},isc.A.shouldShowLegend=function isc_FacetChart_shouldShowLegend(){if(this.showLegend!==false&&(this.isMultiFacet()||this.isPieChart()||(this.chartType=="Scatter"&&this.$106i().length>1)||(this.$1035())))this.drawLegend()},isc.A.getLegendFacet=function isc_FacetChart_getLegendFacet(){var _1=this.$106i(),_2=this.isPieChart();if(this.chartType=="Scatter"){return _1[1]}else if(this.isMultiFacet()){return(this.reversePieFacets&&_2?_1[0]:_1[1])}else if(_2){return _1[0]}else{return null}},isc.A.getDataLabelFacet=function isc_FacetChart_getDataLabelFacet(){var _1=this.$106i();if(this.chartType=="Scatter"){return null}else if(this.isPieChart()){if(!this.isMultiFacet()){return null}else if(this.reversePieFacets){return _1[1]}}
return _1[0]},isc.A.$111a=function isc_FacetChart__getInlinedFacet(){return(this.$106l||this).inlinedFacet},isc.A.drawLegend=function isc_FacetChart_drawLegend(){this.logDebug("drawing legend","chartDraw");var _1=this.legendSwatchSize;var _2=this.legendPadding;var _3=this.legendItemPadding;var _4=this.legendTextPadding;var _5=this.legendRowPadding;var _6=this.$1035();var _7=this.getLegendFacet(),_8=_7&&_7.values&&_7.values.getLength();var _9=[];if(_6){var _10=this.inlinedFacet&&this.inlinedFacet.values[0],_11=_10!=null?(_10.title||_10.id):this.valueTitle;if(this.isMultiFacet()){for(var k=0;k<_8;++k){var _13=_7.values[k];_9.add({title:_11+" ("+(_13.title||_13.id)+")",context:this,series:k})}}else{_9.add({title:_11,context:this,series:0})}
var _14=this.$1036().all;for(var j=0,_16=_14.length;j<_16;++j){var _17=_14[j];var _18=this.getFacetValue(this.inlinedFacet.id,_17.$103o),_19=(_18.title||_18.id);if(_17.isMultiFacet()){for(var k=0;k<_8;++k){var _13=_7.values[k];_9.add({title:_19+" ("+(_13.title||_13.id)+")",context:_17,series:k})}}else{var _20=_19;if(this.isMultiFacet()){var _21=this.$103u(_17);_20=_20+" ("+(_21.title||_21.id)+")"}
_9.add({title:_20,context:_17,series:0})}}}else{if(!_7.values)return;for(var i=0;i<_8;i++){var _13=_7.values[i];_9.add({title:_13.title||_13.id})}}
var _23=this.getInnerWidth();var _24=_2;var _25=1;for(var i=0;i<_9.length;i++){var _26=this.measureLabel(_9[i].title,this.legendLabelProperties);var _27=_1+_4+_26.width;if(_24+_27+_2>_23){_25++;_24=_2}
if(i!=_9.length-1){_27+=_3}
_9[i].width=_26.width;_9[i].height=_26.height;_9[i].rowNum=_25;_9[i].left=_24;_24+=_27}
_24+=_2;var _28,_29,_30,_31;if(_25>1){_31=_23}else{_31=_24}
_29=(_25*_1)+(_2*2)+((_25-1)*_5);_30=this.getInnerContentHeight()
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)
-_29;if(_31==_23)_28=0;else _28=Math.floor((_23/2)-(_31/2));this.$78k={left:_28,top:_30,width:_31,height:_29};if(this.showLegendRect){this.drawRect(_28,_30,_31,_29,this.legendRectProperties)}
var _32=isc.addProperties({$104x:true},this.legendLabelProperties);for(i=0;i<_9.length;i++){var _33=_9[i].width;var _24=_28+_9[i].left;var _34=_9[i].rowNum;var _35=_30+((_1+_5)*(_34-1))+_2;if(_6){this.$104b(_9[i].context,_9[i].series,_24,_35,_1)}else{this.drawRect(_24,_35,_1,_1,isc.addProperties({fillColor:this.$107b(i)},this.legendSwatchProperties))}
_24+=_1+_4;this.drawLabel(_24,_35+Math.round((_1-this.getDataLabelHeight())/2),_9[i].title,_32)}},isc.A.getDataColor=function isc_FacetChart_getDataColor(_1,_2){_2=_2||this;var _3=_2.dataColors[_1%_2.dataColors.length];return(!isc.startsWith(_3,"#"))?"#"+_3:_3},isc.A.getDataGradient=function isc_FacetChart_getDataGradient(_1,_2,_3,_4){_4=_4||this;_2=_2!==false;_3=_3==undefined?this.drawingType:_3;var _5=_4.getDataColor(_1);var _6=_4.chartType+_5.replace("#","-");var _7;if(!_2||!_4.dataGradients[_6]){switch(this.chartType){case"Bar":_7={id:_6,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_5,"-#0A0A0A"),offset:0.0},{color:_5,offset:0.2},{color:this.getClass().mixrgb(_5,"+#333333"),offset:0.4},{color:_5,offset:0.7},{color:this.getClass().mixrgb(_5,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break;case"Column":_7={id:_6,x1:'0%',y1:'0%',x2:'100%',y2:'0%',colorStops:[{color:this.getClass().mixrgb(_5,"-#0A0A0A"),offset:0.0},{color:_5,offset:0.2},{color:this.getClass().mixrgb(_5,"+#333333"),offset:0.4},{color:_5,offset:0.7},{color:this.getClass().mixrgb(_5,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break;case"Area":case"Line":_7={id:_6,x1:0,x2:0,y1:"0%",y2:"100%",colorStops:[{color:this.getClass().mixrgb(_5,"+#555555"),offset:0.0},{color:this.getClass().mixrgb(_5,"+#222222"),offset:0.3},{color:this.getClass().mixrgb(_5,"-#333333"),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break;case"Doughnut":case"Pie":_7={id:_6,colorStops:[{color:_5,offset:0.0},{color:_5,offset:_3=="vml"?0.8:0.9},{color:this.getClass().mixrgb(_5,"-#222222"),offset:_3=="vml"?0.9:0.95},{color:this.getClass().mixrgb(_5,"-#666666"),offset:1.0}]};if(_3!="svg"){isc.addProperties(_7,{cx:0,cy:0,r:'72%',fx:0,fy:0})}
if(_2)this.createRadialGradient(_6,_7);break;default:_7={id:_6,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_5,"+"+(_3=="vml"?"#111111":"#222222")),offset:0.0},{color:_5,offset:0.4},{color:_5,offset:0.6},{color:this.getClass().mixrgb(_5,"-"+(_3=="vml"?"#111111":"#1A1A1A1A")),offset:1.0}]};if(_2)this.createLinearGradient(_6,_7);break}}
if(_7&&_2)_4.dataGradients[_6]=_7;return(_2?_6:_7)});isc.evalBoundary;isc.B.push(isc.A.$985=function isc_FacetChart__getPieSeriesGradient(_1,_2,_3,_4,_5){_4=_4!==false;_5=_5==undefined?this.drawingType:_5;if(_5!="svg")return this.$99i(_1,_4,_5);if(this.$986==undefined)this.$986=1;var _6="radialGradient"+(this.$986++);var _7={id:_6,$981:this.$99i(_1,_4,_5),cx:_2[0],cy:_2[1],r:_3,$984:true};if(_4){this.createRadialGradient(_6,_7);return _6}else{this.gradients[_6]=_7;return _7}},isc.A.getRadarShapeGradient=function isc_FacetChart_getRadarShapeGradient(_1,_2,_3,_4){var _5=_2.points,_6=this.getClass().mixrgb(_1,"+#444444"),_7=this.getClass().mixrgb(_1,"-#444444");var _8=0.01,_9=Number.MAX_VALUE;for(var i=_5.length;i--;){var _11=isc.GraphMath.straightDistance(_5[i],_3);_8=Math.max(_11,_8);_9=Math.min(_11,_9)}
if(_4)_9=0;var _12=_9/_8;var _13=_2.getCenter(),x=-_13[0]+_3[0],y=-_13[1]+_3[1];return{cx:x,cy:y,r:_8,fx:x,fy:y,colorStops:[{color:_6,offset:0},{color:_6,offset:_12},{color:_7,offset:1.0}]}},isc.A.$105v=function isc_FacetChart__getColorMutePercent(_1,_2){if(isc.isA.String(_1)){var _3=_1.endsWith("%");_1=parseFloat(_1)}
if(isc.isA.Number(_1)){_1=Math.min(_1,100);_1=-Math.min(-_1,100)}else{_1=_2}
return _1},isc.A.$107b=function isc_FacetChart__getDataColor(_1,_2){_2=_2||this;return isc.DrawPane.$105t(this.colorMutePercent,_2.getDataColor(_1))},isc.A.$99i=function isc_FacetChart__getDataGradient(_1,_2,_3,_4){_4=_4||this;var _5=this.$1062;if(_5==null){_5=this.$1062={}}
var _6=_4.chartType,_7=_6+"_"+_1+"_"+(_4.$1030||0)+"_"+(_4.$1032||0);if(_5[_7]==null){var _8=isc.DrawPane.$105t,_9=this.colorMutePercent;var _10=_4.getDataGradient(_1,_2,_3);if(isc.isA.String(_10)){_10=this.gradients[_10]}
_10=isc.clone(_10);_10.startColor=_10.startColor&&_8(_9,_10.startColor);_10.endColor=_10.endColor&&_8(_9,_10.endColor);var _11=isc.isAn.Array(_10.colorStops)?_10.colorStops.length:0;for(var i=0;i<_11;++i){var _13=_10.colorStops[i];_13.color=_13.color&&_8(_9,_13.color)}
var _14=this.getID()+"_"+_6+"_data_gradient_"+_1;if(typeof(_10.direction)==="number"){_10=this.createSimpleGradient(_14,_10)}else if(typeof(_10.x1)==="number"){_10=this.createLinearGradient(_14,_10)}else{_10=this.createRadialGradient(_14,_10)}
_5[_7]=_10}
return _5[_7]},isc.A.$106n=function isc_FacetChart__getBackgroundColor(){return this.backgroundColor||"#ffffff"},isc.A.drawLabel=function isc_FacetChart_drawLabel(_1,_2,_3,_4,_5,_6){var _7=(_5?this.rotateProps:null);var _8=isc.DrawLabel.create(_4,_7,{autoDraw:true,drawPane:this,left:_1+(!_6&&this.isVML&&_5&&_4.fontSize?_4.fontSize+this.padding:0),top:_2,contents:_3});return _8},isc.A.getNearestDrawnValue=function isc_FacetChart_getNearestDrawnValue(_1,_2,_3){if(!this.$111u(_1,_2)||this.chartType=="Scatter"){return null}
var _4=this;if(this.$1035()){var i=this.$1039().indexOf(_3);if(i!=-1){_4=this.$1036().all[i]}}
if(_1==null)_1=this.getOffsetX()-this.getLeftPadding();if(_2==null)_2=this.getOffsetY()-this.getTopPadding();var _6=this.$100u(_1,_2,_4,true);if(_6!=null){delete _6.drawItemId;delete _6.text}
return _6},isc.A.getNearestDrawnValues=function isc_FacetChart_getNearestDrawnValues(_1,_2){if(!this.$111u(_1,_2)){return null}
if(_1==null)_1=this.getOffsetX()-this.getLeftPadding();if(_2==null)_2=this.getOffsetY()-this.getTopPadding();if(this.chartType=="Scatter"){return this.$111v(_1,_2)}else{var _3=this.getDataLabelFacet(),_4=this.getLegendFacet(),_5=(this.inlinedFacet!=null&&this.inlinedFacet!=_3&&this.inlinedFacet!=_4?this.inlinedFacet:null),_6=this.$1035(),_7=_6&&this.$1036().all,_8=(_5!=null?_5.values.length:1),_9=new Array(_8);for(var i=0;i<_8;++i){var _11;if(i==0){_11=this}else if(_6){var _12=_5.values[i].id;for(var k=0;k<_7.length;++k){if(_12==_7[k].$103o){_11=_7[k];break}}}else{_11=null}
_9[i]=_11&&this.$100u(_1,_2,_11,true);if(_9[i]!=null){delete _9[i].drawItemId;delete _9[i].text}}
return _9}},isc.A.$111u=function isc_FacetChart__canGetNearestDrawnValue(_1,_2){if(_1!=null&&_2==null){isc.logWarn("Both coordinates should be passed in method getNearestDrawnValue or no coordinates at all to use getOffset methods.");return false}else if(!this.isDrawn()){isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return false}else if(this.chartType!="Scatter"&&this.getOrderedData().length==0){return false}else if(this.chartType=="Scatter"&&this.$106j().length==0){return false}else{return true}},isc.A.$111v=function isc_FacetChart__getScatterNearestDrawnValues(_1,_2){var _3=isc.Math.$101k,_4=this.getOrderedData(),_5=this.getLegendFacet(),_6=null,_7=null,_8=null;for(var j=_5?_5.values.length:1;j--;){var _10=(_5?_4[j].series:_4);for(var i=_10.length;i--;){var _12=_3(_1-_10[i].drawnX,_2-_10[i].drawnY);if(_8==null||_12<_8){_6=_10[i];if(_5)_7=j;_8=_12}}}
if(_6==null){return null}else{var _13=this.metricFacet,_14=_13.values.length,_15=new Array(_14),_16=this.getXAxisMetric(),_17=this.getYAxisMetric(),_18=_13.values.findIndex("id",_16),_19=_13.values.findIndex("id",_17),_20={};if(_5!=null){_20[_5.id]=_4[_7].facetValueId}
for(var i=_14;i--;){if(i==_18){_15[i]={x:Math.round(_6.drawnX),y:null,value:_6.record[_16],facetValues:_20,record:_6.record}}else if(i==_19){_15[i]={x:null,y:Math.round(_6.drawnY),value:_6.record[_17],facetValues:_20,record:_6.record}}else{_15[i]=null}}
return _15}},isc.A.$100u=function isc_FacetChart__getNearestDrawnValue(_1,_2,_3,_4){_3=_3||this;var _5=isc.Math.$101k,d=this.getOrderedData(),_7=this.$1068(),_8=_7[0].index,_9=1+_7[1].index,_10=this.getDataLabelFacet(),_11=_10&&_10.id,_12=this.getLegendFacet(),_13=_12&&_12.id,_14=(this.inlinedFacet!=null&&this.inlinedFacet!=_10&&this.inlinedFacet!=_12?this.inlinedFacet:null);var _15=(_3!=this),_16=_3.isMultiFacet(),_17,_18;if(_15){_17=_3.$103o;if(this.isMultiFacet()&&!_3.isMultiFacet()){var _19=this.$103u(_3);_18=_12.values.findIndex("id",_19.id)}}
switch(_3.chartType){case"Bar":var _20=null,_21={};if(this.isMultiFacet()){var _22=_16&&!this.isStacked(_3),_23=null;if(_22){for(var i=0,_25=null;i<d.length;++i){var _26=d[i];for(var j=0;j<_26.series.length;++j){var s=_26.series[j];if(isc.isA.Number(s.value)){var _29=s.drawnY&&Math.abs(s.drawnY-_2);if(_25==null||_29<_25){_23=_26;_20=s;_25=_29}else{j=_26.series.length;i=d.length}}}}}else{for(var i=0,_25=null;i<d.length;++i){var s=null;for(var j=d[i].series.length;s==null&&j--;){if(isc.isA.Number(d[i].series[j].value))s=d[i].series[j]}
if(s!=null){var _29=Math.abs(s.drawnY-_2);if(_25==null||_29<_25){_23=d[i];_25=_29}else{break}}}
if(_23!=null){_20=_23.series[0];var _25=null,_30=false,_31=null;for(var j=0;j<_23.series.length;++j){var s=_23.series[j];if(isc.isA.Number(s.value)){var _32=(_31!=null?(_31+s.drawnX)/2:s.drawnX),_29=Math.abs(_32-_1),_33=(_31!=null&&((_31<=_1&&_1<=s.drawnX)||(s.drawnX<=_1&&_1<=_31)));if(_31==null||(_30?(_33&&_29<_25):(_33||_29<_25)))
{_20=s;_25=_29}else{break}
_30=_30||_33;_31=s.drawnX}}}}
_21[_11]=_23&&_23.facetValueId;_21[_13]=_20&&_20.facetValueId}else{for(var i=0,_25=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){var _29=Math.abs(s.drawnY-_2);if(_25==null||_29<_25){_20=s;_25=_29}else{break}}}
_21[_11]=_20&&_20.facetValueId}
if(_14!=null){_21[_14.id]=_14.values[0].id}
return(_20&&{x:Math.round(_20.drawnX),y:Math.round(_20.drawnY),barThickness:_20.barThickness,value:_20.value,text:this.formatDataValue(_20.value),facetValues:_21,record:_20.record,drawItemId:_20.drawItemId});case"Column":var _34=this.isMultiFacet()&&(!_15||_16),_35=!_34&&_15&&this.isMultiFacet(),_36=!_34&&!_35,_20=null,_37,_21={},_38;if(_34){var _22=_16&&!this.isStacked(_3),_39=null,_40=null;if(_22){for(var i=_8,_25=null;i<_9;++i){var _26=d[i];for(var j=0;j<_26.series.length;++j){var _41=this.$1040(_3,i,j);if(isc.isA.Number(_41.value)){var _29=Math.abs(_41.drawnX-_1);if(_25==null||_29<_25){_39=i;_40=j;_25=_29}else{j=_26.series.length;i=_9}}}}}else{for(var i=_8,_25=null;i<_9;++i){var _41=null;for(var j=d[_8].series.length;_41==null&&j--;){var _42=this.$1040(_3,i,j);if(isc.isA.Number(_42.value))_41=_42}
if(_41!=null){var _29=Math.abs(_41.drawnX-_1);if(_25==null||_29<_25){_39=i;_25=_29}else{break}}}
if(_39!=null){var _25=null,_43=false,_44=null;for(var j=0;j<d[_39].series.length;++j){var _41=this.$1040(_3,_39,j);if(isc.isA.Number(_41.value)){var _45=(_44!=null?(_44+_41.drawnY)/2:_41.drawnY),_29=Math.abs(_45-_2),_33=(_44!=null&&((_44<=_2&&_2<=_41.drawnY)||(_41.drawnY<=_2&&_2<=_44)));if(_44==null||(_43?(_33&&_29<_25):(_33||_29<_25)))
{_40=j;_25=_29}else{break}
_43=_43||_33;_44=_41.drawnY}}}}
if(_39!=null&&_40!=null){_20=this.$1040(_3,_39,_40);var _46=d[_39].series[_40];_38=_46.record;_37=(_15?_38[_17]:_46.value);_21[_11]=d[_39].facetValueId;_21[_13]=_46.facetValueId;if(_14!=null){_21[_14.id]=(_15?_17:_14.values[0].id)}}}else{var _39=null,_40=(_35?_18:null);for(var i=_8,_25=null;i<_9;++i){var _41=this.$1040(_3,i,_40);if(isc.isA.Number(_41.value)){var _29=Math.abs(_41.drawnX-_1);if(_25==null||_29<_25){_39=i;_25=_29}else{break}}}
if(_39!=null){_20=this.$1040(_3,_39,_40);var _46=(_35?d[_39].series[_40]:d[_39]);_38=_46.record;_37=(_15?_38[_17]:_46.value);_21[_11]=d[_39].facetValueId;if(_35){_21[_13]=_46.facetValueId}
if(_14!=null){_21[_14.id]=(_15?_17:_14.values[0].id)}}}
return(_20&&{x:Math.round(_20.drawnX),y:Math.round(_20.drawnY),barThickness:_20.barThickness,value:_37,text:_3.formatDataValue(_37),facetValues:_21,record:_38,drawItemId:_20.drawItemId});case"Area":case"Line":var _34=this.isMultiFacet()&&(!_15||_16),_35=!_34&&_15&&this.isMultiFacet(),_36=!_34&&!_35,_39=null,_40=null,_20=null;if(_4){for(var i=_9-1,_47=null;i>=_8;--i){for(var j=(_34?d[i].series.length:1);j--;){var k=(_34?j:(_35?_18:null)),_49=this.$1040(_3,i,k);if(isc.isA.Number(_49.value)){var _50=_5(_1-_49.drawnX,_2-_49.drawnY);if(_47==null||_50<_47){_47=_50;_39=i;_40=k;_20=_49}}}}}else if(_34){for(var i=_8,_25=null;i<_9;++i){var _41=null;for(var j=d[_8].series.length;_41==null&&j--;){var _42=this.$1040(_3,i,j);if(isc.isA.Number(_42.value))_41=_42}
if(_41!=null){var _29=Math.abs(_41.drawnX-_1);if(_25==null||_29<_25){_39=i;_25=_29}else{break}}}
if(_39!=null){for(var j=0,_51=false,_25=null;j<d[_39].series.length;++j){var s=this.$1040(_3,_39,j);if(isc.isA.Number(s.value)){var _45=s.drawnY,_29=Math.abs(_45-_2);if(!_51&&_45>=_2){_51=true;_25=_29;_20=s;_40=j}else if((!_51||_45>=_2)&&(_20==null||_25>_29)){_25=_29;_20=s;_40=j}}}}}else{_39=null;_40=(_35?_18:null);for(var i=_8,_25=null;i<_9;++i){var _41=this.$1040(_3,i,_40);if(isc.isA.Number(_41.value)){var _29=Math.abs(_41.drawnX-_1);if(_25==null||_29<_25){_39=i;_25=_29}else{break}}}
_20=(_39!=null&&this.$1040(_3,_39,_40))}
if(_20==null){return null}
var _37,_21={},_38;if(_34){var _46=d[_39].series[_40];_38=_46.record;_37=(_15?_38[_17]:_46.value);_21[_11]=d[_39].facetValueId;_21[_13]=_46.facetValueId;if(_14!=null){_21[_14.id]=(_15?_17:_14.values[0].id)}}else{var _46=(_35?d[_39].series[_40]:d[_39]);_38=_46.record;_37=(_15?_38[_17]:_46.value);_21[_11]=d[_39].facetValueId;if(_35){_21[_13]=_46.facetValueId}
if(_14!=null){_21[_14.id]=(_15?_17:_14.values[0].id)}}
return{x:Math.round(_20.drawnX),y:Math.round(_20.drawnY),value:_37,text:_3.formatDataValue(_37),facetValues:_21,record:_38};case"Radar":var _23=null,_21={};if(this.isMultiFacet()){var _39=null,_40=null;for(var i=0,_50=null;i<d.length;++i){for(var j=0;j<d[i].series.length;++j){var s=d[i].series[j];if(isc.isA.Number(s.value)){var _52=_5(s.drawnX-_1,s.drawnY-_2);if(_50==null||_52<_50){_50=_52;_23=s;_39=i;_40=j}}}}
if(_23!=null){_21[_11]=d[_39].facetValueId;_21[_13]=_23.facetValueId}}else{for(var i=0,_50=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){var _52=_5(s.drawnX-_1,s.drawnY-_2);if(_50==null||_52<_50){_50=_52;_23=d[i]}}}
_21[_11]=_23&&_23.facetValueId}
if(_14!=null){_21[_14.id]=_14.values[0].id}
return(_23&&{x:Math.round(_23.drawnX),y:Math.round(_23.drawnY),value:_23.value,text:this.formatDataValue(_23.value),facetValues:_21,record:_23.record});case"Doughnut":case"Pie":var _53=this.isMultiFacet(),_21={},_20=null
if(!_53){for(var i=0,_54=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){if(_54==null){var _55=_2-s.pieY,_56=_1-s.pieX;_54=Math.atan2(_55,_56)*180/Math.PI;if(_54<0)_54+=360}
if(_54>s.startAngle&&_54<s.endAngle){_20=s}}}}else{var _18=null;if(this.stacked){for(var i=0,_50=null;i<d.length;++i){var s=null;for(var j=d[0].series.length;s==null&&j--;){var _42=d[i].series[j];if(isc.isA.Number(_42.value))s=_42}
if(s!=null){if(_50==null){_50=_5(s.pieX-_1,s.pieY-_2)}
if(_50<s.pieRadius&&(_18==null||s.pieRadius<d[_18].series[0].pieRadius))
{_18=i}}}}else{for(var i=0,_50=null;i<d.length;++i){var s=null;for(var j=d[0].series.length;s==null&&j--;){var _42=d[i].series[j];if(isc.isA.Number(_42.value))s=_42}
if(s!=null){var _52=_5(s.pieX-_1,s.pieY-_2);if(_50==null||_52<_50){_50=_52;_18=i}}}}
if(_18!=null){var _23=d[_18],_55=_2-_23.series[0].pieY;_56=_1-_23.series[0].pieX;_54=Math.atan2(_55,_56)*180/Math.PI;if(_54<0)_54+=360;for(var i=0;i<_23.series.length;++i){var s=_23.series[i];if(isc.isA.Number(s.value)){if(_54>=s.startAngle&&_54<s.endAngle){_20=s}}}
_21[_11]=d[_18].facetValueId}}
if(_20==null){return null}
_21[_13]=_20.facetValueId;if(_14!=null){_21[_14.id]=_14.values[0].id}
return{x:Math.round(_20.pieX),y:Math.round(_20.pieY),value:_20.value,text:this.formatDataValue(_20.value),facetValues:_21,record:_20.record,startAngle:_20.startAngle,endAngle:_20.endAngle,radius:_20.pieRadius,drawItemId:_20.drawItemId};default:return null}},isc.A.getDrawnValue=function isc_FacetChart_getDrawnValue(_1,_2){if(!this.isDrawn()){if(_2)isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return null}
if(!_1){if(_2)isc.logWarn("FacetValues should be passed to get drawn value.");return null}
if(this.chartType=="Scatter"){return null}
var d=this.getOrderedData();var _4=this.isMultiFacet();if(d.length==0)return null;var _5=this.getDataLabelFacet(),_6=_5&&_5.id,_7=this.getLegendFacet(),_8=_7&&_7.id,_9=(this.inlinedFacet!=null&&this.inlinedFacet!=_5&&this.inlinedFacet!=_7?this.inlinedFacet:null),_10=_9&&_9.id,_11=(_5?1:0)+(_7?1:0)+(_9?1:0);var _12=isc.getKeys(_1);if(_11!=_12.length-(_12.contains(isc.gwtRef)?1:0)){return null}
if((_5&&!_12.contains(_6))||(_7&&!_12.contains(_8))||(_9&&!_12.contains(_10)))
{return null}
var _13=null,_14=(_5?_6:_8);for(var i=d.length;i--;){if(d[i].facetValueId==_1[_14]){if(!_4){_13=d[i];i=0}else{for(var j=d[i].series.length;j--;){if(d[i].series[j].facetValueId==_1[_8]){_13=d[i].series[j];i=j=0}}}}}
if(_13==null)return null;var _17=_1[_10];if(_9&&!_9.values.find("id",_17)){return null}
var _18={x:_13.pieX|_13.drawnX,y:_13.pieY|_13.drawnY,value:(_9?_13.record[_17]:_13.value),facetValues:_1,record:_13.record};if(_13.startAngle!=null)_18.startAngle=_13.startAngle;if(_13.endAngle!=null)_18.endAngle=_13.endAngle;if(_13.barThickness!=null)_18.barThickness=_13.barThickness;return _18},isc.A.$1040=function isc_FacetChart__getDrawnValue(_1,_2,_3){var _4=this.getOrderedData(),_5=this.getLegendFacet(),_6=this.$116d(),_7=this.$116e(),_8=!(_6||_7);if(_1.chartType=="Scatter"){return(_5?_4[_2].series[_3]:_4[_2])}
var _9=this.isMultiFacet(),_10=(_1!=this),_11;if(_10){_11=this.$1036().all.indexOf(_1);if(_9&&!_1.isMultiFacet()){var _12=this.$103u(_1);_3=_5.values.findIndex("id",_12.id)}}
var _13=_9?_4[_2].series[_3]:_4[_2];if(_10){_13=((_13.drawn||(_13.drawn=[]))[_11]||(_13.drawn[_11]={}))}
if(_8){return _13}else if(_6){return(_13.zoom||(_13.zoom={}))}else{return(_13.zoomSelection||(_13.zoomSelection={}))}},isc.A.mouseOut=function isc_FacetChart_mouseOut(){this.$105f();return true},isc.A.mouseMove=function isc_FacetChart_mouseMove(){var _1=this.getChartRect();if(_1==null){return}
var x=this.getOffsetX()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopPadding();if(x>_1.left&&x<(_1.left+_1.width)&&y>_1.top&&y<(_1.top+_1.height))
{var _4=this.$1043();if(_4!=null){if(this.$100l==null){this.$100m=isc.DrawRect.create(this.hoverRectProperties,{autoDraw:true,drawPane:this,height:20,width:24,top:-100});if(_4.showDataPoints!=true&&(_4.chartType=="Line"||_4.chartType=="Area"||_4.chartType=="Radar"))
{this.$100v=this.drawDataPoint([-100,-100],0,6,null,0)}
this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:""});return}
var _5=this.$100u(x,y,_4,false);if(_5!=null&&_5.value==null)_5.value=0;if(_5!=null&&this.$100l.contents!==_5.value){var _6=this.measureHoverLabel(_5.text);if(this.$100m.drawingVML){this.$100m.destroy();this.$100m=isc.DrawRect.create({autoDraw:true,drawPane:this,rounding:0.5,lineWidth:1,lineColor:"#333333",fillColor:"#ffffff",fillOpacity:0.5,shadow:{blur:8,color:"#555555",offset:[2,2]},height:_6.height+8,width:_6.width+8,top:-300});this.$100l.destroy();this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:_5.text})}else{this.$100l.contents=_5.text;this.$100m.width=_6.width+8;this.$100m.height=_6.height+8}
this.$100l.draw();var _7=_5.x;var _8=_5.y;if(this.$100v&&_4.showDataPoints!=true){this.$100v.moveTo(_7-3,_8-3)}
switch(_4.chartType){case"Area":case"Line":case"Radar":if(_4.showDataPoints==true){for(var i=0;i<this.knobs.length;i++){if(this.knobs[i].dataValue==_5.value){var r=this.knobs[i].dataRecord;var _11=_5.facetValues;if(r==null||_11==null)break;var _12=isc.getKeys(r);if(_12.length!=isc.getKeys(_11).length)continue;var _13=true;for(var _14 in r){if(r[_14]!=_11[_14]){_13=false;break}}
if(_13){if(this.$100v&&this.$100v.ID!=this.knobs[i].ID){this.$100w()}
if(this.$100v==null){this.$100v=this.knobs[i];var _15=this.$100v.knobShape.fillColor;this.$100v.prevFillColor=_15;_15=this.$100x(_15,this.brightenPercent);this.$100v.knobShape.setFillColor(_15);var _15=this.$100v.knobShape.lineColor;this.$100v.prevLineColor=_15;_15=this.$100x(_15,this.brightenPercent);this.$100v.knobShape.setLineColor(_15)}
break}}}}
_8-=this.$100m.height+4;_7+=4;break;case"Bar":_8-=this.$100m.height/2;_7-=this.hoverLabelOffset;break;case"Column":_8-=this.$100m.height;break;case"Doughnut":case"Pie":var _16=(_5.startAngle+_5.endAngle)/2+90;if(_16<0){_16+=360}
var _17=this.$100k([_5.x,_5.y],this.maxRadius||_5.radius,_16,_5.text,this.hoverLabelProperties);_7=_17[0];_8=_17[1]}
if(_5.drawItemId){var _18=window[_5.drawItemId];if(this.$100y&&this.$100y.ID!=_18.ID){this.$100z()}
if(this.$100y==null){this.$100y=_18;if(_18.radius){_18.setFillOpacity((100-this.brightenPercent)/100)}else{var _15=_18.lineColor;_18.prevLineColor=_15;_15=this.$100x(_15,this.brightenPercent);_18.setLineWidth(2);_18.setLineColor(_15)}}}
if(_7<0){_7=0}else if((_7+this.$100m.width)>this.getWidth()){_7=this.getWidth()-this.$100m.width-8}
if(_8<0){_8=0}else if((_8+this.$100m.height)>this.getHeight()){_8=this.getHeight()-this.$100m.height-8}
var _19=4;if(isc.Browser.isFirefox)_19+=3;this.$100l.moveTo(_7+4,_8+_19);this.$100m.moveTo(_7,_8)}else if(_5==null){this.$1002()}}else{this.$1002()}}else if(this.$1045()){var _20=this.$1036(),_21=1+_20.all.length;for(var j=0;j<_21;++j){var _4=(j==0?this:_20.all[j-1]),_23=this.$103v(_4),_24=_23+_4.$104f;if(_23<=x&&x<=_24){if(_4==this){break}
var _25=_4.$1048;if(_25!=null){var _26=_25.getBoundingBox();if(x>=_26[0]&&x<=_26[2]&&y>=_26[1]&&y<=_26[3])
{this.$105d(_4);return}}}}}
if(this.$1045()){this.$105f()}});isc.evalBoundary;isc.B.push(isc.A.$1002=function isc_FacetChart__cleanHoverItems(){if(this.$100l!=null){this.$100l.destroy();this.$100m.destroy();this.$100l=null;this.$100m=null;if(this.$100v)this.$100w();if(this.$100y)this.$100z()}},isc.A.$100w=function isc_FacetChart__cleanDataPoint(){var _1=this.$1043();if(_1.showDataPoints==true){this.$100v.knobShape.setFillColor(this.$100v.prevFillColor);this.$100v.knobShape.setLineColor(this.$100v.prevLineColor);delete this.$100v.prevFillColor;delete this.$100v.prevLineColor}else{this.$100v.moveTo(-100,-100);this.$100v.destroy()}
delete this.$100v},isc.A.$100z=function isc_FacetChart__cleanHighlightedItem(){this.$100y.setLineColor(this.$100y.prevLineColor);this.$100y.setLineWidth(1);delete this.$100y.prevLineColor;if(this.$100y.radius){this.$100y.setFillOpacity(1.0)}
delete this.$100y},isc.A.$100x=function isc_FacetChart__getHighlightedColor(_1,_2){if(_1.charAt(0)=="#"){_1=_1.substring(1,7)}
var r=parseInt(_1.substring(0,2),16);var g=parseInt(_1.substring(2,4),16);var b=parseInt(_1.substring(4,6),16);r=Math.min(255,r+Math.round((r*_2)/100));g=Math.min(255,g+Math.round((g*_2)/100));b=Math.min(255,b+Math.round((b*_2)/100));return"#"+(r>15?"":"0")+r.toString(16)+(g>15?"":"0")+g.toString(16)+(b>15?"":"0")+b.toString(16)},isc.A.$104t=function isc_FacetChart__getHoverLabel(_1,_2,_3,_4,_5){var _6;if(_3!=null){_6=(_1[_2]||(_1[_2]={}))[_3]}else{_6=_1[_2]}
if(_6!=null){return _6}else if(_5==null){return null}else{var _7=_4.formatDataValue(_5);_6=this.measureHoverLabel(_7);_6.text=_7;_6.value=_5;if(_3!=null){_1[_2][_3]=_6}else{_1[_2]=_6}
return _6}},isc.A.measureHoverLabel=function isc_FacetChart_measureHoverLabel(_1){return this.measureLabel(_1,this.hoverLabelProperties)},isc.A.destroy=function isc_FacetChart_destroy(){if(this.$117r!=null){this.$117r.destroy();delete this.$117r}
this.$1002();this.Super("destroy",arguments)},isc.A.$107e=function isc_FacetChart__getDataType(){if(this.labelCollapseMode=="numeric"){return"float"}else if(this.labelCollapseMode=="time"){return"date"}
var _1=this.$107f(),_2=this.$107g();if(isc.isA.Number(_1)&&isc.isA.Number(_2)){return"float"}else if(isc.isA.Date(_1)&&isc.isA.Date(_2)){return"date"}else if(isc.isA.String(_1)&&isc.isA.String(_2)){return"string"}},isc.A.$107d=function isc_FacetChart__hasDiscreteDataValues(){var _1=(this.chartType=="Bar"||this.chartType=="Column"||this.labelCollapseMode=="sample");if(!_1){_1=(this.$107e()=="string");if(!_1){var _2=this.$114q;if(_2==null){_2=true;var _3=this.getOrderedData();for(var i=_3.length,_5=_3[i-1].title;_2&&i--;){var _6=_3[i].title;_2=(_6<=_5);_5=_6}
this.$114q=_2}
_1=!_2}}
return _1},isc.A.$107f=function isc_FacetChart__getMinDataValue(){var _1=this.getOrderedData(),i=0,_3=_1.length;while(i<_3&&_1[i].title==null)
++i;return _1[i].title},isc.A.$107g=function isc_FacetChart__getMaxDataValue(){var _1=this.getOrderedData(),_2=_1.length,i=_2-1;while(i>=0&&_1[i].title==null)
--i;return _1[i].title},isc.A.$107h=function isc_FacetChart__delegateToParentChartMethods(){var _1={};var _2=["getFacet","getFacetValue","getOrderedData","getValue","setData","setFacets","getFacetData","deriveFacetValues","isMultiFacet","getValueFromRecord","getDataRecord","getDataSeries","getDefaultMetric","getMinValue","getMaxValue"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=(function(_5){return function(){var _6=this.$106l;return _6[_5].apply(_6,arguments)}})(_5)}
_1.setupChart=function(){};return _1},isc.A.$116d=function isc_FacetChart__isZoomChart(){return(this.$106l!=null&&this.$106l.zoomChart==this)},isc.A.$116e=function isc_FacetChart__isZoomSelectionChart(){return(this.$106l!=null&&this.$106l.zoomSelectionChart==this)},isc.A.$106j=function isc_FacetChart__getData(){return(this.$106l||this).data},isc.A.$106i=function isc_FacetChart__getFacets(){return(this.$106l||this).facets},isc.A.$1065=function isc_FacetChart__getMetricFacet(){return(this.$106l||this).metricFacet},isc.A.$107c=function isc_FacetChart__getMultiCellData(){return(this.$106l||this).multiCellData},isc.A.$1064=function isc_FacetChart__getHighErrorMetric(){return(this.$106l||this).highErrorMetric},isc.A.$1066=function isc_FacetChart__getLowErrorMetric(){return(this.$106l||this).lowErrorMetric},isc.A.$106q=function isc_FacetChart__getZoomChartTop(){return this.getTopPadding()+this.getChartTop()+this.getChartHeight()+this.chartRectMargin+this.getXLabelsHeight()+(this.$78k?this.legendMargin+this.$78k.height:0)+this.$106c},isc.A.$1060=function isc_FacetChart__getZoomChartLeft(){return this.getLeftPadding()+this.getChartLeft()},isc.A.$117l=function isc_FacetChart__setZoomChartProperties(){var _1={autoDraw:false,redrawWithParent:false,_constructor:"FacetChart",labelCollapseMode:this.$106m(),$106l:this,extraAxisMetrics:this.extraAxisMetrics.duplicate(),extraAxisSettings:isc.clone(this.extraAxisSettings)};this.$117m=isc.addProperties({colorMutePercent:this.zoomMutePercent},this.zoomChartProperties,_1);this.$117n=isc.addProperties({},this.zoomSelectionChartProperties,_1);if(this.chartType=="Line"){this.zoomChartDefaults.showGradationsOverData=false;this.zoomSelectionChartDefaults.showGradationsOverData=false;var _2={lineWidth:2,lineColor:"#d3d3d3",linePattern:"dash"};this.zoomChartDefaults.gradationLineProperties=_2;this.zoomSelectionChartDefaults.gradationLineProperties=_2}else{this.zoomChartDefaults.showGradationsOverData=true;this.zoomSelectionChartDefaults.showGradationsOverData=true;var _2={lineWidth:2,lineColor:this.$106n()};this.zoomChartDefaults.gradationLineProperties=_2;this.zoomSelectionChartDefaults.gradationLineProperties=_2}},isc.A.$106y=function isc_FacetChart__createZoomChartAndSlider(){if(this.$106d()){this.$106k=true;var _1=this.zoomShowSelection,_2=this.$1060(),_3=this.$106q(),_4=this.getChartWidth(),_5=this.$1068(),_6=_5[0].lambda,_7=_5[1].lambda;var _8=isc.addProperties({logScale:this.$107i(),chartType:this.chartType,stacked:this.stacked,filled:this.filled,connected:this.connected},this.$107h());isc.addProperties(this.$117m,{autoDraw:false,top:_3,left:_2,width:_4,height:this.zoomChartHeight},_8);var _9=this.addAutoChild("zoomChart",this.$117m);this.$117o=isc.addProperties({},this.zoomChartSliderProperties,{_constructor:"RangeSlider",left:_2,top:_3,width:_4,height:this.zoomChartHeight+this.$106e,showTrack:false,labelStartProperties:{},labelDragProperties:{},labelEndProperties:{},startThumbProperties:{backgroundColor:"transparent"},endThumbProperties:{backgroundColor:"transparent"},minValue:0,maxValue:1,startValue:_6,endValue:_7});var _10=this.addAutoChild("zoomChartSlider",this.$117o);this.observe(_10,"resized","observer.$107j()");this.observe(_10,"changed","observer.$117v(arguments[0],arguments[1],arguments[2])");_10.labelStart.hide();_10.labelDrag.hide();_10.labelEnd.hide();if(_1){var _11=_10.startThumb.getLeft();var _12=_10.endThumb.getRight()-_11+1;var _13=this.$106r=isc.Canvas.create({redrawWithParent:false,backgroundColor:this.$106n(),padding:0,left:_2+_11,top:_3,width:_12,height:this.zoomChartHeight,overflow:"hidden",hideUsingDisplayNone:true});this.addChild(_13);isc.addProperties(this.$117n,{autoParent:"none",left:-_11,top:0,width:_4,height:this.zoomChartHeight},_8);var _14=this.addAutoChild("zoomSelectionChart",this.$117n);_13.addChild(_14);_10.moveAbove(_13)}}
this.$106p=true},isc.A.$117v=function isc_FacetChart__zoomChartSliderChanged(_1,_2,_3){this.$107j();if(!_3){this.$107k([{lambda:_1},{lambda:_2}],false);if(this.zoomChanged){var _4=this.$1068();this.zoomChanged(_4[0].dataValue,_4[1].dataValue)}}},isc.A.$107j=function isc_FacetChart__refreshZoomSelectionChart(){var _1=this.zoomChartSlider,_2=this.zoomShowSelection,_3=this.zoomSelectionChart,_4=this.$106r;if(_2){var _5=this.zoomChart.getLeft(),_6=_1.startThumb,_7=_1.endThumb,_8=_6.getLeft(),_9=_7.getRight()-_8+1,_10=_8+_9;_4.setLeft(_5+_8);_4.setWidth(_9);_3.setLeft(-_8)}},isc.A.$1063=function isc_FacetChart__destroyZoomChartAndSlider(){if(this.zoomSelectionChart!=null){this.zoomSelectionChart.destroy();delete this.zoomSelectionChart}
if(this.$106r!=null){this.$106r.destroy();delete this.$106r}
if(this.zoomChartSlider!=null){this.ignore(this.zoomChartSlider,"changed");this.ignore(this.zoomChartSlider,"resized");this.zoomChartSlider.destroy();delete this.zoomChartSlider}
if(this.zoomChart!=null){this.zoomChart.destroy();delete this.zoomChart}
delete this.$106p},isc.A.$106d=function isc_FacetChart__getCanZoom(_1){if(_1==null)_1=this.chartType;return(_1!="Radar"&&!this.isPieChart(_1)&&_1!="Scatter"&&this.hasYGradations(_1)&&this.canZoom)},isc.A.$106m=function isc_FacetChart__getZoomChartLabelCollapseMode(){if(this.labelCollapseMode!=null){return this.labelCollapseMode}else if(this.$106d()){var _1=this.$107e();if(_1=="float")return"numeric";if(_1=="date")return"time";if(_1=="string")return"sample"}},isc.A.$107i=function isc_FacetChart__getZoomLogScale(_1){_1=_1||this;if(_1.zoomLogScale!=null){return _1.zoomLogScale}else{var _2=this.$107l(_1);return(_2.minValue>0)}},isc.A.$107m=function isc_FacetChart__getZoomStartPosition(){if(this.zoomStartPosition!=null){return this.zoomStartPosition}else{if(this.$107e()=="date"){var _1=1000*60*60*24,_2=new Date(),_3=this.$107g();if(_2.getTime()-_3.getTime()<_1){return"end"}}
return"start"}},isc.A.$1068=function isc_FacetChart__getZoomValueRange(){var _1;if(this.$107n==null){if(this.$106d()){_1=[{dataValue:this.zoomStartValue},{dataValue:this.zoomEndValue}]}else{_1=[{lambda:0.0},{lambda:1.0}]}
this.$107k(_1,true)}else{_1=this.$107n}
return _1},isc.A.$107o=function isc_FacetChart__dateComparator(_1,_2){return Date.compareDates(_2,_1)},isc.A.$107k=function isc_FacetChart__setZoomValueRange(_1,_2){var _3=this.getOrderedData(),_4=_3.length,_5=_1[0],_6=_1[1],_7=_5.lambda,_8=_6.lambda,_9=this.$107f(),_10=this.$107g(),_11=this.$107e(),_12=this.$107d(),_13=(_5.lambda!=null&&_6.lambda!=null),_14=!_13;if(_14){var _15=_5.dataValue,_16=_6.dataValue;if(_15==null&&_16==null){_13=true;_14=false;var _17=this.$107m();if(_17=="start"){_7=0.0;_8=1.0/5.0}else if(_17=="end"){_7=4.0/5.0;_8=1.0}
_5.lambda=_7;_6.lambda=_8}else if(_15==null){_15=_9}else if(_16==null){_16=_10}
_5.dataValue=_15;_6.dataValue=_16}
var i,j,_20,_21;if(_12){if(_13){i=Math.floor(_7*(_4-1));_20=_3[i].title;j=Math.ceil(_8*(_4-1));_21=_3[j].title}else{_20=_5.dataValue;_21=_6.dataValue;var k;for(k=0;k<_4;++k){if(_3[k].title==_20){i=k;break}}
for(;k<_4;++k){if(_3[k].title==_21){j=k;break}}
if(i==null&&j!=null){this.logWarn("Could not find data value "+_20+" in the data.  Defaulting to show the data from the beginning of the data set up to zoomEndValue.");this.$107k([{dataValue:_9},{dataValue:_21}],_2);return}else if(i!=null&&j==null){this.logWarn("Could not find data value "+_21+" in the data.  Defaulting to show the data from zoomStartValue to the end of the data set.");this.$107k([{dataValue:_20},{dataValue:_10}],_2);return}else if(i==null&&j==null){this.logWarn("Could not find zoomStartValue or zoomEndValue in the data.  Defaulting to show the entire data set.");this.$107k([{lambda:0.0},{lambda:1.0}],_2);return}else{_7=_4>1?i/(_4-1):0;_8=_4>1?j/(_4-1):1}}}else if(_11=="float"){if(_13){_20=(1.0-_7)*_9+_7*_10;_21=(1.0-_8)*_9+_8*_10}else{_20=_5.dataValue;_21=_6.dataValue;var _23=_10-_9;_7=_23>0?(_5.dataValue-_9)/_23:0;_8=_23>0?(_6.dataValue-_9)/_23:1}
i=isc.FacetChart.$96c(_3,0,_4-1,"title",_20);j=isc.FacetChart.$96c(_3,0,_4-1,"title",_21);if(i<0)i=-(1+i);if(j<0)j=-(2+j)}else if(_11=="date"){var _24=this.$107o,_25=_9.getTime(),_26=_10.getTime();if(_13){_20=new Date(Math.floor((1.0-_7)*_25+_7*_26));_21=new Date(Math.ceil((1.0-_8)*_25+_8*_26))}else{_20=_5.dataValue;_21=_6.dataValue;var _27=_20.getTime(),_28=_21.getTime(),_23=_26-_25;_7=_23>0?(_27-_25)/_23:0;_8=_23>0?(_28-_25)/_23:1}
i=isc.FacetChart.$96c(_3,0,_4-1,"title",_20,_24);j=isc.FacetChart.$96c(_3,0,_4-1,"title",_21,_24);if(i<0)i=-(1+i);if(j<0)j=-(2+j)}
isc.addProperties(_1[0],{index:i,dataValue:_20,lambda:_7});isc.addProperties(_1[1],{index:j,dataValue:_21,lambda:_8});this.$107n=_1;delete this.$107p;if(this.$1035()){var _29=this.$1036().all;for(var j=_29.length;j--;){delete _29[j].$107p}}
if(!_2){this.$105a(false)}},isc.A.$107q=function isc_FacetChart__getZoomStartValue(){return this.$1068()[0].dataValue},isc.A.$107r=function isc_FacetChart__getZoomEndValue(){return this.$1068()[1].dataValue},isc.A.$107l=function isc_FacetChart__getZoomDataBounds(_1){_1=_1||this;if(_1.$107p!=null){return _1.$107p}
var _2=this.getOrderedData(),_3=_2.length,_4=this.$1068(),_5=_4[0].index,_6=1+_4[1].index;var _7=(_1!=this),_8=_7&&_1.$103o,_9=_1.isMultiFacet()&&this.isStacked(_1);var _10,_11;if(this.isMultiFacet()&&(!_7||_1.isMultiFacet())){var _12=_2[_5].series.length;if(_9){for(var i=_5;i<_6;++i){var _14=_2[i].series,_15=0;for(var j=0;j<_12;++j){var v=(_7?_14[j].record[_8]:_14[j].value);if(isc.isA.Number(v)){_15+=v;_10=(_10==null?_15:Math.min(_10,_15));_11=(_11==null?_15:Math.max(_11,_15))}}}}else{for(var i=_5;i<_6;++i){var _14=_2[i].series;for(var j=0;j<_12;++j){var _15=(_7?_14[j].record[_8]:_14[j].value);if(isc.isA.Number(_15)){_10=(_10==null?_15:Math.min(_10,_15));_11=(_11==null?_15:Math.max(_11,_15))}}}}}else if(this.isMultiFacet()){var _18=this.$103u(_1),_19=this.getLegendFacet().values.findIndex("id",_18.id);for(var i=_5;i<_6;++i){var _15=_2[i].series[_19].record[_8];if(isc.isA.Number(_15)){_10=(_10==null?_15:Math.min(_10,_15));_11=(_11==null?_15:Math.max(_11,_15))}}}else{for(var i=_5;i<_6;++i){var _15=(_7?_2[i].record[_8]:_2[i].value);if(isc.isA.Number(_15)){_10=(_10==null?_15:Math.min(_10,_15));_11=(_11==null?_15:Math.max(_11,_15))}}}
return(_1.$107p={minValue:_10,maxValue:_11,minDataValue:this.$107q(),maxDataValue:this.$107r()})},isc.A.$107s=function isc_FacetChart__getMinLabelGap(_1,_2){if(this.minLabelGap!=null)return this.minLabelGap;if(_1){return Math.ceil(this.measureLabel("Xy",_2).height/2)}else{return this.measureLabel("XXXX",_2).width}},isc.A.$106v=function isc_FacetChart__calculateAxisLayout(_1,_2,_3,_4){var _5=_1.length,_6=new Array(_5),_7=new Array(_5),_8=[];for(var j=_5;j--;){_6[j]=0;_7[j]=[]}
var _10=function(_6,_14){return isc.FacetChart.$111b(_7,_8,_1,_2,_6,_3,_4,_14)};var _11=isc.FacetChart.$111c(_1,_10,_6),_12=(_11!=null);var _13={};_10(_6,_13);return _13},isc.A.$106t=function isc_FacetChart__createAxis(_1,_2,_3){_2=_2||this;_3=_3||0;var _4=this.labelCollapseMode,_5=this.chartType=="Scatter"||(_1&&this.hasYGradations())||(!_1&&this.hasXGradations());var _6=null;if(_5){if(this.$1057){if((_2.chartType!="Scatter"||_1)&&this.shouldUseLogGradations(_2)){_6=isc.FacetChart.$107u(_1)}else{var _7=_2.chartType!="Scatter"||_1;_6=isc.FacetChart.$107v(_7,_1)}}else{_6=isc.FacetChart.$107w(_1)}}else{if(_4=="numeric"){_6=isc.FacetChart.$107x(_1)}else if(_4=="time"){_6=isc.FacetChart.$107y(_1)}else if(_4=="sample"){_6=isc.FacetChart.$107z(_1)}else{_6=isc.FacetChart.$1070(_1)}}
_6.rotateLabels=function(_8){return _8.$1071};_6.useGradations=function(_8){return _8.$1072};_6.logScale=function(_8){return _8.$1072&&_8.$1073};_6.init(this,_2,_3);return _6});isc.B._maxIndex=isc.C+237;isc.A=isc.FacetChart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$102q=function isc_c_FacetChart__assert(_1){if(!_1){}},isc.A.$105b=function isc_c_FacetChart__evenIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==0)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$105c=function isc_c_FacetChart__oddIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==1)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$102z=function isc_c_FacetChart__calculateOrdinaryLeastSquares(_1,_2){var _3=isc.Math.$101l(_1),L=isc.Math.$101n(_3);if(L==null){var _5=isc.Math.$101t(_1);if(_5==null){return null}else{var m=_5.length,n=_5[0].length,b=new Array(m);for(var i=m;i--;){var _10=_5[i],_11=0;for(var j=n;j--;){_11+=_10[j]*_2[j]}
b[i]=_11}
return b}}
var _13=isc.Math.$101m(_1,_2);var n=L.length,z=new Array(n);for(var i=0;i<n;++i){var _15=L[i],_11=0;for(var j=i;j--;){_11+=_15[j]*z[j]}
z[i]=(_13[i]-_11)/_15[i]}
var _16=new Array(n);for(var i=n;i--;){var _11=0;for(var j=i+1;j<n;++j){_11+=L[j][i]*_16[j]}
_16[i]=(z[i]-_11)/L[i][i]}
return _16},isc.A.$1020=function isc_c_FacetChart__generatePolynomial(_1){var _2=_1.length-1;var _3=isc.StringBuffer.newInstance();_3.append("return ");for(var i=_2;i--;){_3.append("(")}
_3.append(_1[_2]);for(var i=_2;i--;){_3.append("*x+",_1[i],")")}
_3.append(";");return new Function("x",_3.toString())},isc.A.$102v=function isc_c_FacetChart__calculateBestFitPolynomial(_1,_2,_3){var m=_2.length,n=_1+1,M=new Array(m);for(var i=m;i--;){var _8=M[i]=new Array(n),_9=_2[i];for(var j=0,_11=1;j<n;++j,_11*=_9){_8[j]=_11}}
var _12=isc.FacetChart.$102z(M,_3);return(_12!=null?isc.FacetChart.$1020(_12):null)},isc.A.$102y=function isc_c_FacetChart__clipDrawPathToRect(_1,_2,_3){var n=_1.length;if(n==0){return[]}
var _5=[_2.left,_2.top,_2.left+_2.width,_2.top+_2.height],_6=[],_7=null,_8,_9=_1[0],_10=new Array(2);if(_5[0]<=_9[0]&&_9[0]<=_5[2]&&_5[1]<=_9[1]&&_9[1]<=_5[2]){_7=[_9]}
for(var i=1;i<n;++i){_8=_9;_9=_1[i];_10[0]=1/(_10[1]=(_9[1]-_8[1])/(_9[0]-_8[0]));var _12=_8,_13=_9;for(var m=0;m<4;++m){var k=m%2,l=(k+1)%2,s=(m<2?-1:1),_18=_5[s+1+k];var _19=!(s*_12[k]>s*_18),_20=!(s*_13[k]>s*_18);if(_19^_20){var _21=new Array(2);_21[k]=_18;_21[l]=_12[l]+(_18-_12[k])*_10[l];if(!_19){_12=_21}else{_13=_21}}else if(!(_19||_20)){_12=_13=null;break}}
if(_12==null){}else{if(_12===_8){}else{if(_3){_12[0]=Math.round(_12[0]);_12[1]=Math.round(_12[1])}
_7=[_12]}
if(_13===_9){_7.push(_9)}else{if(_3){_13[0]=Math.round(_13[0]);_13[1]=Math.round(_13[1])}
_7.push(_13);_6.push(_7);_7=null}}}
if(_7!=null){_6.push(_7)}
return _6},isc.A.$1074=function isc_c_FacetChart__bellCurve(_1,_2,_3){var z=(_3-_1)/_2;return Math.exp(-z*z/2.0)},isc.A.$107w=function isc_c_FacetChart__createEmptyAxis(_1){return{init:function(_2,_3,_7){this.$103y=_2;this.$104q=_3;this.$111d=_1?0:_7;this.$111e=_1?_7:0},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){return[{parallel:this.$111d,perpendicular:this.$111e,$1071:false,$1072:true,$1073:this.$104q.logScale}]},utility:function(_7,_8,_9){return 1},getLabelDataPairs:function(_7){var _2=this.$103y,_3=this.$104q,_4=_2.$107l(_3),_5=_1?_4.minValue:_4.minDataValue,_6=_1?_4.maxValue:_4.maxDataValue;if(_5==null&&_6==null){return[]}else{return[{label:_3.formatAxisValue(_5,!_1),dataValue:_5},{label:_3.formatAxisValue(_6,!_1),dataValue:_6}]}}}},isc.A.$107v=function isc_c_FacetChart__createLinearGradationsAxis(_1,_2){return{init:function(_14,_15,_47){this.$103y=_14;this.$104q=_15;this.$111d=_2?0:_47;this.$111e=_2?_47:0;var _3,_4;if(_14.chartType=="Scatter"){var _5=_1?_14.getYAxisMetric():_14.getXAxisMetric();_3=Math.min(0,_14.getMinValue(_5));_4=_14.getMaxValue(_5)}else{var _6=_14.$107l(_15);_3=_1?_6.minValue:_6.minDataValue;_4=_1?_6.maxValue:_6.maxDataValue}
this.$1075=(_3==null&&_4==null);if(this.$1075){return}
if(_1&&!_14.$1035()){var _7=_14.$1064(),_8=_14.$1066();if(_8!=null){_4=Math.max(_4,_14.getMaxValue(_8));_3=Math.min(_3,_14.getMinValue(_8))}
if(_7!=null){_4=Math.max(_4,_14.getMaxValue(_7));_3=Math.min(_3,_14.getMinValue(_7))}}
this.$1076=_3;this.$1077=_4;this.$1078=_15.gradationLabelProperties;this.$78r=_14.$107a(_15);if(_1&&_3>0&&_14.$1059(_15)){_3=0}
var _9=this.$1079=_4-_3;var _10=_14.getMagnitude(_9,10,_15);var _11=Math.pow(10,_10-1),_12=Math.pow(10,(_10-2));this.$108a=[_12,2*_12,5*_12,10*_12,2*_11,5*_11];this.$76w=0},increaseScope:function(){if(this.$1075)return false;var _13=this.$76w<this.$108a.getLength()-1;if(_13)++this.$76w;return _13},decreaseScope:function(){if(this.$1075)return false;var _13=this.$76w>0;if(_13)--this.$76w;return _13},measure:function(){if(this.$1075){return[{parallel:this.$111d,perpendicular:this.$111e,$1071:false,$108b:[],$1072:true,$1073:false}]}
var _14=this.$103y,_15=this.$104q,_16=!_1&&_14.showInlineLabels,_3=this.$1076,_4=this.$1077,_17=this.$1078,_18=_14.$107s(false,_17),_19=_14.$107s(true,_17),_20=this.$108a[this.$76w],_21=this.$78r,_22=0,_23=0,_24=[],_25;var _26,_27;if(_1){if(_3<0||!_14.$1059(_15)){_26=Math.floor(_3/_20)*_20}else{_26=0}
_27=Math.ceil(_4/_20)*_20}else{_26=Math.ceil(_3/_20)*_20;_27=Math.floor(_4/_20)*_20}
var _28=1+Math.round((_27-_26)/_20),_29=false;if(_28==1){if(!_1){_26=Math.floor(_3/_20)*_20}
_27=Math.ceil(_4/_20)*_20;if(_26==_27){_27+=_20;_29=true}
_28=1+Math.round((_27-_26)/_20)}
var _30=(Math.max(_27,_4)-Math.min(_26,_3))/(_27-_26);var _31=1.5*Math.max(_14.$106h(),_14.$106f()),_32=(_14.rotateLabels=="always"&&!_16),_33=_14.$116c(),_34=(_2||(_33&&!_16)),_35=!(_2||_32),_36=!_34,_37=!_35;var _38=0,i=0;for(;i<_28;i++){_25=_26+(i*_20);_24.add(_25);if(!(_36&&_37)&&!(_29&&i>0)){var _40=_14.measureLabel(_15.formatAxisValue(_25,!_2),_17).width;if(!_16){var _41=_40+_38;if(_41>_23){_23=_41}
if(_40>_22)_22=_40;_38=_40}else{if(i!=_28-1&&_40>_23){_23=_40}}
if(!_36){_36=Math.ceil(_30*
Math.max(_14.pixelsPerGradation,_21+_19)*
(_28-1))>_31}
if(!_37){_37=Math.ceil(_30*
Math.max(_14.pixelsPerGradation,_23+_18)*
(_28-1))>_31}}}
if(!_16){_23=Math.ceil(_23/2)}
var _42=[];if(_34){_42.push({parallel:Math.max(Math.ceil(_30*
Math.max(_14.pixelsPerGradation,_21+_19)*
(_28-1)),this.$111d),perpendicular:Math.max(_22,this.$111e),$1071:!_2&&_33,$108b:_24,$117i:_29,$1072:true,$1073:false})}
if(_35){_42.push({parallel:Math.max(Math.ceil(_30*
Math.max(_14.pixelsPerGradation,_23+_18)*
(_28-1)),this.$111d),perpendicular:Math.max((_16?0:_21),this.$111e),$1071:false,$108b:_24,$117i:_29,$1072:true,$1073:false})}
return _42},utility:function(_47,_48,_49){if(this.$1075)return 1.0;var _14=this.$103y,_43=_2?_48:_47,_9=this.$1079,_24=_49.$108b,_44=_24.last()-_24.first(),_28=_24.length,_45=_43*_9/_44*(_28-1);return isc.FacetChart.$1074(_14.pixelsPerGradation,3.0,_45)},getLabelDataPairs:function(_47,_48,_49){var _15=this.$104q,_29=_49.$117i;return _49.$108b.map(function(_25,i){var _46=(!_29||i==0?_15.formatAxisValue(_25,!_2):"");return{label:_46,dataValue:_25}})}}},isc.A.$107u=function isc_c_FacetChart__createLogGradationsAxis(_1){return{init:function(_7,_8,_32){this.$103y=_7;this.$104q=_8;this.$111d=_1?0:_32;this.$111e=_1?_32:0;var _2,_3;if(_7.chartType=="Scatter"){var _4=(_1?_7.getYAxisMetric():_7.getXAxisMetric());_2=_7.getMinValue(_4);_3=_7.getMaxValue(_4)}else{var _5=_7.$107l(_8);_2=_5.minValue;_3=_5.maxValue}
this.$1075=(_2==null&&_3==null);var _6=this.$1078=_8.gradationLabelProperties;this.$108c=_7.$107s(false,_6);this.$108d=_7.$107s(true,_6);this.$108b=_7.getLogGradations(_3,_2,null,_8);this.$78r=_7.$107a(_8)},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){if(this.$1075){return[{parallel:this.$111d,perpendicular:this.$111e,$1071:false,$1072:true,$1073:true}]}
var _7=this.$103y,_8=this.$104q,_9=_7.showInlineLabels,_6=this.$1078,_10=this.$108b,_11=_10.getLength(),_12=this.$108c,_13=this.$108d,_14=this.$78r;var _15=_7.logValue(_10.first(),null,_8),_16=_7.logValue(_10.last(),null,_8);var _17=[],_18=(_7.rotateLabels=="always"&&!_9),_19=_7.$116c();if(_1||(_19&&!_9)){var _20=_8.logGradations,_21;for(var i=0;i<_20.getLength();++i){var d=_7.logValue(_10[i+1],null,_8)
-_7.logValue(_10[i],null,_8);if(_21==null||d<_21){_21=d}}
var _24=0;for(var i=0;i<_11;++i){var _25=_7.measureLabel(_8.formatAxisValue(_10[i],!_1),_6).width;if(_25>_24)_24=_25}
_17.push({parallel:Math.max(Math.ceil((_14+_13)*(_16-_15)/_21),this.$111d),perpendicular:Math.max(_24,this.$111e),$1071:!_1&&_19,$1072:true,$108b:_10,$1073:true})}
if(!(_1||_18)){var _26=0.0,_27=_7.measureLabel(_8.formatAxisValue(_10[0],!_1),_6).width,_28=_15;for(var i=1;i<_11;++i){var w=_7.measureLabel(_8.formatAxisValue(_10[i],!_1),_6).width,_30=_7.logValue(_10[i],null,_8),_21=_30-_28,m;if(!_9){m=Math.ceil(((_27+w)/2.0+_12)*(_16-_15)/_21)}else if(i!=_11-1){m=Math.ceil((w+_12)*(_16-_15)/_21)}
if(m>_26)_26=m;_27=w;_28=_30}
_17.push({parallel:Math.max(_26,this.$111d),perpendicular:Math.max((_9?0:_14),this.$111e),$1071:false,$1072:true,$108b:_10,$1073:true})}
return _17},utility:function(_32,_33,_34){return _34.$1071?0.5:1.0},getLabelDataPairs:function(_32,_33,_34){if(this.$1075){return[]}
var _8=this.$104q;return this.$108b.map(function(_35){return{label:_8.formatAxisValue(_35,!_1),dataValue:_35}})}}},isc.A.$1070=function isc_c_FacetChart__createLabelCollapseModeNoneAxis(_1){return{init:function(_2,_22,_23){this.$103y=_2;this.$68q=_2.getOrderedData();this.$1078=_2.dataLabelProperties;this.$78r=_2.getDataLabelHeight()},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){var _2=this.$103y,_3=_2.showInlineLabels,_4=this.$68q,_5=this.$1078,_6=_4.getLength(),_7=this.$78r,_8=(_6-1)*_7,_9=0,_10=0;for(var i=0;i<_6;++i){var _12=_4[i].title;var _13=_2.measureLabel(_12,_5).width;if(i==0||i==_6-1){_10+=Math.ceil(_13/2)}else{_10+=_13}
if(_13>_9)_9=_13}
var _14=[],_15=(_2.rotateLabels=="always"&&!_3),_16=_2.$116c(),_17=!_1&&_16&&!_3;if(_1||_17){_14.push({parallel:0,perpendicular:_9,$1071:!_1&&_16,$1072:false,$108e:_8,$108f:_10})}
if(!(_1||_15)){_14.push({parallel:(_17?_10:0),perpendicular:(_3?0:_7),$1071:false,$1072:false,$108e:_10})}
return _14},utility:function(_22,_23,_24){var _18=_1?_23:_22,_19=_24.$108e,_20=_24.$1071,_21=_24.$108f,_15=(this.$103y.rotateLabels=="always"&&!this.$103y.showInlineLabels);if(_20&&!_15&&_21<_18){return 0.0}else if(_19>_18){return 0.5*isc.FacetChart.$1074(_18,0.1*_18,_19)}else{return 1.0}},getLabelDataPairs:function(_22,_23,_24){var _4=this.$68q;return _4.map(function(_25){return{label:_25.title,dataValue:_25.title}})}}},isc.A.$107x=function isc_c_FacetChart__createLabelCollapseModeNumericAxis(_1){return{init:function(_4,_21,_22){this.$103y=_4;this.$68q=_4.getOrderedData();this.$1078=_4.gradationLabelProperties;this.$78r=_4.$107a();var _2=this.$108g=isc.FacetChart.$107v(false,_1);_2.init(_4,_21,_22);while(_2.decreaseScope());this.$108h=0},increaseScope:function(){var _2=this.$108g;var _3=this.$108h==0||_2.increaseScope();if(_3)++this.$108h;return _3},decreaseScope:function(){var _2=this.$108g;var _3=this.$108h>0;if(_3){if(this.$108h!=1)_2.decreaseScope();--this.$108h}
return _3},measure:function(){var _4=this.$103y,_5=_4.showInlineLabels,_6=this.$1078,_7=this.$68q,_2=this.$108g,_8=this.$78r,_9=this.$108h!=0;if(!_9){var _10=_7.getLength(),_11=_8,_12=(_10-1)*_11,_13=0,_14=0;for(var i=0;i<_10;++i){var _16=_4.formatAxisValue(_7[i].title,!_1),_17=_4.measureLabel(_16,_6).width;if(!_5&&(i==0||i==_10-1)){_14+=Math.ceil(_17/2)}else if(!_5||(i!=_10-1)){_14+=_17}
if(_17>_13)_13=_17}
var _18=[],_19=(_4.rotateLabels=="always"&&!_5),_20=_4.$116c();if(_1||(_20&&!_5)){_18.push({parallel:_12,perpendicular:_13,$1071:!_1&&_20,$1072:_9})}
if(!(_1||_19)){_18.push({parallel:_14,perpendicular:(_5?0:_11),$1071:false,$1072:_9})}
return _18}else{return _2.measure().map(function(_21){_21.$1072=true;return _21})}},utility:function(_21,_22,_23){var _2=this.$108g,_9=_23.$1072;return!_9?1.0:0.5*_2.utility(_21,_22,_23)},getLabelDataPairs:function(_21,_22,_23){var _4=this.$103y,_7=this.$68q;_2=this.$108g,_9=_23.$1072;if(!_9){return _7.map(function(_24){return{label:_4.formatAxisValue(_24.title,!_1),dataValue:_24.title}})}else{return _2.getLabelDataPairs(_21,_22,_23)}}}},isc.A.$107y=function isc_c_FacetChart__createLabelCollapseModeTimeAxis(_1){var _2=0,_3=1000,_4=60*_3,_5=15*_4,_6=2*_5,_7=2*_6,_8=24*_7,_9=7*_8,_10=30*_8,_11=3*_10,_12=365*_8;return{init:function(_45,_112,_113){this.$103y=_45;var _13=this.$68q=_45.getOrderedData();var _14=this.$102j=_45.$1068();var _15=this.$108i=_45.$107l();this.$1075=(_15.minDataValue==null&&_15.maxDataValue==null);var _16=this.$115u=(_45.chartType=="Column");var _17=this.$1078=_45.gradationLabelProperties;this.$108j=_45.measureLabel("Apr 99",_17);this.$108k=_45.measureLabel("Apr 9999",_17);this._9999=_45.measureLabel("9999",_17);this._2359pm=_45.measureLabel(isc.Time.toShortTime(isc.Time.parseInput("23:59pm")),_17);this.$108l=this.$108m();var _18=_15.minDataValue,_19=_15.maxDataValue,_20=_14[0].index,_21=1+_14[1].index,_22=_21-_20,_23;if(_22<2){_23=[_2]}else{_23=[_5,_6,_7,_8,_9,_10,_11,_12];var _24=null;if(_16){var i=_20,_26=_13[i].title.getTime(),_27=_13[i+1].title.getTime();for(;i<_21-1;_26=_27,_27=_13[++i].title.getTime()){var _28=_27-_26;if(_28>0&&(_24==null||_28<_24)){_24=_28}}}else{_24=(_19.getTime()-_18.getTime())/(_22-1)}
for(var i=0;i<_23.length-1;){if(_23[i]+_23[i+1]<2*_24){_23.splice(i,1)}else{++i}}
_23.push(_2)}
this.$108s=_23;this.$76w=_23.indexOf(_2)},increaseScope:function(){if(this.$108n)return false;var _23=this.$108s,_29=this.$76w<_23.getLength()-1;if(_29)++this.$76w;return _29},decreaseScope:function(){if(this.$1075)return false;var _29=this.$76w>0;if(_29)--this.$76w;return _29},$bh:function(_62,_82){var _30=_82.getFullYear(),_31=_82.getMonth(),_32=_82.getDate(),_33=_82.getHours(),_34=_82.getMinutes();if(_62==_5){return new Date(_30,_31,_32,_33,15*Math.floor(_34/15),0,0)}else if(_62==_6){return new Date(_30,_31,_32,_33,30*Math.floor(_34/30),0,0)}else if(_62==_7){return new Date(_30,_31,_32,_33,0,0,0)}else if(_62==_8){return new Date(_30,_31,_32)}else if(_62==_9){var _35=isc.DateChooser.getPrototype().firstDayOfWeek,_36=_32-((7+_82.getDay()-_35)%7);return new Date(_30,_31,_36)}else if(_62==_10){return new Date(_30,_31,1)}else if(_62==_11){return new Date(_30,3*Math.floor(_31/3),1)}else if(_62==_12){return new Date(_30,0,1)}},$108o:function(_62,_82){var _30=_82.getFullYear(),_31=_82.getMonth(),_32=_82.getDate(),_33=_82.getHours(),_34=_82.getMinutes(),_37=_82.getSeconds(),_38=_82.getMilliseconds();if(_62==_5){if(_37+_38>0)++_34;return new Date(_30,_31,_32,_33,15*Math.ceil(_34/15),0,0)}else if(_62==_6){if(_37+_38>0)++_34;return new Date(_30,_31,_32,_33,30*Math.ceil(_34/30),0,0)}else if(_62==_7){if(_34+_37+_38>0)++_33;return new Date(_30,_31,_32,_33,0,0,0)}else if(_62==_8){if(_33+_34+_37+_38>0)++_32;return new Date(_30,_31,_32)}else if(_62==_9){var _35=isc.DateChooser.getPrototype().firstDayOfWeek,_39=_82.getDay();if(_33+_34+_37+_38>0){++_32;_39=(_39+1)%7}
var _40=_32+((7-(_39-_35))%7);return new Date(_30,_31,_40)}else if(_62==_11){if(_37+_38+_34+_33+_32-1>0)++_31;return new Date(_30,3*Math.ceil(_31/3),1)}else{var _41=this.$bh(_62,_82);if(_41.getTime()==_82.getTime()){return _41}else if(_62==_10){return new Date(_30,_31+1,1)}else if(_62==_12){return new Date(_30+1,0,1)}}},$115v:function(_62,_82){var _27=_82.getTime(),_41=this.$bh(_62,_82),_42=_41.getTime(),_43=this.$108o(_62,_82),_44=_43.getTime();if(_27-_42<_44-_27){return _41}else{return _43}},$115w:function(_62,_82,_112){var _30=_82.getFullYear(),_31=_82.getMonth(),_32=_82.getDate(),_33=_82.getHours(),_34=_82.getMinutes();if(_62==_5){return new Date(_30,_31,_32,_33,_34+15*_112,0,0)}else if(_62==_6){return new Date(_30,_31,_32,_33,_34+30*_112,0,0)}else if(_62==_7){return new Date(_30,_31,_32,_33+_112,0,0,0)}else if(_62==_8){return new Date(_30,_31,_32+_112)}else if(_62==_9){return new Date(_30,_31,_32+7*_112)}else if(_62==_10){return new Date(_30,_31+_112,1)}else if(_62==_11){return new Date(_30,_31+3*_112,1)}else if(_62==_12){return new Date(_30+_112,0,1)}},$39n:function(_62,_82){return this.$115w(_62,_82,1)},$115x:function(_62,_82){return this.$115w(_62,_82,-1)},$108m:function(){var _45=this.$103y,_46=Date.getShortMonthNames(),_47=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_48=Date.getShortDayNames(),_49=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(var i=0,_22=_46.getLength();i<_22;++i){if(_46[i]!=_47[i]){return true}}
for(var i=0,_22=_48.getLength();i<_22;++i){if(_48[i]!=_49[i]){return true}}
return false},$115y:function(_45,_13,_74,_112,_113){var _50=0,_51=Math.max(_112/_113*_74),_52={},_53=1;for(var i=1000;(_51-_50>_53)&&i--;){var _54=Math.round((_50+_51)/2);_52=_45.$115t(_45,_13,_74,_54+2*_45.dataMargin,0,_52);var _55=_113*_52.clusterSize+(_113-1)*_52.clusterGap;if(_55<=_112){_50=_54}else{_51=_54}}
return _51},measure:function(){var _45=this.$103y,_16=this.$115u,_56=_16&&_45.isMultiFacet()&&!_45.isStacked(),_57=_45.showInlineLabels,_17=this.$1078,_58=Math.max(_45.$106h(),_45.$106f()),_59=1.5*_58,_60=_45.$107s(false,_17),_61=_45.$107s(true,_17),_23=this.$108s,_62=_23[this.$76w],_63=(!_16&&_62!=_2),_64=[],_22,_65=(_45.rotateLabels=="always"&&!_45.showInlineLabels),_66=_45.$116c(),_67=(_1||(_66&&!_45.showInlineLabels)),_68=!(_1||_65);var _69=(this.$108l?5:0);var _70=0,_71,_72=0,_73;var _15=this.$108i,_13=this.$68q;if(_16){var _14=this.$102j,_20=_14[0].index,_21=1+_14[1].index,_74=_21-_20;var k=(_62==_2?1:null),_76=0,_77=null,_78=true;var _79=(_62!=_2&&this.$115v(_62,_13[_20].title)),_80=_20;for(var i=_20,_81=false;i<_21;){var _82;if(_62==_2){_82=_79=_13[i].title}else{var j=isc.FacetChart.$96c(_13,i,_21-1,"title",_79,_45.$107o);if(j<0){var _84=-(1+j);if(_84==i&&!_81){_81=true;_79=this.$115v(_62,_13[i].title);continue}else if(_84==_21){break}else{var _27=_79.getTime(),_85=(_84>i),_86=_85&&_13[_84-1].title,_26=_85&&this.$115x(_62,_79).getTime(),_87=_85&&((_27-_86.getTime())/(_27-_26)),_88=_85&&(0<=_87&&_87<0.1),_89=(_84<_21),_90=_89&&_13[_84].title,_91=_89&&this.$39n(_62,_79).getTime(),_92=_89&&((_90.getTime()-_27)/(_91-_27)),_93=_89&&(0<=_92&&_92<0.1);if(_88&&_93){_88=(_87<_92);_93=!_88}
if(_88){i=_84-1}else if(_93){i=_84}else{if(!_81){_81=true;_79=this.$115v(_62,_13[i].title)}else{_81=false;++i}
continue}}}else{i=j}
var _94=i-_80;if(_80!=_20&&(k==null||_94<k)){k=_94}
_82=_13[i].title}
var _95=this.$115z(_62,_79,_78);_64.push({dataValue:_82,label:_95});if(_62==_2){var _96=_95.length;if(_96>_76){_76=_96;_77=_95}}else{_81=false;_79=this.$39n(_62,_79)}
_78=false;_80=i;++i}
var _71,_73;if(_62==_2){_73=_45.measureLabel("Xy",_17).height;_71=_45.measureLabel(_77||"",_17).width}else if(_62==_5||_62==_6||_62==_7){var _97=this.$108j,_98=this._2359pm;_71=Math.max(_97.width+_69,_98.width);_73=Math.max(_97.height,_98.height)}else if(_62==_8||_62==_9){var _99=this.$108j;_71=_99.width+_69;_73=_99.height}else if(_62==_10||_62==_11){var _99=this.$108k;_71=_99.width+_69;_73=_99.height}else if(_62==_12){var _99=this._9999;_71=_99.width;_73=_99.height}
if(_67){if(k!=null&&_74>1){_72=this.$115y(_45,_13,_74,_73+_61,k)}else{_72=0}}
if(_68){if(k!=null&&_74>1){_70=this.$115y(_45,_13,_74,_71+_60,k)}else{_70=0}}}else{var _18,_100,_19,_101;if(_62!=_2){var _102=_15.minDataValue,_103=_15.maxDataValue;if(_16){_18=_102;_19=_103}else{_18=this.$108o(_62,_102);_19=this.$bh(_62,_103);if(Date.compareDates(_18,_19)<=0){_18=this.$bh(_62,_102);_19=this.$108o(_62,_103);if(Date.compareDates(_18,_19)<=0){_18=this.$bh(_62,new Date(_18.getTime()-1));_19=this.$108o(_62,new Date(_19.getTime()+1))}}}
_100=_18.getTime();_101=_19.getTime()}
if(_62==_2){var _14=this.$102j,_20=_14[0].index,_21=1+_14[1].index;_22=_21-_20;_73=_45.measureLabel("Xy",_17).height;_72=(_22-1)*(_73+_61);_70=(_22-1)*_60;var _104=(_67&&_72>_59),_105=false,i=0,_106=_72,_107=_70;for(i=_20;i<_21&&!(_105||_104);++i){_105=(_68&&_70>_59);var _82=_13[i].title,_95=_82.toNormalDatetime();var _108=_45.measureLabel(_95,_17).width;if(!_57&&(i==_20||i==_21-1)){_70+=Math.ceil(_108/2)}else if(!_57||i!=_21-1){_70+=_108}
if(_71==null||_108>_71)_71=_108;_64.push({dataValue:_82,label:_95})}
if(_105||_104){if(i==_20){i=_20+1}
_72=_106+Math.ceil((_72-_106)/(i-_20)*_22);_70=_107+Math.ceil((_70-_107)/(i-_20)*_22);if(_71==null){_71=Math.ceil(_70/(i-_20))}
_64=[]}}else if(_62==_5||_62==_6||_62==_7){var _109=this.$bh(_8,_18).getTime();_22=1+Math.round((_101-_100)/_62);var _97=this.$108j,_98=this._2359pm;_71=Math.max(_97.width+_69,_98.width);_73=Math.max(_97.height,_98.height);_70=(_22-1)*(_71+_60);_72=(_22-1)*(_73+_61);var _104=(_67&&_72>_59),_105=(_68&&_70>_59);if(!(_104||_105)){for(var i=0;i<_22;++i){var _27=_100+i*_62,_82=new Date(_27),_95;if((_27-_109)%_8==0){_95=_82.getShortMonthName()+" "+_82.getDate()}else{_95=isc.Time.toShortTime(_82)}
_64.push({dataValue:_82,label:_95})}}}else if(_62==_8||_62==_9){_22=1+Math.round((_101-_100)/_62);var _99=this.$108j;_71=_99.width+_69;_73=_99.height;_70=(_22-1)*(_99.width+_69+_60);_72=(_22-1)*(_99.height+_61);var _104=(_67&&_72>_59),_105=(_68&&_70>_59);if(!(_104||_105)){for(var i=0;i<_22;++i){var _82=new Date(_100+i*_62),_95=_82.getShortMonthName()+" "+_82.getDate();_64.push({dataValue:_82,label:_95})}}}else if(_62==_10||_62==_11){var _46=isc.Date.getShortMonthNames(),_31=_18.getMonth(),_30=_18.getFullYear();_22=1+Math.round((_101-_100)/_62);var _99=this.$108k;_70=(_22-1)*(_99.width+_69+_60);_72=(_22-1)*(_99.height+_61);_71=_99.width+_69;_73=_99.height;var _104=(_67&&_72>_59),_105=(_68&&_70>_59);if(!(_104||_105)){for(var i=0;i<_22;++i){var m=(_31+(_62==_10?i:3*i))%12;if(i!=0&&m==0)++_30;var _95=(((i==0&&(_22==1||m!=(_62==_10?11:9)))||m==0)?""+_30:_46[m]);_64.push({dataValue:new Date(_100+Math.round(i*(_101-_100)/(_22-1))),label:_95})}}}else if(_62==_12){var _30=_18.getFullYear();_22=_19.getFullYear()-_18.getFullYear()+1;var _99=this._9999;_70=(_22-1)*(_99.width+_60);_72=(_22-1)*(_99.height+_61);_71=_99.width;_73=_99.height;for(var i=0;i<_22;++i){_64.push({dataValue:new Date(_100+Math.round(i*(_101-_100)/(_22-1))),label:""+_30});++_30}}}
var _111=[];if(_67){_111.push({parallel:_72,perpendicular:_71,$1071:!_1&&_66,$1072:_63,$1073:false,$108p:_64})}
if(_68){_111.push({parallel:_70,perpendicular:(_57?0:_73),$1071:false,$1072:_63,$1073:false,$108p:_64})}
return _111},utility:function(_112,_113,_114){var _23=this.$108s,_54=_1?_113:_112;if(_23[this.$76w]==_2){return 1.0}else{return 0.5*(1.0-this.$76w/_23.getLength())}},getLabelDataPairs:function(_112,_113,_114){return _114.$108p},$115z:function(_62,_82,_112){if(_62==_2){return _82.toNormalDatetime()}else if(_62==_5||_62==_6||_62==_7){if(_82.getHours()==0&&_82.getMinutes()==0){return _82.getShortMonthName()+" "+_82.getDate()}else{return isc.Time.toShortTime(_82)}}else if(_62==_8||_62==_9){return _82.getShortMonthName()+" "+_82.getDate()}else if(_62==_10||_62==_11){var _31=_82.getMonth();if(_112||(_31==0)){return""+_82.getFullYear()}else{return isc.Date.getShortMonthNames()[_31]}}else if(_62==_12){return""+_82.getFullYear()}else{return""}}}});isc.evalBoundary;isc.B.push(isc.A.$107z=function isc_c_FacetChart__createLabelCollapseModeSampleAxis(_1){return{init:function(_15,_27,_28){this.$103y=_15;var _2=this.$68q=_15.getOrderedData(),_3=_15.$1068(),_4=this.$d=_3[0].index,_5=_3[1].index,_6=this.$108q=_5-_4+1;var _7="",_8=0;for(var i=_4;i<=_5;++i){var _10=_2[i].title.toString();if(_10.length>_8){_7=_10;_8=_10.length}}
this.$108r=_15.measureLabel(_7,_15.dataLabelProperties).width;this.$78r=_15.getDataLabelHeight();this.$108c=_15.$107s(false,_15.dataLabelProperties);this.$108d=_15.$107s(true,_15.dataLabelProperties);var _11=_1?_15.$106f():_15.$106h();this.$108s=_6<2?[1]:[];for(var i=_6-1;i>=1;--i){var n=1+Math.floor((_6-1)/i);if(this.$108s.indexOf(n)==-1){this.$108s.push(n)}}
this.$109v=this.$109w(_6);this.$76w=this.$108s.length-1},$102j:function(_27,_28){var _6=_28-_27+1,r=new Array(_6);for(var i=0;i<_6;++i){r[i]=_27+i}
return r},$109w:function(n){if(n>2){return isc.FacetChart.$108v(n-1).sort(function(_27,_28){return _27-_28}).map(function(_27){return _27+1})}else{return[n]}},increaseScope:function(){var _14=(this.$76w<this.$108s.getLength()-1);if(_14)++this.$76w;return _14},decreaseScope:function(){var _14=this.$76w>0;if(_14)--this.$76w;return _14},measure:function(){var _15=this.$103y,_16=_15.showInlineLabels,_17=this.$108s[this.$76w],_18=this.$78r,_19=this.$108c,_20=this.$108d,_21=(_15.rotateLabels=="always"&&!_16),_22=_15.$116c(),_23=[];if(_1||(_22&&!_16)){_23.push({parallel:(_17>2?(_17-1)*(_18+_20):0),perpendicular:this.$108r,$1071:!_1&&_22,$1072:false})}
if(!(_1||_21)){_23.push({parallel:(_17>2?(_17-1)*(this.$108r+_19):0),perpendicular:(_16?0:_18),$1071:false,$1072:false})}
return _23},utility:function(_27,_28,_29){var j=this.$109v.indexOf(this.$108s[this.$76w]);if(j!=-1){return j/(this.$109v.getLength()+1)}else{return 0.2*this.$76w/(this.$108s.getLength()+1)}},getLabelDataPairs:function(_27,_28,_29){var _15=this.$103y,_2=this.$68q,n=this.$108s[this.$76w],_4=this.$d,_6=this.$108q;var _25=_6>2?Math.floor((_6-1)/(n-1)):1,_26=[];for(var i=0;i<n-1;++i){var j=_4+_25*i;_26.push({label:_2[j].title,dataValue:_2[j].title})}
if(_6>1){_26.push({label:_2[_4+_6-1].title,dataValue:_2[_4+_6-1].title})}
return _26}}},isc.A.$108v=function isc_c_FacetChart__getDivisors(_1){var _2=isc.FacetChart.$108w,_3=[],_4=[],_5=[];if(_1!=1){var _6=[_1];while(!_6.isEmpty()){var m=_6.pop();var p=_2(m);if(p==1){_3.push(m)}else{_6.push(p);_6.push(m/p)}}}
for(var i=0,_10=0,_11=_3.getLength();i<_11;++i){var j=i-_10;var _13=_3[j];var _14=1;var _15=0;for(var k=j+1;k<_11;++k){var l=k-_10-_15;if(_3[l]==_13){++_14;++_15;_3.splice(l,1)}}
_11-=_15;_4[j]=_14}
var _18=1;var _19=[];for(var i=0,_11=_4.getLength();i<_11;++i){_19.push(_18);_18*=(_4[i]+1)}
_19.push(_18);for(var i=0;i<_18;++i){var _20=1;for(var j=0,_11=_3.getLength();j<_11;++j){_20*=Math.pow(_3[j],Math.floor(i/_19[j])%(_4[j]+1))}
_5.push(_20)}
return _5},isc.A.$108w=function isc_c_FacetChart__findFactor(_1){var _2=isc.FacetChart.$108x(1,_1);if(_2!=null)return _2;_2=isc.FacetChart.$108x(8,_1);if(_2!=null)return _2;if(_1==4){return 2}else if(_1==5713){return 197}else if(_1==8927){return 113}else if(_1==42733){return 283}else if(_1==51379){return 269}
return 1},isc.A.$108y=function isc_c_FacetChart__gcd(_1,_2){var _3=_1,_4=_2,_5;while((_5=_3%_4)!=0){_3=_4;_4=_5}
return _4},isc.A.$108x=function isc_c_FacetChart__pollardRho(_1,_2){var _3=isc.FacetChart.$108y,x=2,y=2,d=1;while(d==1){x=(x*x+_1)%_2;var _7=(y*y+_1)%_2;y=(_7*_7+_1)%_2;d=_3(Math.abs(x-y),_2)}
return(d==_2?null:d)},isc.A.$111b=function isc_c_FacetChart__objective(_1,_2,_3,_4,_5,_6,_7,_8){var _9=isc.isAn.Object(_8),_10=isc.FacetChart.$111f(_2,_5);if(!_9&&_10!=null){return _10}
var _11=_3.length;for(var i=_11;i--;){if(_1[i][_5[i]]==null){_1[i][_5[i]]=_3[i].measure()}}
var _13=null,k=_3.indexOf(_4);var i=1;for(var j=_11;j--;){i*=_1[j][_5[j]].length}
var _16=new Array(_11),_17=new Array(_11),_18=new Array(_11);for(;i--;){var _19=false,_20=0,_21=null;for(var j=_11,n=i;j--;){var m=_1[j][_5[j]],d=_18[j]=n%m.length,_25,_26;if(j==k){_25=_16[j]=m[d].parallel;_26=_17[j]=m[d].perpendicular}else{_25=_16[j]=m[d].perpendicular;_26=_17[j]=m[d].parallel}
_20+=_25;_21=(_21==null?_26:Math.max(_21,_26));n=(n-d)/m.length}
if(_20<=_6&&_21<=_7){_16[k]+=_6-_20;var _27=_7-_17[k],_28=1.0;for(var j=_11;j--;){var m=_1[j][_5[j]];if(j!=k){_17[j]=_27}
_28*=(1+_3[j].utility(_16[j],_17[j],m[_18[j]]))}
if(_13==null||_28>_13){_19=true;_13=_28}}else{var _28=Math.min((_6-_20)*_7,_6*(_7-_21));if(_13==null||_28>_13){_19=true;_13=_28}
var _29=_17[k]=Math.min(_17[k],_7),_30=0;for(var j=_11;j--;){if(j!=k){if(_6<_20){var w=_16[j]=Math.floor(_16[j]*_6/_20);_30+=w}
_17[j]=_7-_29}}
if(!(_6<_20)){_30=_20-_16[k]}
_16[k]=_6-_30}
if(_19&&_9){var _32=new Array(_11);for(var j=_11;j--;){_32[j]=_1[j][_5[j]][_18[j]]}
isc.addProperties(_8,{axisMeasures:_32.duplicate(),axisWidths:_16.duplicate(),axisHeights:_17.duplicate()})}}
isc.FacetChart.$111g(_2,_5,_13);return _13},isc.A.$111f=function isc_c_FacetChart__getCacheByAxes(_1,_2){var _3=_2.length;for(var i=0;i<_3-1;++i){if(_1[_2[i]]==null){return null}else{_1=_1[_2[i]]}}
return _1[_2[_3-1]]},isc.A.$111g=function isc_c_FacetChart__setCacheByAxes(_1,_2,_3){var _4=_2.length;for(var i=0;i<_4-1;++i){if(_1[_2[i]]==null){_1=_1[_2[i]]=[]}else{_1=_1[_2[i]]}}
_1[_2[_4-1]]=_3;return _3},isc.A.$111c=function isc_c_FacetChart__localSearch(_1,_2,_3){var _4=isc.FacetChart.$1083,_5=isc.FacetChart.$108z,_6=isc.FacetChart.$1080,_7=isc.FacetChart.$96c,_8=this,_9=_1.length;var _10=new Array(2*_9);for(var i=2*_9;i--;)_10[i]=null;var _12=[];var _13=_3.duplicate();var _14=_2(_3);isc.FacetChart.$111g(_12,_3,_14);var _15=this.$1081();for(;;){var _16=_3.duplicate(),_17=isc.FacetChart.$111f(_12,_3),_18;if(_17==null){_18=isc.FacetChart.$111g(_12,_3,_2(_3))}else{_18=_17}
var _19=null,_20=null,_21=[],_22=[],_23=new Array(_9);for(var i=_9;i--;){_23[i]=0}
var _24=true,_25=true,_26=0,_27=0;for(var i=_9;i--;){var _28=true,_29=true;for(var _30=-1;_30<=1;_30+=2){_23[i]=_30;var _31=_4(_1,_23,_3,_10);if(_31){var u=_2(_3);if(u>_18){_21.push(_3.duplicate());_22.push(u)}
_24=_24&&_18>=u;_25=_25&&_18<=u;_28=_28&&_18>u;_29=_29&&_18<u;isc.FacetChart.$111g(_12,_3,u);if(_19==null||u>_19){_19=u;_20=_3.duplicate()}}
_5(_1,_3,_16,_10)}
if(!(_29&&_28)){if(_29)++_27;if(_28)++_26}
_23[i]=0}
var _33=!_24&&(_9<2||(_27>1&&_26>1));_25=_25&&!(_24||_33);if(_19!=null&&_19>_14){_14=_19;_13=_20}
if(_24&&_18>=0){return _3}
_15.visit(_16,_18,_24,_25,_33,_21,_22);var _34=_15.getNewLead();if(_34!=null){_5(_1,_3,_34)}else{var _35=false;if(_9==2){this.$1082(_1,_10,_3,null,false,function(_37){var u=_2(_37),_36=u>_14;isc.FacetChart.$111g(_12,_37,u);if(_36){_14=u;_13=_37.duplicate();_35=true}
return _36})}
if(!_35){_5(_1,_3,_13);return null}}}},isc.A.$1082=function isc_c_FacetChart__spiral(_1,_2,_3,_4,_5,_6){var _7=isc.FacetChart.$1083;var _8=true;if(_2==null){_2=[null,null,null,null]}
if(!isc.isA.Number(_4)&&_4!=Number.NEGATIVE_INFINITY){_4=Number.POSITIVE_INFINITY}else if(_4<0){_4=0}
if(_5&&_6&&_6(_3)==_8){return}
var _9=_3.duplicate();var _10=[1,1];var _11=[0,0,0,0];var _12=[1,1];var _13=[0,0];var _14=false;var _15=false;var _16=false;for(var k=0,l;true;k=l){l=(k+1)%2;var w=_10[k],h=_10[l];var _21=_12[k];var _22=_2[_21+1+k];_13[k]=_21;_13[l]=0;var r;var _24=(_22==null||_21*_3[k]<_21*_22);var _25=!_15&&_24&&(r=_11[_21+1+k])<_4&&r<1+_11.min();if(_25&&_7(_1,_13,_3)!=null){++_10[k];++_11[_21+1+k];_12[k]=-_12[k];if(_6&&_6(_3)==_8){return}
_13[k]=0;_13[l]=_12[l];for(var i=0,_27=h-1;i<_27;++i){_7(_1,_13,_3);if(_6&&_6(_3)==_8){return}}
_14=_16=false}else{if(_25){_2[_21+1+k]=_3[k]}
if(!_24||_25){_11[_21+1+k]=_4}
if(!_14){_12[k]=-_12[k];_12[l]=-_12[l];_14=true;continue}
_21=-_12[k];_22=_2[_21+1+k];_24=(_22==null||_21*(_3[k]+_21*w)<=_21*_22);if(_24&&_11[_21+1+k]<_4)
{_12[k]=-_12[k];_13[k]=(w-1)*_21;_13[l]=0;_7(_1,_13,_3);_15=_16=false;l=k}else{if(!_24){_11[_21+1+k]=_4}
if(!_15){_12[k]=-_12[k];_12[l]=-_12[l];_15=true;continue}else{if(!_16){_14=_15=false;_16=true;_12[k]=-_12[k];_12[l]=-_12[l];continue}
return}}}}},isc.A.$1081=function isc_c_FacetChart__createLocationGraph(){return{vertices:[],leads:[],$1084:function(_10,_11){return _10-_11},$1085:function(_10){return _10.join(",")},$1086:function(_1){return _1.split(",").map(parseInt,10)},$1087:function(_10){var _1=this.$1085(_10);var j=isc.FacetChart.$96c(this.vertices,0,this.vertices.length-1,"key",_1);if(j<0){var _3={key:_1,forward:[],reverse:[]};this.vertices.addAt(_3,-(1+j));return _3}else{return this.vertices[j]}},getNewLead:function(){var _4;while(!this.leads.isEmpty()&&!(_4=this.leads.pop()).visited);return _4!=null?this.$1086(_4.key):null},visit:function(_10,_11,_12,_13,_14,_15,_16){var _4=this.$1087(_10);_4.visited=true;_4.utility=_11;_4.maximum=_12;_4.minimum=_13;_4.saddle=_14;_4.temporary=!(_12||_13||_14);for(var i=0,_6=_15.length;i<_6;++i){var _7=this.$1087(_15[i]),u=_16[i];if(u>_11){if(!_7.visited){var j=isc.FacetChart.$96c(this.leads,0,this.leads.length-1,"utility",u,this.$1084);this.leads.addAt(_7,j<0?-(1+j):j)}
this.$1088(_4,_7)}}},$1088:function(_10,_11){if(_11.visited){while(_11.temporary&&!_11.forward.isEmpty()){_11=_11.forward[0]}}
var j=isc.FacetChart.$96c(_10.forward,0,_10.forward.length-1,"key",_11.key);if(j<0){_10.forward.addAt(_11,-(1+j))}
var k=isc.FacetChart.$96c(_11.reverse,0,_11.reverse.length-1,"key",_10.key);if(k<0){_11.reverse.addAt(_10,-(1+k))}}}},isc.A.$1083=function isc_c_FacetChart__move(_1,_2,_3,_4){var _5=_1.length,_6=true;if(_4!=null){for(var i=_5;_6&&i--;){var _8=_4[i],_9=_4[_5+i],_10=_3[i]+_2[i];_6=(_8==null||_8<=_10)&&(_9==null||_10<=_9)}
if(!_6){return null}}
for(var i=_5;_6&&i--;){var _11=Math.abs(_2[i]),_12=(_2[i]>0?1:-1),_13=_1[i],_14=_2[i]>0?"increaseScope":"decreaseScope";for(var j=0;_6&&j<_11;++j){_6=_13[_14].call(_13);if(_6){_3[i]+=_12}else if(_4!=null){_4[Math.max(_12,0)*_5+i]=_3[i]}}}
return _6?_3:null},isc.A.$108z=function isc_c_FacetChart__moveTo(_1,_2,_3,_4){var _5=_1.length,_6=new Array(_5);for(var i=_5;i--;){_6[i]=_3[i]-_2[i]}
return isc.FacetChart.$1083(_1,_6,_2,_4)},isc.A.$96c=function isc_c_FacetChart__binarySearch(_1,_2,_3,_4,_5,_6){if(!isc.isA.Function(_6))_6=null;if(_1.isEmpty())return-1;if(_6!=null&&_4!=null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),_8=_6(_5,_1[k][_4]);if(_8<0){_3=k}else if(_8>0){_2=k}else{return k}}
var k;var _9=_6(_5,_1[_2][_4]);if(_9<0){k=_2}else if(!(_9>0)){return _2}else{var _10=_6(_5,_1[_3][_4]);if(_2!=_3&&_10<0){k=_3}else if(_2!=_3&&!(_10>0)){return _3}else{k=_3+1}}
return-(1+k)}else if(_6==null&&_4!=null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),v=_1[k][_4];if(_5<v){_3=k}else if(_5>v){_2=k}else{return k}}
var k;if(_5<_1[_2][_4]){k=_2}else if(!(_5>_1[_2][_4])){return _2}else if(_2!=_3&&_5<_1[_3][_4]){k=_3}else if(_2!=_3&&!(_5>_1[_3][_4])){return _3}else{k=_3+1}
return-(1+k)}else if(_6==null&&_4==null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),v=_1[k];if(_5<v){_3=k}else if(_5>v){_2=k}else{return k}}
var k;if(_5<_1[_2]){k=_2}else if(!(_5>_1[_2])){return _2}else if(_2!=_3&&_5<_1[_3]){k=_3}else if(_2!=_3&&!(_5>_1[_3])){return _3}else{k=_3+1}
return-(1+k)}});isc.B._maxIndex=isc.C+28}else{isc.defineClass("FacetChart","Canvas","Chart");isc.A=isc.FacetChart;isc.A.invalidClass=true;isc.A.invalidErrorMessage="FacetChart class requires optional Drawing module which is not loaded. Please make sure the Drawing module is included in this page before the Charts module.";isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.initWidget=function isc_FacetChart_initWidget(){this.logWarn(isc.FacetChart.invalidErrorMessage);this.Super("initWidget",arguments)});isc.B._maxIndex=isc.C+1}
isc.A=isc.FacetChart;isc.A.allChartTypes=["Area","Column","Bar","Line","Pie","Doughnut","Radar"];isc.A.regressionLinesContextMenuItemTitle="Regression Lines";isc.A.hideRegressionLinesContextMenuItemTitle="None";isc.A.linearRegressionLinesContextMenuItemTitle="Straight Line";isc.A.polynomialRegressionLinesContextMenuItemTitle="Polynomial Curve";isc.A.polynomialDegreeRegressionLinesContextMenuItemTitle="Polynomial Degree...";isc.A.polynomialDegreePrompt="Enter a degree for the polynomial regression curve (must be a positive integer):";isc.A.invalidPolynomialDegreeMessage="The regression polynomial degree must be a positive integer.";isc._nonDebugModules=(isc._nonDebugModules!=null?isc._nonDebugModules:[]);isc._nonDebugModules.push('Charts');isc.checkForDebugAndNonDebugModules();isc._moduleEnd=isc._Charts_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('Charts module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'Charts'.");}

/*

  SmartClient Ajax RIA system
  Version v9.0p_2013-08-08/PowerEdition Development Only (2013-08-08)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

